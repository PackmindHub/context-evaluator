{"type":"file-history-snapshot","messageId":"786c985a-b492-4267-a622-fd74bf90537c","snapshot":{"messageId":"786c985a-b492-4267-a622-fd74bf90537c","trackedFileBackups":{},"timestamp":"2026-02-13T12:46:44.812Z"},"isSnapshotUpdate":false}
{"parentUuid":null,"isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"SessionStart","hookName":"SessionStart:clear","command":"entire hooks claude-code session-start"},"parentToolUseID":"69794a5e-76bb-4c8a-a428-e894e8fd2dda","toolUseID":"69794a5e-76bb-4c8a-a428-e894e8fd2dda","timestamp":"2026-02-13T12:46:44.596Z","uuid":"787478ab-e35f-4f0a-88cc-c550b8b3bb40"}
{"parentUuid":"787478ab-e35f-4f0a-88cc-c550b8b3bb40","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":"Implement the following plan:\n\n# Plan: Re-run Evaluation from Summary Page\n\n## Context\n\nAfter running an evaluation and applying remediation changes locally, users need a way to re-run the evaluation on the same repository to see updated results. Currently, they must go back to the home page and re-enter the git URL manually. This feature adds a \"Re-run\" button directly in the evaluation summary header, with an inline provider selector in non-cloud mode.\n\n## Changes\n\n### 1. Add `onReRun` prop and re-run UI to Summary component\n\n**File:** `frontend/src/components/Summary.tsx`\n\n- Add `onReRun?: (provider: ProviderName) => void` to `SummaryProps` (line 22)\n- Import `ProviderName` from `../hooks/useEvaluationApi`\n- Add `PROVIDERS` constant (same list as in `RepositoryUrlInput.tsx` lines 67-73)\n- Add `reRunProvider` state initialized from `metadata.agent` (with fallback to \"claude\" if agent is \"random\")\n- In the header section (lines 318-346), wrap the delete button in a flex container and add the re-run UI before it:\n  - **Non-cloud mode**: inline `<select>` dropdown (pre-selected to original provider) + \"Re-run\" button\n  - **Cloud mode**: just the \"Re-run\" button (passes `\"random\"` as provider)\n  - Use a refresh/cycle SVG icon on the button\n  - Style: compact `text-xs` dropdown matching header badges, `btn-primary`-style button at small scale\n\n### 2. Wire up `handleReRun` callback in App.tsx\n\n**File:** `frontend/src/App.tsx`\n\n- Import `ProviderName` from `./hooks/useEvaluationApi`\n- Fix `handleUrlSubmit` provider type from inline union `\"claude\" | \"opencode\" | \"cursor\" | \"github-copilot\"` to `ProviderName` (line 605) — this also fixes the missing `\"codex\"` and `\"random\"` types\n- Same fix for `handleBatchSubmit` (line 670)\n- Add `handleReRun` callback:\n  ```ts\n  const handleReRun = useCallback(\n      async (provider: ProviderName) => {\n          if (!currentRepositoryUrl) return;\n          await handleUrlSubmit(currentRepositoryUrl, 17, provider, \"all\");\n      },\n      [currentRepositoryUrl, handleUrlSubmit],\n  );\n  ```\n- Pass `onReRun={handleReRun}` to `<Summary>` component (line 1778, after `onDelete`)\n\n### No backend changes required\n\nThe feature reuses the existing `submitJob` → `POST /api/evaluate` → job manager flow entirely. No new API endpoints or backend modifications needed.\n\n## Files Modified\n\n| File | Change |\n|------|--------|\n| `frontend/src/components/Summary.tsx` | Add `onReRun` prop, provider dropdown, re-run button in header |\n| `frontend/src/App.tsx` | Add `handleReRun` callback, fix provider type, pass prop to Summary |\n\n## Reference Files (read-only)\n\n- `frontend/src/components/RepositoryUrlInput.tsx` — PROVIDERS constant pattern (lines 67-73), dropdown styling\n- `frontend/src/hooks/useEvaluationApi.ts` — `ProviderName` type (line 12), `submitJob` API\n- `frontend/src/contexts/FeatureFlagContext.tsx` — `cloudMode` flag already used in Summary\n\n## Verification\n\n1. Run `bun run test` to ensure no regressions\n2. Run `bun run lint` to check code quality\n3. Run `bun run typecheck` for TypeScript validation\n4. Manual testing:\n   - Start dev server: `bun run dev`\n   - Run an evaluation from the home page\n   - On the summary page, verify the re-run button appears in the header\n   - Non-cloud mode: verify provider dropdown is visible and pre-selected to the original agent\n   - Click \"Re-run\" — verify redirect to progress page for the new evaluation\n   - Cloud mode: verify only the button appears (no dropdown)\n\n\nIf you need specific details from before exiting plan mode (like exact code snippets, error messages, or content you generated), read the full transcript at: /Users/cedricteyton/.REDACTED.jsonl"},"uuid":"786c985a-b492-4267-a622-fd74bf90537c","timestamp":"2026-02-13T12:46:44.304Z","planContent":"# Plan: Re-run Evaluation from Summary Page\n\n## Context\n\nAfter running an evaluation and applying remediation changes locally, users need a way to re-run the evaluation on the same repository to see updated results. Currently, they must go back to the home page and re-enter the git URL manually. This feature adds a \"Re-run\" button directly in the evaluation summary header, with an inline provider selector in non-cloud mode.\n\n## Changes\n\n### 1. Add `onReRun` prop and re-run UI to Summary component\n\n**File:** `frontend/src/components/Summary.tsx`\n\n- Add `onReRun?: (provider: ProviderName) => void` to `SummaryProps` (line 22)\n- Import `ProviderName` from `../hooks/useEvaluationApi`\n- Add `PROVIDERS` constant (same list as in `RepositoryUrlInput.tsx` lines 67-73)\n- Add `reRunProvider` state initialized from `metadata.agent` (with fallback to \"claude\" if agent is \"random\")\n- In the header section (lines 318-346), wrap the delete button in a flex container and add the re-run UI before it:\n  - **Non-cloud mode**: inline `<select>` dropdown (pre-selected to original provider) + \"Re-run\" button\n  - **Cloud mode**: just the \"Re-run\" button (passes `\"random\"` as provider)\n  - Use a refresh/cycle SVG icon on the button\n  - Style: compact `text-xs` dropdown matching header badges, `btn-primary`-style button at small scale\n\n### 2. Wire up `handleReRun` callback in App.tsx\n\n**File:** `frontend/src/App.tsx`\n\n- Import `ProviderName` from `./hooks/useEvaluationApi`\n- Fix `handleUrlSubmit` provider type from inline union `\"claude\" | \"opencode\" | \"cursor\" | \"github-copilot\"` to `ProviderName` (line 605) — this also fixes the missing `\"codex\"` and `\"random\"` types\n- Same fix for `handleBatchSubmit` (line 670)\n- Add `handleReRun` callback:\n  ```ts\n  const handleReRun = useCallback(\n      async (provider: ProviderName) => {\n          if (!currentRepositoryUrl) return;\n          await handleUrlSubmit(currentRepositoryUrl, 17, provider, \"all\");\n      },\n      [currentRepositoryUrl, handleUrlSubmit],\n  );\n  ```\n- Pass `onReRun={handleReRun}` to `<Summary>` component (line 1778, after `onDelete`)\n\n### No backend changes required\n\nThe feature reuses the existing `submitJob` → `POST /api/evaluate` → job manager flow entirely. No new API endpoints or backend modifications needed.\n\n## Files Modified\n\n| File | Change |\n|------|--------|\n| `frontend/src/components/Summary.tsx` | Add `onReRun` prop, provider dropdown, re-run button in header |\n| `frontend/src/App.tsx` | Add `handleReRun` callback, fix provider type, pass prop to Summary |\n\n## Reference Files (read-only)\n\n- `frontend/src/components/RepositoryUrlInput.tsx` — PROVIDERS constant pattern (lines 67-73), dropdown styling\n- `frontend/src/hooks/useEvaluationApi.ts` — `ProviderName` type (line 12), `submitJob` API\n- `frontend/src/contexts/FeatureFlagContext.tsx` — `cloudMode` flag already used in Summary\n\n## Verification\n\n1. Run `bun run test` to ensure no regressions\n2. Run `bun run lint` to check code quality\n3. Run `bun run typecheck` for TypeScript validation\n4. Manual testing:\n   - Start dev server: `bun run dev`\n   - Run an evaluation from the home page\n   - On the summary page, verify the re-run button appears in the header\n   - Non-cloud mode: verify provider dropdown is visible and pre-selected to the original agent\n   - Click \"Re-run\" — verify redirect to progress page for the new evaluation\n   - Cloud mode: verify only the button appears (no dropdown)\n"}
{"parentUuid":"786c985a-b492-4267-a622-fd74bf90537c","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01RSbg6vkLNtdQYV7Y95Lxs6","type":"message","role":"assistant","content":[{"type":"text","text":"\n\nI'll implement the re-run evaluation feature. Let me start by reading the key files."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":14765,"cache_read_input_tokens":16195,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":14765},"output_tokens":2,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66JkR69peFRCzwUbm1q","type":"assistant","uuid":"850c80da-a19b-4adf-9fc6-a7de873c83cc","timestamp":"2026-02-13T12:46:47.625Z"}
{"parentUuid":"850c80da-a19b-4adf-9fc6-a7de873c83cc","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01RSbg6vkLNtdQYV7Y95Lxs6","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01TiDxjBVP4oxYfRgYRFTdQA","name":"Read","input":{"file_path":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":14765,"cache_read_input_tokens":16195,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":14765},"output_tokens":2,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66JkR69peFRCzwUbm1q","type":"assistant","uuid":"bb043b80-c711-416c-b0cc-a6227904ba77","timestamp":"2026-02-13T12:46:48.140Z"}
{"parentUuid":"bb043b80-c711-416c-b0cc-a6227904ba77","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_01TiDxjBVP4oxYfRgYRFTdQA","toolUseID":"toolu_01TiDxjBVP4oxYfRgYRFTdQA","timestamp":"2026-02-13T12:46:48.447Z","uuid":"4fc9dd8f-aa62-44a9-8d24-301ea4712ddd"}
{"parentUuid":"bb043b80-c711-416c-b0cc-a6227904ba77","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01TiDxjBVP4oxYfRgYRFTdQA","type":"tool_result","content":"     1→import React, { useState } from \"react\";\n     2→import { useFeatureFlags } from \"../contexts/FeatureFlagContext\";\n     3→import { extractRepoName, formatCost, formatDuration } from \"../lib/formatters\";\n     4→import type {\n     5→\tICuratedIssue,\n     6→\tICurationSummary,\n     7→\tMetadata,\n     8→} from \"../types/evaluation\";\n     9→import { StatCard } from \"./shared\";\n    10→import { ContextFilesBrowserModal } from \"./shared/ContextFilesBrowserModal\";\n    11→import { LinkedDocsBrowserModal } from \"./shared/LinkedDocsBrowserModal\";\n    12→import { SkillsBrowserModal } from \"./shared/SkillsBrowserModal\";\n    13→import { ContextScoreCard } from \"./summary/ContextScoreCard\";\n    14→\n    15→// Log entry type for activity logs\n    16→interface LogEntry {\n    17→\ttimestamp: Date;\n    18→\ttype: string;\n    19→\tmessage: string;\n    20→}\n    21→\n    22→interface SummaryProps {\n    23→\tmetadata: Metadata;\n    24→\trepositoryUrl?: string | null;\n    25→\tactualIssueCount?: number;\n    26→\tactualPerFileIssueCount?: number;\n    27→\tactualCrossFileIssueCount?: number;\n    28→\tactualHighCount?: number;\n    29→\tactualMediumCount?: number;\n    30→\tactualLowCount?: number;\n    31→\tactualErrorCount?: number;\n    32→\tactualSuggestionCount?: number;\n    33→\tcurationSummary?: ICurationSummary | null;\n    34→\tcuratedCount?: number;\n    35→\tevaluationId?: string;\n    36→\tonDelete?: () => void;\n    37→\tcuration?: {\n    38→\t\terrors?: {\n    39→\t\t\tcuratedIssues: ICuratedIssue[];\n    40→\t\t\tsummary: ICurationSummary;\n    41→\t\t};\n    42→\t\tsuggestions?: {\n    43→\t\t\tcuratedIssues: ICuratedIssue[];\n    44→\t\t\tsummary: ICurationSummary;\n    45→\t\t};\n    46→\t};\n    47→\tevaluationLogs?: LogEntry[];\n    48→}\n    49→\n    50→export const Summary: React.FC<SummaryProps> = ({\n    51→\tmetadata,\n    52→\trepositoryUrl,\n    53→\tactualIssueCount,\n    54→\tactualPerFileIssueCount,\n    55→\tactualCrossFileIssueCount,\n    56→\tactualHighCount,\n    57→\tactualMediumCount,\n    58→\tactualLowCount,\n    59→\tactualErrorCount,\n    60→\tactualSuggestionCount,\n    61→\tcurationSummary: _curationSummary,\n    62→\tcuratedCount,\n    63→\tevaluationId,\n    64→\tonDelete,\n    65→\tcuration,\n    66→\tevaluationLogs,\n    67→}) => {\n    68→\tconst { cloudMode } = useFeatureFlags();\n    69→\tconst [showRawContext, setShowRawContext] = useState(false);\n    70→\tconst [copied, setCopied] = useState(false);\n    71→\tconst [showSkillsModal, setShowSkillsModal] = useState(false);\n    72→\tconst [showLinkedDocsModal, setShowLinkedDocsModal] = useState(false);\n    73→\tconst [contextFilesModalType, setContextFilesModalType] = useState<\n    74→\t\t\"agents\" | \"claude\" | \"copilot\" | \"rules\" | \"claude-code\" | null\n    75→\t>(null);\n    76→\tconst [showActivityLog, setShowActivityLog] = useState(false);\n    77→\tconst formattedDate = new Date(metadata.generatedAt).toLocaleString();\n    78→\tconst shareUrl = evaluationId\n    79→\t\t? `${window.location.origin}/evaluation/${evaluationId}`\n    80→\t\t: null;\n    81→\n    82→\t// Sort files alphabetically by directory hierarchy\n    83→\tconst sortedFiles = metadata.filesEvaluated\n    84→\t\t? [...metadata.filesEvaluated].sort((a, b) => a.localeCompare(b))\n    85→\t\t: [];\n    86→\n    87→\tconst handleCopyLink = () => {\n    88→\t\tif (evaluationId) {\n    89→\t\t\tconst shareUrl = `${window.location.origin}/evaluation/${evaluationId}`;\n    90→\t\t\tnavigator.clipboard.writeText(shareUrl).then(() => {\n    91→\t\t\t\tsetCopied(true);\n    92→\t\t\t\tsetTimeout(() => setCopied(false), 2000);\n    93→\t\t\t});\n    94→\t\t}\n    95→\t};\n    96→\n    97→\t// Use actual counts if provided, otherwise fall back to metadata\n    98→\tconst totalIssues = actualIssueCount ?? metadata.totalIssues ?? 0;\n    99→\tconst perFileIssues = actualPerFileIssueCount ?? metadata.perFileIssues ?? 0;\n   100→\tconst crossFileIssues =\n   101→\t\tactualCrossFileIssueCount ?? metadata.crossFileIssues ?? 0;\n   102→\tconst highCount = actualHighCount ?? metadata.highCount ?? 0;\n   103→\tconst mediumCount = actualMediumCount ?? metadata.mediumCount ?? 0;\n   104→\tconst lowCount = actualLowCount ?? metadata.lowCount ?? 0;\n   105→\n   106→\t// Context files counting\n   107→\tconst agentsFilePaths = metadata.projectContext?.agentsFilePaths ?? [];\n   108→\tconst contextFilesFromApi = metadata.projectContext?.contextFiles ?? [];\n   109→\n   110→\t// Create fallback context files from agentsFilePaths for backward compatibility\n   111→\t// This allows the browser modal to work with older evaluations that don't have contextFiles\n   112→\tconst contextFiles =\n   113→\t\tcontextFilesFromApi.length > 0\n   114→\t\t\t? contextFilesFromApi\n   115→\t\t\t: agentsFilePaths.map((path) => {\n   116→\t\t\t\t\tconst lowerPath = path.toLowerCase();\n   117→\t\t\t\t\tlet type: \"agents\" | \"claude\" | \"copilot\" = \"agents\";\n   118→\t\t\t\t\tif (lowerPath.includes(\"claude\")) {\n   119→\t\t\t\t\t\ttype = \"claude\";\n   120→\t\t\t\t\t} else if (lowerPath.includes(\"copilot\")) {\n   121→\t\t\t\t\t\ttype = \"copilot\";\n   122→\t\t\t\t\t}\n   123→\t\t\t\t\treturn {\n   124→\t\t\t\t\t\tpath,\n   125→\t\t\t\t\t\ttype,\n   126→\t\t\t\t\t\tcontent: \"\", // No content available for old evaluations\n   127→\t\t\t\t\t\tsummary: \"Re-run evaluation to load content and summary.\",\n   128→\t\t\t\t\t};\n   129→\t\t\t\t});\n   130→\n   131→\t// Use contextFiles if available, otherwise fall back to agentsFilePaths for backward compatibility\n   132→\tconst agentsMdPaths =\n   133→\t\tcontextFilesFromApi.length > 0\n   134→\t\t\t? contextFilesFromApi\n   135→\t\t\t\t\t.filter((f) => f.type === \"agents\")\n   136→\t\t\t\t\t.map((f) => f.path)\n   137→\t\t\t: agentsFilePaths.filter((p) => p.toLowerCase().includes(\"agents\"));\n   138→\tconst claudeMdPaths =\n   139→\t\tcontextFilesFromApi.length > 0\n   140→\t\t\t? contextFilesFromApi\n   141→\t\t\t\t\t.filter((f) => f.type === \"claude\")\n   142→\t\t\t\t\t.map((f) => f.path)\n   143→\t\t\t: agentsFilePaths.filter((p) => p.toLowerCase().includes(\"claude\"));\n   144→\tconst rulesPaths =\n   145→\t\tcontextFilesFromApi.length > 0\n   146→\t\t\t? contextFilesFromApi.filter((f) => f.type === \"rules\").map((f) => f.path)\n   147→\t\t\t: agentsFilePaths.filter((p) => p.includes(\".claude/rules/\"));\n   148→\tconst copilotInstructionsPaths =\n   149→\t\tcontextFilesFromApi.length > 0\n   150→\t\t\t? contextFilesFromApi\n   151→\t\t\t\t\t.filter((f) => f.type === \"copilot\")\n   152→\t\t\t\t\t.map((f) => f.path)\n   153→\t\t\t: agentsFilePaths.filter((p) =>\n   154→\t\t\t\t\tp.toLowerCase().includes(\"copilot-instructions\"),\n   155→\t\t\t\t);\n   156→\tconst agentsMdCount = agentsMdPaths.length;\n   157→\tconst claudeMdCount = claudeMdPaths.length;\n   158→\tconst rulesCount = rulesPaths.length;\n   159→\tconst copilotInstructionsCount = copilotInstructionsPaths.length;\n   160→\t// Claude Code combines CLAUDE.md and .claude/rules files\n   161→\tconst claudeCodeCount = claudeMdCount + rulesCount;\n   162→\tconst skills = metadata.projectContext?.skills ?? [];\n   163→\tconst skillsCount = skills.length;\n   164→\tconst linkedDocs = metadata.projectContext?.linkedDocs ?? [];\n   165→\tconst linkedDocsCount = linkedDocs.length;\n   166→\n   167→\t// Sort paths, skills, and linked docs alphabetically for display\n   168→\tconst sortedAgentsMdPaths = [...agentsMdPaths].sort((a, b) =>\n   169→\t\ta.localeCompare(b),\n   170→\t);\n   171→\t// Combined Claude Code paths (CLAUDE.md + rules)\n   172→\tconst sortedClaudeCodePaths = [...claudeMdPaths, ...rulesPaths].sort((a, b) =>\n   173→\t\ta.localeCompare(b),\n   174→\t);\n   175→\tconst sortedCopilotInstructionsPaths = [...copilotInstructionsPaths].sort(\n   176→\t\t(a, b) => a.localeCompare(b),\n   177→\t);\n   178→\tconst sortedSkills = [...skills].sort((a, b) => a.name.localeCompare(b.name));\n   179→\tconst sortedLinkedDocs = [...linkedDocs].sort((a, b) =>\n   180→\t\ta.path.localeCompare(b.path),\n   181→\t);\n   182→\tconst hasContextFiles =\n   183→\t\tagentsMdCount > 0 ||\n   184→\t\tclaudeCodeCount > 0 ||\n   185→\t\tcopilotInstructionsCount > 0 ||\n   186→\t\tskillsCount > 0 ||\n   187→\t\tlinkedDocsCount > 0;\n   188→\n   189→\treturn (\n   190→\t\t<div className=\"space-y-4 animate-fade-in\">\n   191→\t\t\t{/* Header */}\n   192→\t\t\t<div className=\"glass-card border border-indigo-500/30 p-4\">\n   193→\t\t\t\t<div className=\"flex items-center justify-between py-3\">\n   194→\t\t\t\t\t<div className=\"flex-1\">\n   195→\t\t\t\t\t\t{/* Repository Name - Prominent Display */}\n   196→\t\t\t\t\t\t{repositoryUrl && (\n   197→\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n   198→\t\t\t\t\t\t\t\t<a\n   199→\t\t\t\t\t\t\t\t\thref={repositoryUrl}\n   200→\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n   201→\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n   202→\t\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-2 hover:opacity-80 transition-opacity group\"\n   203→\t\t\t\t\t\t\t\t>\n   204→\t\t\t\t\t\t\t\t\t<div className=\"w-8 h-8 bg-slate-700/60 rounded-lg flex items-center justify-center border border-slate-600/50 group-hover:bg-purple-700/60 transition-colors\">\n   205→\t\t\t\t\t\t\t\t\t\t<svg\n   206→\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-slate-300\"\n   207→\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n   208→\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   209→\t\t\t\t\t\t\t\t\t\t>\n   210→\t\t\t\t\t\t\t\t\t\t\t<path\n   211→\t\t\t\t\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n   212→\t\t\t\t\t\t\t\t\t\t\t\td=\"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z\"\n   213→\t\t\t\t\t\t\t\t\t\t\t\tclipRule=\"evenodd\"\n   214→\t\t\t\t\t\t\t\t\t\t\t/>\n   215→\t\t\t\t\t\t\t\t\t\t</svg>\n   216→\t\t\t\t\t\t\t\t\t</div>\n   217→\t\t\t\t\t\t\t\t\t<span className=\"text-xl md:text-2xl font-bold text-slate-100 group-hover:underline\">\n   218→\t\t\t\t\t\t\t\t\t\t{extractRepoName(repositoryUrl)}\n   219→\t\t\t\t\t\t\t\t\t</span>\n   220→\t\t\t\t\t\t\t\t\t<svg\n   221→\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-400\"\n   222→\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n   223→\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   224→\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   225→\t\t\t\t\t\t\t\t\t>\n   226→\t\t\t\t\t\t\t\t\t\t<path\n   227→\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   228→\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   229→\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   230→\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n   231→\t\t\t\t\t\t\t\t\t\t/>\n   232→\t\t\t\t\t\t\t\t\t</svg>\n   233→\t\t\t\t\t\t\t\t</a>\n   234→\t\t\t\t\t\t\t</div>\n   235→\t\t\t\t\t\t)}\n   236→\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n   237→\t\t\t\t\t\t\t<div className=\"w-6 h-6 bg-slate-700/60 rounded-md flex items-center justify-center border border-slate-600/50\">\n   238→\t\t\t\t\t\t\t\t<svg\n   239→\t\t\t\t\t\t\t\t\tclassName=\"h-4 w-4 text-slate-300\"\n   240→\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n   241→\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n   242→\t\t\t\t\t\t\t\t>\n   243→\t\t\t\t\t\t\t\t\t<path d=\"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z\" />\n   244→\t\t\t\t\t\t\t\t\t<path\n   245→\t\t\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n   246→\t\t\t\t\t\t\t\t\t\td=\"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z\"\n   247→\t\t\t\t\t\t\t\t\t\tclipRule=\"evenodd\"\n   248→\t\t\t\t\t\t\t\t\t/>\n   249→\t\t\t\t\t\t\t\t</svg>\n   250→\t\t\t\t\t\t\t</div>\n   251→\t\t\t\t\t\t\t<h2 className=\"text-base md:text-lg font-semibold text-slate-100\">\n   252→\t\t\t\t\t\t\t\tEvaluation Summary\n   253→\t\t\t\t\t\t\t</h2>\n   254→\t\t\t\t\t\t</div>\n   255→\t\t\t\t\t\t<div className=\"flex flex-wrap items-center gap-2 text-slate-300 text-xs\">\n   256→\t\t\t\t\t\t\t<span className=\"flex items-center gap-1 bg-slate-700/60 px-2 py-1 rounded-md border border-slate-600/50\">\n   257→\t\t\t\t\t\t\t\t<svg\n   258→\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n   259→\t\t\t\t\t\t\t\t\tfill=\"none\"\n   260→\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   261→\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   262→\t\t\t\t\t\t\t\t>\n   263→\t\t\t\t\t\t\t\t\t<path\n   264→\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   265→\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   266→\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   267→\t\t\t\t\t\t\t\t\t\td=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n   268→\t\t\t\t\t\t\t\t\t/>\n   269→\t\t\t\t\t\t\t\t</svg>\n   270→\t\t\t\t\t\t\t\t{formattedDate}\n   271→\t\t\t\t\t\t\t</span>\n   272→\t\t\t\t\t\t\t<span className=\"flex items-center gap-1 bg-slate-700/60 px-2 py-1 rounded-md border border-slate-600/50\">\n   273→\t\t\t\t\t\t\t\t<svg\n   274→\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n   275→\t\t\t\t\t\t\t\t\tfill=\"none\"\n   276→\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   277→\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   278→\t\t\t\t\t\t\t\t>\n   279→\t\t\t\t\t\t\t\t\t<path\n   280→\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   281→\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   282→\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   283→\t\t\t\t\t\t\t\t\t\td=\"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\n   284→\t\t\t\t\t\t\t\t\t/>\n   285→\t\t\t\t\t\t\t\t</svg>\n   286→\t\t\t\t\t\t\t\t{metadata.agent}\n   287→\t\t\t\t\t\t\t</span>\n   288→\t\t\t\t\t\t\t<span\n   289→\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-1 bg-slate-700/60 px-2 py-1 rounded-md border border-slate-600/50\"\n   290→\t\t\t\t\t\t\t\ttitle={\n   291→\t\t\t\t\t\t\t\t\tmetadata.evaluationMode === \"unified\"\n   292→\t\t\t\t\t\t\t\t\t\t? \"Unified mode: All files evaluated together for cross-file analysis\"\n   293→\t\t\t\t\t\t\t\t\t\t: \"Independent mode: Each file evaluated separately\"\n   294→\t\t\t\t\t\t\t\t}\n   295→\t\t\t\t\t\t\t>\n   296→\t\t\t\t\t\t\t\t<svg\n   297→\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n   298→\t\t\t\t\t\t\t\t\tfill=\"none\"\n   299→\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   300→\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   301→\t\t\t\t\t\t\t\t>\n   302→\t\t\t\t\t\t\t\t\t<path\n   303→\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   304→\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   305→\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   306→\t\t\t\t\t\t\t\t\t\td=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"\n   307→\t\t\t\t\t\t\t\t\t/>\n   308→\t\t\t\t\t\t\t\t\t<path\n   309→\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   310→\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   311→\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   312→\t\t\t\t\t\t\t\t\t\td=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n   313→\t\t\t\t\t\t\t\t\t/>\n   314→\t\t\t\t\t\t\t\t</svg>\n   315→\t\t\t\t\t\t\t\t{metadata.evaluationMode}\n   316→\t\t\t\t\t\t\t</span>\n   317→\t\t\t\t\t\t</div>\n   318→\t\t\t\t\t</div>\n   319→\t\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n   320→\t\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n   321→\t\t\t\t\t\t<button\n   322→\t\t\t\t\t\t\tonClick={() => {\n   323→\t\t\t\t\t\t\t\tif (\n   324→\t\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n   325→\t\t\t\t\t\t\t\t) {\n   326→\t\t\t\t\t\t\t\t\tonDelete();\n   327→\t\t\t\t\t\t\t\t}\n   328→\t\t\t\t\t\t\t}}\n   329→\t\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n   330→\t\t\t\t\t\t\ttitle=\"Delete evaluation\"\n   331→\t\t\t\t\t\t>\n   332→\t\t\t\t\t\t\t<svg\n   333→\t\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n   334→\t\t\t\t\t\t\t\tfill=\"none\"\n   335→\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   336→\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   337→\t\t\t\t\t\t\t>\n   338→\t\t\t\t\t\t\t\t<path\n   339→\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   340→\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   341→\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   342→\t\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n   343→\t\t\t\t\t\t\t\t/>\n   344→\t\t\t\t\t\t\t</svg>\n   345→\t\t\t\t\t\t</button>\n   346→\t\t\t\t\t)}\n   347→\t\t\t\t</div>\n   348→\t\t\t</div>\n   349→\n   350→\t\t\t{/* Share Report Card - Prominent Display */}\n   351→\t\t\t{shareUrl && (\n   352→\t\t\t\t<div className=\"glass-card p-4 border border-indigo-500/30\">\n   353→\t\t\t\t\t<div className=\"flex items-start gap-3\">\n   354→\t\t\t\t\t\t<div className=\"w-8 h-8 bg-indigo-600/30 rounded-lg flex items-center justify-center shrink-0\">\n   355→\t\t\t\t\t\t\t<svg\n   356→\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-indigo-400\"\n   357→\t\t\t\t\t\t\t\tfill=\"none\"\n   358→\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   359→\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   360→\t\t\t\t\t\t\t>\n   361→\t\t\t\t\t\t\t\t<path\n   362→\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   363→\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   364→\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   365→\t\t\t\t\t\t\t\t\td=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"\n   366→\t\t\t\t\t\t\t\t/>\n   367→\t\t\t\t\t\t\t</svg>\n   368→\t\t\t\t\t\t</div>\n   369→\t\t\t\t\t\t<div className=\"flex-1 min-w-0\">\n   370→\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-slate-200 mb-1\">\n   371→\t\t\t\t\t\t\t\tShare this report\n   372→\t\t\t\t\t\t\t</p>\n   373→\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n   374→\t\t\t\t\t\t\t\t<code className=\"text-xs text-slate-300 bg-slate-900/50 px-2 py-1 rounded truncate flex-1 block overflow-hidden\">\n   375→\t\t\t\t\t\t\t\t\t{shareUrl}\n   376→\t\t\t\t\t\t\t\t</code>\n   377→\t\t\t\t\t\t\t\t<button\n   378→\t\t\t\t\t\t\t\t\ttype=\"button\"\n   379→\t\t\t\t\t\t\t\t\tonClick={handleCopyLink}\n   380→\t\t\t\t\t\t\t\t\tclassName=\"shrink-0 px-3 py-1.5 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-500 rounded-lg transition-colors flex items-center gap-1.5\"\n   381→\t\t\t\t\t\t\t\t>\n   382→\t\t\t\t\t\t\t\t\t{copied ? (\n   383→\t\t\t\t\t\t\t\t\t\t<>\n   384→\t\t\t\t\t\t\t\t\t\t\t<svg\n   385→\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n   386→\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n   387→\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   388→\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   389→\t\t\t\t\t\t\t\t\t\t\t>\n   390→\t\t\t\t\t\t\t\t\t\t\t\t<path\n   391→\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   392→\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   393→\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   394→\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M5 13l4 4L19 7\"\n   395→\t\t\t\t\t\t\t\t\t\t\t\t/>\n   396→\t\t\t\t\t\t\t\t\t\t\t</svg>\n   397→\t\t\t\t\t\t\t\t\t\t\t<span>Copied!</span>\n   398→\t\t\t\t\t\t\t\t\t\t</>\n   399→\t\t\t\t\t\t\t\t\t) : (\n   400→\t\t\t\t\t\t\t\t\t\t<>\n   401→\t\t\t\t\t\t\t\t\t\t\t<svg\n   402→\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n   403→\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n   404→\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   405→\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   406→\t\t\t\t\t\t\t\t\t\t\t>\n   407→\t\t\t\t\t\t\t\t\t\t\t\t<path\n   408→\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   409→\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   410→\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   411→\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"\n   412→\t\t\t\t\t\t\t\t\t\t\t\t/>\n   413→\t\t\t\t\t\t\t\t\t\t\t</svg>\n   414→\t\t\t\t\t\t\t\t\t\t\t<span>Copy Link</span>\n   415→\t\t\t\t\t\t\t\t\t\t</>\n   416→\t\t\t\t\t\t\t\t\t)}\n   417→\t\t\t\t\t\t\t\t</button>\n   418→\t\t\t\t\t\t\t</div>\n   419→\t\t\t\t\t\t</div>\n   420→\t\t\t\t\t</div>\n   421→\t\t\t\t</div>\n   422→\t\t\t)}\n   423→\n   424→\t\t\t{/* Context Score - Prominent Display */}\n   425→\t\t\t{metadata.contextScore && (\n   426→\t\t\t\t<ContextScoreCard contextScore={metadata.contextScore} />\n   427→\t\t\t)}\n   428→\n   429→\t\t\t{/* Project Context */}\n   430→\t\t\t{metadata.projectContext && (\n   431→\t\t\t\t<div className=\"glass-card p-6\">\n   432→\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n   433→\t\t\t\t\t\t<span className=\"w-6 h-6 bg-indigo-600 rounded-lg flex items-center justify-center\">\n   434→\t\t\t\t\t\t\t<svg\n   435→\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-white\"\n   436→\t\t\t\t\t\t\t\tfill=\"none\"\n   437→\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   438→\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   439→\t\t\t\t\t\t\t>\n   440→\t\t\t\t\t\t\t\t<path\n   441→\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   442→\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   443→\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   444→\t\t\t\t\t\t\t\t\td=\"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4\"\n   445→\t\t\t\t\t\t\t\t/>\n   446→\t\t\t\t\t\t\t</svg>\n   447→\t\t\t\t\t\t</span>\n   448→\t\t\t\t\t\tProject Context\n   449→\t\t\t\t\t\t<span className=\"text-xs font-normal text-slate-400 ml-2\">\n   450→\t\t\t\t\t\t\t(auto-detected)\n   451→\t\t\t\t\t\t</span>\n   452→\t\t\t\t\t</h3>\n   453→\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n   454→\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n   455→\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n   456→\t\t\t\t\t\t\t\tLanguages\n   457→\t\t\t\t\t\t\t</span>\n   458→\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n   459→\t\t\t\t\t\t\t\t{metadata.projectContext.languages}\n   460→\t\t\t\t\t\t\t</span>\n   461→\t\t\t\t\t\t</div>\n   462→\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n   463→\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n   464→\t\t\t\t\t\t\t\tFrameworks\n   465→\t\t\t\t\t\t\t</span>\n   466→\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n   467→\t\t\t\t\t\t\t\t{metadata.projectContext.frameworks}\n   468→\t\t\t\t\t\t\t</span>\n   469→\t\t\t\t\t\t</div>\n   470→\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n   471→\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n   472→\t\t\t\t\t\t\t\tArchitecture\n   473→\t\t\t\t\t\t\t</span>\n   474→\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n   475→\t\t\t\t\t\t\t\t{metadata.projectContext.architecture}\n   476→\t\t\t\t\t\t\t</span>\n   477→\t\t\t\t\t\t</div>\n   478→\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n   479→\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n   480→\t\t\t\t\t\t\t\tPatterns\n   481→\t\t\t\t\t\t\t</span>\n   482→\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n   483→\t\t\t\t\t\t\t\t{metadata.projectContext.patterns}\n   484→\t\t\t\t\t\t\t</span>\n   485→\t\t\t\t\t\t</div>\n   486→\t\t\t\t\t</div>\n   487→\n   488→\t\t\t\t\t{/* Raw Context Toggle */}\n   489→\t\t\t\t\t{metadata.projectContext.raw && (\n   490→\t\t\t\t\t\t<div className=\"mt-3\">\n   491→\t\t\t\t\t\t\t<button\n   492→\t\t\t\t\t\t\t\tonClick={() => setShowRawContext(!showRawContext)}\n   493→\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-2 text-xs text-slate-400 hover:text-slate-200 transition-colors\"\n   494→\t\t\t\t\t\t\t>\n   495→\t\t\t\t\t\t\t\t<svg\n   496→\t\t\t\t\t\t\t\t\tclassName={`w-3 h-3 transition-transform ${showRawContext ? \"rotate-90\" : \"\"}`}\n   497→\t\t\t\t\t\t\t\t\tfill=\"none\"\n   498→\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   499→\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   500→\t\t\t\t\t\t\t\t>\n   501→\t\t\t\t\t\t\t\t\t<path\n   502→\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   503→\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   504→\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   505→\t\t\t\t\t\t\t\t\t\td=\"M9 5l7 7-7 7\"\n   506→\t\t\t\t\t\t\t\t\t/>\n   507→\t\t\t\t\t\t\t\t</svg>\n   508→\t\t\t\t\t\t\t\t{showRawContext ? \"Hide\" : \"Show\"} raw context\n   509→\t\t\t\t\t\t\t</button>\n   510→\n   511→\t\t\t\t\t\t\t{showRawContext && (\n   512→\t\t\t\t\t\t\t\t<div className=\"mt-2 bg-slate-900/50 rounded-lg p-3 border border-slate-700/50\">\n   513→\t\t\t\t\t\t\t\t\t<pre className=\"text-xs text-slate-300 whitespace-pre-wrap font-mono overflow-x-auto\">\n   514→\t\t\t\t\t\t\t\t\t\t{metadata.projectContext.raw}\n   515→\t\t\t\t\t\t\t\t\t</pre>\n   516→\t\t\t\t\t\t\t\t</div>\n   517→\t\t\t\t\t\t\t)}\n   518→\t\t\t\t\t\t</div>\n   519→\t\t\t\t\t)}\n   520→\n   521→\t\t\t\t\t{metadata.contextIdentificationCostUsd !== undefined &&\n   522→\t\t\t\t\t\tmetadata.contextIdentificationDurationMs !== undefined && (\n   523→\t\t\t\t\t\t\t<div className=\"mt-3 pt-3 border-t border-slate-700/50 flex items-center gap-4 text-xs text-slate-400\">\n   524→\t\t\t\t\t\t\t\t<span>\n   525→\t\t\t\t\t\t\t\t\tContext analysis:{\" \"}\n   526→\t\t\t\t\t\t\t\t\t{formatCost(metadata.contextIdentificationCostUsd)}\n   527→\t\t\t\t\t\t\t\t</span>\n   528→\t\t\t\t\t\t\t\t<span>\n   529→\t\t\t\t\t\t\t\t\t{formatDuration(metadata.contextIdentificationDurationMs)}\n   530→\t\t\t\t\t\t\t\t</span>\n   531→\t\t\t\t\t\t\t</div>\n   532→\t\t\t\t\t\t)}\n   533→\t\t\t\t</div>\n   534→\t\t\t)}\n   535→\n   536→\t\t\t{/* Context Files */}\n   537→\t\t\t{hasContextFiles && (\n   538→\t\t\t\t<div className=\"glass-card p-6\">\n   539→\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n   540→\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n   541→\t\t\t\t\t\t\t<svg\n   542→\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n   543→\t\t\t\t\t\t\t\tfill=\"none\"\n   544→\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   545→\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   546→\t\t\t\t\t\t\t>\n   547→\t\t\t\t\t\t\t\t<path\n   548→\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   549→\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   550→\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   551→\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n   552→\t\t\t\t\t\t\t\t/>\n   553→\t\t\t\t\t\t\t</svg>\n   554→\t\t\t\t\t\t</span>\n   555→\t\t\t\t\t\tClaude Code\n   556→\t\t\t\t\t</h3>\n   557→\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3\">\n   558→\t\t\t\t\t\t{/* AGENTS.md Card */}\n   559→\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n   560→\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n   561→\t\t\t\t\t\t\t\t<svg\n   562→\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n   563→\t\t\t\t\t\t\t\t\tfill=\"none\"\n   564→\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   565→\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   566→\t\t\t\t\t\t\t\t>\n   567→\t\t\t\t\t\t\t\t\t<path\n   568→\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   569→\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   570→\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   571→\t\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n   572→\t\t\t\t\t\t\t\t\t/>\n   573→\t\t\t\t\t\t\t\t</svg>\n   574→\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n   575→\t\t\t\t\t\t\t\t\tAGENTS.md\n   576→\t\t\t\t\t\t\t\t</span>\n   577→\t\t\t\t\t\t\t</div>\n   578→\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n   579→\t\t\t\t\t\t\t\t{agentsMdCount}\n   580→\t\t\t\t\t\t\t</p>\n   581→\t\t\t\t\t\t\t{agentsMdCount > 0 && (\n   582→\t\t\t\t\t\t\t\t<>\n   583→\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1 max-h-32 overflow-y-auto custom-scrollbar\">\n   584→\t\t\t\t\t\t\t\t\t\t{sortedAgentsMdPaths.map((path, index) => (\n   585→\t\t\t\t\t\t\t\t\t\t\t<li\n   586→\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n   587→\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-slate-400 flex items-start gap-1.5\"\n   588→\t\t\t\t\t\t\t\t\t\t\t>\n   589→\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-0.5\">•</span>\n   590→\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{path}</span>\n   591→\t\t\t\t\t\t\t\t\t\t\t</li>\n   592→\t\t\t\t\t\t\t\t\t\t))}\n   593→\t\t\t\t\t\t\t\t\t</ul>\n   594→\t\t\t\t\t\t\t\t\t<button\n   595→\t\t\t\t\t\t\t\t\t\tonClick={() => setContextFilesModalType(\"agents\")}\n   596→\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n   597→\t\t\t\t\t\t\t\t\t>\n   598→\t\t\t\t\t\t\t\t\t\t<span>Browse</span>\n   599→\t\t\t\t\t\t\t\t\t\t<svg\n   600→\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n   601→\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n   602→\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   603→\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   604→\t\t\t\t\t\t\t\t\t\t>\n   605→\t\t\t\t\t\t\t\t\t\t\t<path\n   606→\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   607→\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   608→\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   609→\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n   610→\t\t\t\t\t\t\t\t\t\t\t/>\n   611→\t\t\t\t\t\t\t\t\t\t</svg>\n   612→\t\t\t\t\t\t\t\t\t</button>\n   613→\t\t\t\t\t\t\t\t</>\n   614→\t\t\t\t\t\t\t)}\n   615→\t\t\t\t\t\t</div>\n   616→\n   617→\t\t\t\t\t\t{/* Claude Code Card (CLAUDE.md + Rules combined) */}\n   618→\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n   619→\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n   620→\t\t\t\t\t\t\t\t<svg\n   621→\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n   622→\t\t\t\t\t\t\t\t\tfill=\"none\"\n   623→\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   624→\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   625→\t\t\t\t\t\t\t\t>\n   626→\t\t\t\t\t\t\t\t\t<path\n   627→\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   628→\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   629→\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   630→\t\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n   631→\t\t\t\t\t\t\t\t\t/>\n   632→\t\t\t\t\t\t\t\t</svg>\n   633→\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n   634→\t\t\t\t\t\t\t\t\tCLAUDE.md + Rules\n   635→\t\t\t\t\t\t\t\t</span>\n   636→\t\t\t\t\t\t\t</div>\n   637→\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n   638→\t\t\t\t\t\t\t\t{claudeCodeCount}\n   639→\t\t\t\t\t\t\t</p>\n   640→\t\t\t\t\t\t\t{claudeCodeCount > 0 && (\n   641→\t\t\t\t\t\t\t\t<>\n   642→\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1 max-h-32 overflow-y-auto custom-scrollbar\">\n   643→\t\t\t\t\t\t\t\t\t\t{sortedClaudeCodePaths.map((path, index) => (\n   644→\t\t\t\t\t\t\t\t\t\t\t<li\n   645→\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n   646→\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-slate-400 flex items-start gap-1.5\"\n   647→\t\t\t\t\t\t\t\t\t\t\t>\n   648→\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-0.5\">•</span>\n   649→\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{path}</span>\n   650→\t\t\t\t\t\t\t\t\t\t\t</li>\n   651→\t\t\t\t\t\t\t\t\t\t))}\n   652→\t\t\t\t\t\t\t\t\t</ul>\n   653→\t\t\t\t\t\t\t\t\t<button\n   654→\t\t\t\t\t\t\t\t\t\tonClick={() => setContextFilesModalType(\"claude-code\")}\n   655→\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n   656→\t\t\t\t\t\t\t\t\t>\n   657→\t\t\t\t\t\t\t\t\t\t<span>Browse</span>\n   658→\t\t\t\t\t\t\t\t\t\t<svg\n   659→\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n   660→\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n   661→\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   662→\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   663→\t\t\t\t\t\t\t\t\t\t>\n   664→\t\t\t\t\t\t\t\t\t\t\t<path\n   665→\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   666→\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   667→\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   668→\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n   669→\t\t\t\t\t\t\t\t\t\t\t/>\n   670→\t\t\t\t\t\t\t\t\t\t</svg>\n   671→\t\t\t\t\t\t\t\t\t</button>\n   672→\t\t\t\t\t\t\t\t</>\n   673→\t\t\t\t\t\t\t)}\n   674→\t\t\t\t\t\t</div>\n   675→\n   676→\t\t\t\t\t\t{/* Github Copilot Instructions Card */}\n   677→\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n   678→\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n   679→\t\t\t\t\t\t\t\t<svg\n   680→\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n   681→\t\t\t\t\t\t\t\t\tfill=\"none\"\n   682→\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   683→\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   684→\t\t\t\t\t\t\t\t>\n   685→\t\t\t\t\t\t\t\t\t<path\n   686→\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   687→\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   688→\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   689→\t\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n   690→\t\t\t\t\t\t\t\t\t/>\n   691→\t\t\t\t\t\t\t\t</svg>\n   692→\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n   693→\t\t\t\t\t\t\t\t\tCopilot Instructions\n   694→\t\t\t\t\t\t\t\t</span>\n   695→\t\t\t\t\t\t\t</div>\n   696→\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n   697→\t\t\t\t\t\t\t\t{copilotInstructionsCount}\n   698→\t\t\t\t\t\t\t</p>\n   699→\t\t\t\t\t\t\t{copilotInstructionsCount > 0 && (\n   700→\t\t\t\t\t\t\t\t<>\n   701→\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1 max-h-32 overflow-y-auto custom-scrollbar\">\n   702→\t\t\t\t\t\t\t\t\t\t{sortedCopilotInstructionsPaths.map((path, index) => (\n   703→\t\t\t\t\t\t\t\t\t\t\t<li\n   704→\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n   705→\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-slate-400 flex items-start gap-1.5\"\n   706→\t\t\t\t\t\t\t\t\t\t\t>\n   707→\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-0.5\">•</span>\n   708→\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{path}</span>\n   709→\t\t\t\t\t\t\t\t\t\t\t</li>\n   710→\t\t\t\t\t\t\t\t\t\t))}\n   711→\t\t\t\t\t\t\t\t\t</ul>\n   712→\t\t\t\t\t\t\t\t\t<button\n   713→\t\t\t\t\t\t\t\t\t\tonClick={() => setContextFilesModalType(\"copilot\")}\n   714→\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n   715→\t\t\t\t\t\t\t\t\t>\n   716→\t\t\t\t\t\t\t\t\t\t<span>Browse</span>\n   717→\t\t\t\t\t\t\t\t\t\t<svg\n   718→\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n   719→\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n   720→\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   721→\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   722→\t\t\t\t\t\t\t\t\t\t>\n   723→\t\t\t\t\t\t\t\t\t\t\t<path\n   724→\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   725→\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   726→\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   727→\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n   728→\t\t\t\t\t\t\t\t\t\t\t/>\n   729→\t\t\t\t\t\t\t\t\t\t</svg>\n   730→\t\t\t\t\t\t\t\t\t</button>\n   731→\t\t\t\t\t\t\t\t</>\n   732→\t\t\t\t\t\t\t)}\n   733→\t\t\t\t\t\t</div>\n   734→\n   735→\t\t\t\t\t\t{/* Skills Card */}\n   736→\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n   737→\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n   738→\t\t\t\t\t\t\t\t<svg\n   739→\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n   740→\t\t\t\t\t\t\t\t\tfill=\"none\"\n   741→\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   742→\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   743→\t\t\t\t\t\t\t\t>\n   744→\t\t\t\t\t\t\t\t\t<path\n   745→\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   746→\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   747→\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   748→\t\t\t\t\t\t\t\t\t\td=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z\"\n   749→\t\t\t\t\t\t\t\t\t/>\n   750→\t\t\t\t\t\t\t\t</svg>\n   751→\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n   752→\t\t\t\t\t\t\t\t\tSkills\n   753→\t\t\t\t\t\t\t\t</span>\n   754→\t\t\t\t\t\t\t</div>\n   755→\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n   756→\t\t\t\t\t\t\t\t{skillsCount}\n   757→\t\t\t\t\t\t\t</p>\n   758→\t\t\t\t\t\t\t{skillsCount > 0 && (\n   759→\t\t\t\t\t\t\t\t<>\n   760→\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1.5 max-h-32 overflow-y-auto custom-scrollbar\">\n   761→\t\t\t\t\t\t\t\t\t\t{sortedSkills.map((skill, index) => (\n   762→\t\t\t\t\t\t\t\t\t\t\t<li key={index} className=\"text-xs\">\n   763→\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-300 font-medium\">\n   764→\t\t\t\t\t\t\t\t\t\t\t\t\t{skill.name}\n   765→\t\t\t\t\t\t\t\t\t\t\t\t</span>\n   766→\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 ml-1\">\n   767→\t\t\t\t\t\t\t\t\t\t\t\t\t({skill.directory})\n   768→\t\t\t\t\t\t\t\t\t\t\t\t</span>\n   769→\t\t\t\t\t\t\t\t\t\t\t\t{skill.description && (\n   770→\t\t\t\t\t\t\t\t\t\t\t\t\t<p\n   771→\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-slate-500 mt-0.5 truncate\"\n   772→\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={skill.description}\n   773→\t\t\t\t\t\t\t\t\t\t\t\t\t>\n   774→\t\t\t\t\t\t\t\t\t\t\t\t\t\t{skill.description}\n   775→\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n   776→\t\t\t\t\t\t\t\t\t\t\t\t)}\n   777→\t\t\t\t\t\t\t\t\t\t\t</li>\n   778→\t\t\t\t\t\t\t\t\t\t))}\n   779→\t\t\t\t\t\t\t\t\t</ul>\n   780→\t\t\t\t\t\t\t\t\t<button\n   781→\t\t\t\t\t\t\t\t\t\tonClick={() => setShowSkillsModal(true)}\n   782→\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n   783→\t\t\t\t\t\t\t\t\t>\n   784→\t\t\t\t\t\t\t\t\t\t<span>Display all</span>\n   785→\t\t\t\t\t\t\t\t\t\t<svg\n   786→\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n   787→\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n   788→\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   789→\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   790→\t\t\t\t\t\t\t\t\t\t>\n   791→\t\t\t\t\t\t\t\t\t\t\t<path\n   792→\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   793→\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   794→\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   795→\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n   796→\t\t\t\t\t\t\t\t\t\t\t/>\n   797→\t\t\t\t\t\t\t\t\t\t</svg>\n   798→\t\t\t\t\t\t\t\t\t</button>\n   799→\t\t\t\t\t\t\t\t</>\n   800→\t\t\t\t\t\t\t)}\n   801→\t\t\t\t\t\t</div>\n   802→\n   803→\t\t\t\t\t\t{/* Linked Docs Card */}\n   804→\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n   805→\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n   806→\t\t\t\t\t\t\t\t<svg\n   807→\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n   808→\t\t\t\t\t\t\t\t\tfill=\"none\"\n   809→\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   810→\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   811→\t\t\t\t\t\t\t\t>\n   812→\t\t\t\t\t\t\t\t\t<path\n   813→\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   814→\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   815→\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   816→\t\t\t\t\t\t\t\t\t\td=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"\n   817→\t\t\t\t\t\t\t\t\t/>\n   818→\t\t\t\t\t\t\t\t</svg>\n   819→\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n   820→\t\t\t\t\t\t\t\t\tLinked Docs\n   821→\t\t\t\t\t\t\t\t</span>\n   822→\t\t\t\t\t\t\t</div>\n   823→\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n   824→\t\t\t\t\t\t\t\t{linkedDocsCount}\n   825→\t\t\t\t\t\t\t</p>\n   826→\t\t\t\t\t\t\t{linkedDocsCount > 0 && (\n   827→\t\t\t\t\t\t\t\t<>\n   828→\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1.5 max-h-32 overflow-y-auto custom-scrollbar\">\n   829→\t\t\t\t\t\t\t\t\t\t{sortedLinkedDocs.map((doc, index) => (\n   830→\t\t\t\t\t\t\t\t\t\t\t<li key={index} className=\"text-xs\">\n   831→\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-slate-300 font-medium break-all\">\n   832→\t\t\t\t\t\t\t\t\t\t\t\t\t{doc.path}\n   833→\t\t\t\t\t\t\t\t\t\t\t\t</div>\n   834→\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-slate-500 text-xs mt-0.5\">\n   835→\t\t\t\t\t\t\t\t\t\t\t\t\tfrom {doc.linkedFrom}\n   836→\t\t\t\t\t\t\t\t\t\t\t\t</div>\n   837→\t\t\t\t\t\t\t\t\t\t\t\t{doc.summary && (\n   838→\t\t\t\t\t\t\t\t\t\t\t\t\t<p\n   839→\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-slate-500 mt-0.5 line-clamp-2\"\n   840→\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={doc.summary}\n   841→\t\t\t\t\t\t\t\t\t\t\t\t\t>\n   842→\t\t\t\t\t\t\t\t\t\t\t\t\t\t{doc.summary}\n   843→\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n   844→\t\t\t\t\t\t\t\t\t\t\t\t)}\n   845→\t\t\t\t\t\t\t\t\t\t\t</li>\n   846→\t\t\t\t\t\t\t\t\t\t))}\n   847→\t\t\t\t\t\t\t\t\t</ul>\n   848→\t\t\t\t\t\t\t\t\t<button\n   849→\t\t\t\t\t\t\t\t\t\tonClick={() => setShowLinkedDocsModal(true)}\n   850→\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n   851→\t\t\t\t\t\t\t\t\t>\n   852→\t\t\t\t\t\t\t\t\t\t<span>Display all</span>\n   853→\t\t\t\t\t\t\t\t\t\t<svg\n   854→\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n   855→\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n   856→\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   857→\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   858→\t\t\t\t\t\t\t\t\t\t>\n   859→\t\t\t\t\t\t\t\t\t\t\t<path\n   860→\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   861→\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   862→\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   863→\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n   864→\t\t\t\t\t\t\t\t\t\t\t/>\n   865→\t\t\t\t\t\t\t\t\t\t</svg>\n   866→\t\t\t\t\t\t\t\t\t</button>\n   867→\t\t\t\t\t\t\t\t</>\n   868→\t\t\t\t\t\t\t)}\n   869→\t\t\t\t\t\t</div>\n   870→\t\t\t\t\t</div>\n   871→\t\t\t\t</div>\n   872→\t\t\t)}\n   873→\n   874→\t\t\t{/* Main Stats Grid */}\n   875→\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n   876→\t\t\t\t<StatCard\n   877→\t\t\t\t\tlabel=\"Total Files\"\n   878→\t\t\t\t\tvalue={metadata.totalFiles}\n   879→\t\t\t\t\ticon={\n   880→\t\t\t\t\t\t<svg\n   881→\t\t\t\t\t\t\tclassName=\"h-8 w-8\"\n   882→\t\t\t\t\t\t\tfill=\"none\"\n   883→\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   884→\t\t\t\t\t\t\tstroke=\"currentColor\"\n   885→\t\t\t\t\t\t>\n   886→\t\t\t\t\t\t\t<path\n   887→\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   888→\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   889→\t\t\t\t\t\t\t\tstrokeWidth={2}\n   890→\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n   891→\t\t\t\t\t\t\t/>\n   892→\t\t\t\t\t\t</svg>\n   893→\t\t\t\t\t}\n   894→\t\t\t\t\ttooltip={\n   895→\t\t\t\t\t\tsortedFiles.length > 0 && (\n   896→\t\t\t\t\t\t\t<div>\n   897→\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide mb-2\">\n   898→\t\t\t\t\t\t\t\t\tFiles Evaluated\n   899→\t\t\t\t\t\t\t\t</p>\n   900→\t\t\t\t\t\t\t\t<ul className=\"space-y-1\">\n   901→\t\t\t\t\t\t\t\t\t{sortedFiles.map((file, index) => (\n   902→\t\t\t\t\t\t\t\t\t\t<li\n   903→\t\t\t\t\t\t\t\t\t\t\tkey={index}\n   904→\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-sm text-slate-300 flex items-start gap-2\"\n   905→\t\t\t\t\t\t\t\t\t\t>\n   906→\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-1\">•</span>\n   907→\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{file}</span>\n   908→\t\t\t\t\t\t\t\t\t\t</li>\n   909→\t\t\t\t\t\t\t\t\t))}\n   910→\t\t\t\t\t\t\t\t</ul>\n   911→\t\t\t\t\t\t\t</div>\n   912→\t\t\t\t\t\t)\n   913→\t\t\t\t\t}\n   914→\t\t\t\t/>\n   915→\t\t\t\t<StatCard\n   916→\t\t\t\t\tlabel=\"Total Issues\"\n   917→\t\t\t\t\tvalue={totalIssues}\n   918→\t\t\t\t\ticon={\n   919→\t\t\t\t\t\t<svg\n   920→\t\t\t\t\t\t\tclassName=\"h-8 w-8\"\n   921→\t\t\t\t\t\t\tfill=\"none\"\n   922→\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   923→\t\t\t\t\t\t\tstroke=\"currentColor\"\n   924→\t\t\t\t\t\t>\n   925→\t\t\t\t\t\t\t<path\n   926→\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   927→\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   928→\t\t\t\t\t\t\t\tstrokeWidth={2}\n   929→\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n   930→\t\t\t\t\t\t\t/>\n   931→\t\t\t\t\t\t</svg>\n   932→\t\t\t\t\t}\n   933→\t\t\t\t/>\n   934→\t\t\t\t<StatCard label=\"Per-File Issues\" value={perFileIssues} />\n   935→\t\t\t\t<StatCard label=\"Cross-File Issues\" value={crossFileIssues} />\n   936→\t\t\t</div>\n   937→\n   938→\t\t\t{/* Severity & Issue Type Breakdown - Side by Side */}\n   939→\t\t\t{(highCount > 0 ||\n   940→\t\t\t\tmediumCount > 0 ||\n   941→\t\t\t\tlowCount > 0 ||\n   942→\t\t\t\t(actualErrorCount ?? 0) > 0 ||\n   943→\t\t\t\t(actualSuggestionCount ?? 0) > 0) && (\n   944→\t\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n   945→\t\t\t\t\t{/* Severity Breakdown */}\n   946→\t\t\t\t\t{(highCount > 0 || mediumCount > 0 || lowCount > 0) && (\n   947→\t\t\t\t\t\t<div className=\"glass-card p-6\">\n   948→\t\t\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n   949→\t\t\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n   950→\t\t\t\t\t\t\t\t\t<svg\n   951→\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n   952→\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n   953→\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   954→\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   955→\t\t\t\t\t\t\t\t\t>\n   956→\t\t\t\t\t\t\t\t\t\t<path\n   957→\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   958→\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   959→\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   960→\t\t\t\t\t\t\t\t\t\t\td=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\n   961→\t\t\t\t\t\t\t\t\t\t/>\n   962→\t\t\t\t\t\t\t\t\t</svg>\n   963→\t\t\t\t\t\t\t\t</span>\n   964→\t\t\t\t\t\t\t\tSeverity Breakdown\n   965→\t\t\t\t\t\t\t</h3>\n   966→\t\t\t\t\t\t\t<div className=\"grid grid-cols-3 gap-3\">\n   967→\t\t\t\t\t\t\t\t{highCount > 0 && (\n   968→\t\t\t\t\t\t\t\t\t<div className=\"card-hover stat-card-high rounded-lg p-4 group\">\n   969→\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n   970→\t\t\t\t\t\t\t\t\t\t\t<div className=\"severity-dot severity-dot-high w-4 h-4\" />\n   971→\t\t\t\t\t\t\t\t\t\t\t<div>\n   972→\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n   973→\t\t\t\t\t\t\t\t\t\t\t\t\tHigh\n   974→\t\t\t\t\t\t\t\t\t\t\t\t</p>\n   975→\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-orange-400\">\n   976→\t\t\t\t\t\t\t\t\t\t\t\t\t{highCount}\n   977→\t\t\t\t\t\t\t\t\t\t\t\t</p>\n   978→\t\t\t\t\t\t\t\t\t\t\t</div>\n   979→\t\t\t\t\t\t\t\t\t\t</div>\n   980→\t\t\t\t\t\t\t\t\t</div>\n   981→\t\t\t\t\t\t\t\t)}\n   982→\t\t\t\t\t\t\t\t{mediumCount > 0 && (\n   983→\t\t\t\t\t\t\t\t\t<div className=\"card-hover stat-card-medium rounded-lg p-4 group\">\n   984→\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n   985→\t\t\t\t\t\t\t\t\t\t\t<div className=\"severity-dot severity-dot-medium w-4 h-4\" />\n   986→\t\t\t\t\t\t\t\t\t\t\t<div>\n   987→\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n   988→\t\t\t\t\t\t\t\t\t\t\t\t\tMedium\n   989→\t\t\t\t\t\t\t\t\t\t\t\t</p>\n   990→\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-yellow-400\">\n   991→\t\t\t\t\t\t\t\t\t\t\t\t\t{mediumCount}\n   992→\t\t\t\t\t\t\t\t\t\t\t\t</p>\n   993→\t\t\t\t\t\t\t\t\t\t\t</div>\n   994→\t\t\t\t\t\t\t\t\t\t</div>\n   995→\t\t\t\t\t\t\t\t\t</div>\n   996→\t\t\t\t\t\t\t\t)}\n   997→\t\t\t\t\t\t\t\t{lowCount > 0 && (\n   998→\t\t\t\t\t\t\t\t\t<div className=\"card-hover stat-card-low rounded-lg p-4 group\">\n   999→\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n  1000→\t\t\t\t\t\t\t\t\t\t\t<div className=\"severity-dot severity-dot-low w-4 h-4\" />\n  1001→\t\t\t\t\t\t\t\t\t\t\t<div>\n  1002→\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n  1003→\t\t\t\t\t\t\t\t\t\t\t\t\tLow\n  1004→\t\t\t\t\t\t\t\t\t\t\t\t</p>\n  1005→\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-400\">\n  1006→\t\t\t\t\t\t\t\t\t\t\t\t\t{lowCount}\n  1007→\t\t\t\t\t\t\t\t\t\t\t\t</p>\n  1008→\t\t\t\t\t\t\t\t\t\t\t</div>\n  1009→\t\t\t\t\t\t\t\t\t\t</div>\n  1010→\t\t\t\t\t\t\t\t\t</div>\n  1011→\t\t\t\t\t\t\t\t)}\n  1012→\t\t\t\t\t\t\t</div>\n  1013→\t\t\t\t\t\t</div>\n  1014→\t\t\t\t\t)}\n  1015→\n  1016→\t\t\t\t\t{/* Issue Type Breakdown */}\n  1017→\t\t\t\t\t{((actualErrorCount ?? 0) > 0 ||\n  1018→\t\t\t\t\t\t(actualSuggestionCount ?? 0) > 0) && (\n  1019→\t\t\t\t\t\t<div className=\"glass-card p-6\">\n  1020→\t\t\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n  1021→\t\t\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n  1022→\t\t\t\t\t\t\t\t\t<svg\n  1023→\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n  1024→\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n  1025→\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n  1026→\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n  1027→\t\t\t\t\t\t\t\t\t>\n  1028→\t\t\t\t\t\t\t\t\t\t<path\n  1029→\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n  1030→\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n  1031→\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n  1032→\t\t\t\t\t\t\t\t\t\t\td=\"M4 6h16M4 12h16M4 18h7\"\n  1033→\t\t\t\t\t\t\t\t\t\t/>\n  1034→\t\t\t\t\t\t\t\t\t</svg>\n  1035→\t\t\t\t\t\t\t\t</span>\n  1036→\t\t\t\t\t\t\t\tIssue Type Breakdown\n  1037→\t\t\t\t\t\t\t</h3>\n  1038→\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-3\">\n  1039→\t\t\t\t\t\t\t\t{(actualErrorCount ?? 0) > 0 && (\n  1040→\t\t\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4 group\">\n  1041→\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n  1042→\t\t\t\t\t\t\t\t\t\t\t<svg\n  1043→\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-red-400\"\n  1044→\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n  1045→\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n  1046→\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n  1047→\t\t\t\t\t\t\t\t\t\t\t>\n  1048→\t\t\t\t\t\t\t\t\t\t\t\t<path\n  1049→\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n  1050→\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n  1051→\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n  1052→\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n  1053→\t\t\t\t\t\t\t\t\t\t\t\t/>\n  1054→\t\t\t\t\t\t\t\t\t\t\t</svg>\n  1055→\t\t\t\t\t\t\t\t\t\t\t<div>\n  1056→\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n  1057→\t\t\t\t\t\t\t\t\t\t\t\t\tErrors\n  1058→\t\t\t\t\t\t\t\t\t\t\t\t</p>\n  1059→\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n  1060→\t\t\t\t\t\t\t\t\t\t\t\t\t{actualErrorCount}\n  1061→\t\t\t\t\t\t\t\t\t\t\t\t</p>\n  1062→\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n  1063→\t\t\t\t\t\t\t\t\t\t\t\t\tProblems to fix\n  1064→\t\t\t\t\t\t\t\t\t\t\t\t</p>\n  1065→\t\t\t\t\t\t\t\t\t\t\t</div>\n  1066→\t\t\t\t\t\t\t\t\t\t</div>\n  1067→\t\t\t\t\t\t\t\t\t</div>\n  1068→\t\t\t\t\t\t\t\t)}\n  1069→\t\t\t\t\t\t\t\t{(actualSuggestionCount ?? 0) > 0 && (\n  1070→\t\t\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4 group\">\n  1071→\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n  1072→\t\t\t\t\t\t\t\t\t\t\t<svg\n  1073→\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-indigo-400\"\n  1074→\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n  1075→\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n  1076→\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n  1077→\t\t\t\t\t\t\t\t\t\t\t>\n  1078→\t\t\t\t\t\t\t\t\t\t\t\t<path\n  1079→\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n  1080→\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n  1081→\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n  1082→\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n  1083→\t\t\t\t\t\t\t\t\t\t\t\t/>\n  1084→\t\t\t\t\t\t\t\t\t\t\t</svg>\n  1085→\t\t\t\t\t\t\t\t\t\t\t<div>\n  1086→\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n  1087→\t\t\t\t\t\t\t\t\t\t\t\t\tSuggestions\n  1088→\t\t\t\t\t\t\t\t\t\t\t\t</p>\n  1089→\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n  1090→\t\t\t\t\t\t\t\t\t\t\t\t\t{actualSuggestionCount}\n  1091→\t\t\t\t\t\t\t\t\t\t\t\t</p>\n  1092→\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n  1093→\t\t\t\t\t\t\t\t\t\t\t\t\tOpportunities to improve\n  1094→\t\t\t\t\t\t\t\t\t\t\t\t</p>\n  1095→\t\t\t\t\t\t\t\t\t\t\t</div>\n  1096→\t\t\t\t\t\t\t\t\t\t</div>\n  1097→\t\t\t\t\t\t\t\t\t</div>\n  1098→\t\t\t\t\t\t\t\t)}\n  1099→\t\t\t\t\t\t\t</div>\n  1100→\t\t\t\t\t\t</div>\n  1101→\t\t\t\t\t)}\n  1102→\t\t\t\t</div>\n  1103→\t\t\t)}\n  1104→\n  1105→\t\t\t{/* Curated Issues Breakdown - Dual Curation */}\n  1106→\t\t\t{curation && (curatedCount ?? 0) > 0 && (\n  1107→\t\t\t\t<div className=\"glass-card p-6\">\n  1108→\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n  1109→\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n  1110→\t\t\t\t\t\t\t<svg\n  1111→\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n  1112→\t\t\t\t\t\t\t\tfill=\"none\"\n  1113→\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n  1114→\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n  1115→\t\t\t\t\t\t\t>\n  1116→\t\t\t\t\t\t\t\t<path\n  1117→\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n  1118→\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n  1119→\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n  1120→\t\t\t\t\t\t\t\t\td=\"M13 10V3L4 14h7v7l9-11h-7z\"\n  1121→\t\t\t\t\t\t\t\t/>\n  1122→\t\t\t\t\t\t\t</svg>\n  1123→\t\t\t\t\t\t</span>\n  1124→\t\t\t\t\t\tCurated Issues Breakdown\n  1125→\t\t\t\t\t\t<span className=\"text-xs font-normal text-slate-400 ml-2\">\n  1126→\t\t\t\t\t\t\t(AI-selected high-impact issues)\n  1127→\t\t\t\t\t\t</span>\n  1128→\t\t\t\t\t</h3>\n  1129→\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n  1130→\t\t\t\t\t\t{/* Curated Errors */}\n  1131→\t\t\t\t\t\t{curation.errors && (\n  1132→\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4\">\n  1133→\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n  1134→\t\t\t\t\t\t\t\t\t<svg\n  1135→\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-red-400\"\n  1136→\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n  1137→\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n  1138→\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n  1139→\t\t\t\t\t\t\t\t\t>\n  1140→\t\t\t\t\t\t\t\t\t\t<path\n  1141→\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n  1142→\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n  1143→\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n  1144→\t\t\t\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n  1145→\t\t\t\t\t\t\t\t\t\t/>\n  1146→\t\t\t\t\t\t\t\t\t</svg>\n  1147→\t\t\t\t\t\t\t\t\t<div>\n  1148→\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n  1149→\t\t\t\t\t\t\t\t\t\t\tTop Errors\n  1150→\t\t\t\t\t\t\t\t\t\t</p>\n  1151→\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n  1152→\t\t\t\t\t\t\t\t\t\t\t{curation.errors.curatedIssues.length}\n  1153→\t\t\t\t\t\t\t\t\t\t</p>\n  1154→\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n  1155→\t\t\t\t\t\t\t\t\t\t\tfrom {curation.errors.summary.totalIssuesReviewed}{\" \"}\n  1156→\t\t\t\t\t\t\t\t\t\t\treviewed\n  1157→\t\t\t\t\t\t\t\t\t\t</p>\n  1158→\t\t\t\t\t\t\t\t\t</div>\n  1159→\t\t\t\t\t\t\t\t</div>\n  1160→\t\t\t\t\t\t\t</div>\n  1161→\t\t\t\t\t\t)}\n  1162→\n  1163→\t\t\t\t\t\t{/* Curated Suggestions */}\n  1164→\t\t\t\t\t\t{curation.suggestions && (\n  1165→\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4\">\n  1166→\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n  1167→\t\t\t\t\t\t\t\t\t<svg\n  1168→\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-indigo-400\"\n  1169→\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n  1170→\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n  1171→\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n  1172→\t\t\t\t\t\t\t\t\t>\n  1173→\t\t\t\t\t\t\t\t\t\t<path\n  1174→\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n  1175→\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n  1176→\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n  1177→\t\t\t\t\t\t\t\t\t\t\td=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n  1178→\t\t\t\t\t\t\t\t\t\t/>\n  1179→\t\t\t\t\t\t\t\t\t</svg>\n  1180→\t\t\t\t\t\t\t\t\t<div>\n  1181→\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n  1182→\t\t\t\t\t\t\t\t\t\t\tTop Suggestions\n  1183→\t\t\t\t\t\t\t\t\t\t</p>\n  1184→\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n  1185→\t\t\t\t\t\t\t\t\t\t\t{curation.suggestions.curatedIssues.length}\n  1186→\t\t\t\t\t\t\t\t\t\t</p>\n  1187→\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n  1188→\t\t\t\t\t\t\t\t\t\t\tfrom {curation.suggestions.summary.totalIssuesReviewed}{\" \"}\n  1189→\t\t\t\t\t\t\t\t\t\t\treviewed\n  1190→\t\t\t\t\t\t\t\t\t\t</p>\n  1191→\t\t\t\t\t\t\t\t\t</div>\n  1192→\t\t\t\t\t\t\t\t</div>\n  1193→\t\t\t\t\t\t\t</div>\n  1194→\t\t\t\t\t\t)}\n  1195→\t\t\t\t\t</div>\n  1196→\t\t\t\t</div>\n  1197→\t\t\t)}\n  1198→\n  1199→\t\t\t{/* Activity Log - Collapsible */}\n  1200→\t\t\t{evaluationLogs && evaluationLogs.length > 0 && (\n  1201→\t\t\t\t<div className=\"glass-card p-6\">\n  1202→\t\t\t\t\t<button\n  1203→\t\t\t\t\t\tonClick={() => setShowActivityLog(!showActivityLog)}\n  1204→\t\t\t\t\t\tclassName=\"w-full flex items-center justify-between text-left\"\n  1205→\t\t\t\t\t>\n  1206→\t\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 flex items-center gap-2\">\n  1207→\t\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n  1208→\t\t\t\t\t\t\t\t<svg\n  1209→\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n  1210→\t\t\t\t\t\t\t\t\tfill=\"none\"\n  1211→\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n  1212→\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n  1213→\t\t\t\t\t\t\t\t>\n  1214→\t\t\t\t\t\t\t\t\t<path\n  1215→\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n  1216→\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n  1217→\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n  1218→\t\t\t\t\t\t\t\t\t\td=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\"\n  1219→\t\t\t\t\t\t\t\t\t/>\n  1220→\t\t\t\t\t\t\t\t</svg>\n  1221→\t\t\t\t\t\t\t</span>\n  1222→\t\t\t\t\t\t\tActivity Log\n  1223→\t\t\t\t\t\t\t<span className=\"text-xs font-normal text-slate-400 ml-2\">\n  1224→\t\t\t\t\t\t\t\t({evaluationLogs.length} entries)\n  1225→\t\t\t\t\t\t\t</span>\n  1226→\t\t\t\t\t\t</h3>\n  1227→\t\t\t\t\t\t<svg\n  1228→\t\t\t\t\t\t\tclassName={`w-5 h-5 text-slate-400 transition-transform ${showActivityLog ? \"rotate-180\" : \"\"}`}\n  1229→\t\t\t\t\t\t\tfill=\"none\"\n  1230→\t\t\t\t\t\t\tstroke=\"currentColor\"\n  1231→\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n  1232→\t\t\t\t\t\t>\n  1233→\t\t\t\t\t\t\t<path\n  1234→\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n  1235→\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n  1236→\t\t\t\t\t\t\t\tstrokeWidth={2}\n  1237→\t\t\t\t\t\t\t\td=\"M19 9l-7 7-7-7\"\n  1238→\t\t\t\t\t\t\t/>\n  1239→\t\t\t\t\t\t</svg>\n  1240→\t\t\t\t\t</button>\n  1241→\n  1242→\t\t\t\t\t{showActivityLog && (\n  1243→\t\t\t\t\t\t<div className=\"mt-4 bg-slate-900/50 rounded-lg p-4 max-h-64 overflow-y-auto custom-scrollbar border border-slate-700/30\">\n  1244→\t\t\t\t\t\t\t<div className=\"space-y-2\">\n  1245→\t\t\t\t\t\t\t\t{evaluationLogs\n  1246→\t\t\t\t\t\t\t\t\t.slice()\n  1247→\t\t\t\t\t\t\t\t\t.reverse()\n  1248→\t\t\t\t\t\t\t\t\t.map((log, index) => (\n  1249→\t\t\t\t\t\t\t\t\t\t<div key={index} className=\"flex items-start gap-3 text-xs\">\n  1250→\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 shrink-0 font-mono\">\n  1251→\t\t\t\t\t\t\t\t\t\t\t\t{log.timestamp instanceof Date\n  1252→\t\t\t\t\t\t\t\t\t\t\t\t\t? log.timestamp.toLocaleTimeString()\n  1253→\t\t\t\t\t\t\t\t\t\t\t\t\t: new Date(log.timestamp).toLocaleTimeString()}\n  1254→\t\t\t\t\t\t\t\t\t\t\t</span>\n  1255→\t\t\t\t\t\t\t\t\t\t\t<span\n  1256→\t\t\t\t\t\t\t\t\t\t\t\tclassName={`\n  1257→\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"success\" ? \"text-green-400\" : \"\"}\n  1258→\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"error\" ? \"text-red-400\" : \"\"}\n  1259→\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"warning\" ? \"text-yellow-400\" : \"\"}\n  1260→\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"info\" ? \"text-slate-300\" : \"\"}\n  1261→\t\t\t\t\t\t\t\t\t\t\t\t`}\n  1262→\t\t\t\t\t\t\t\t\t\t\t>\n  1263→\t\t\t\t\t\t\t\t\t\t\t\t{log.message}\n  1264→\t\t\t\t\t\t\t\t\t\t\t</span>\n  1265→\t\t\t\t\t\t\t\t\t\t</div>\n  1266→\t\t\t\t\t\t\t\t\t))}\n  1267→\t\t\t\t\t\t\t</div>\n  1268→\t\t\t\t\t\t</div>\n  1269→\t\t\t\t\t)}\n  1270→\t\t\t\t</div>\n  1271→\t\t\t)}\n  1272→\n  1273→\t\t\t{/* Skills Browser Modal */}\n  1274→\t\t\t<SkillsBrowserModal\n  1275→\t\t\t\tisOpen={showSkillsModal}\n  1276→\t\t\t\tonClose={() => setShowSkillsModal(false)}\n  1277→\t\t\t\tskills={skills}\n  1278→\t\t\t/>\n  1279→\n  1280→\t\t\t{/* Context Files Browser Modal */}\n  1281→\t\t\t<ContextFilesBrowserModal\n  1282→\t\t\t\tisOpen={contextFilesModalType !== null}\n  1283→\t\t\t\tonClose={() => setContextFilesModalType(null)}\n  1284→\t\t\t\tcontextFiles={contextFiles}\n  1285→\t\t\t\tfilterType={contextFilesModalType ?? undefined}\n  1286→\t\t\t/>\n  1287→\n  1288→\t\t\t{/* Linked Docs Browser Modal */}\n  1289→\t\t\t<LinkedDocsBrowserModal\n  1290→\t\t\t\tisOpen={showLinkedDocsModal}\n  1291→\t\t\t\tonClose={() => setShowLinkedDocsModal(false)}\n  1292→\t\t\t\tlinkedDocs={linkedDocs}\n  1293→\t\t\t/>\n  1294→\t\t</div>\n  1295→\t);\n  1296→};\n  1297→"}]},"uuid":"aa0afed6-32ae-4a11-a0e4-42180dfb693d","timestamp":"2026-02-13T12:46:48.445Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx","content":"import React, { useState } from \"react\";\nimport { useFeatureFlags } from \"../contexts/FeatureFlagContext\";\nimport { extractRepoName, formatCost, formatDuration } from \"../lib/formatters\";\nimport type {\n\tICuratedIssue,\n\tICurationSummary,\n\tMetadata,\n} from \"../types/evaluation\";\nimport { StatCard } from \"./shared\";\nimport { ContextFilesBrowserModal } from \"./shared/ContextFilesBrowserModal\";\nimport { LinkedDocsBrowserModal } from \"./shared/LinkedDocsBrowserModal\";\nimport { SkillsBrowserModal } from \"./shared/SkillsBrowserModal\";\nimport { ContextScoreCard } from \"./summary/ContextScoreCard\";\n\n// Log entry type for activity logs\ninterface LogEntry {\n\ttimestamp: Date;\n\ttype: string;\n\tmessage: string;\n}\n\ninterface SummaryProps {\n\tmetadata: Metadata;\n\trepositoryUrl?: string | null;\n\tactualIssueCount?: number;\n\tactualPerFileIssueCount?: number;\n\tactualCrossFileIssueCount?: number;\n\tactualHighCount?: number;\n\tactualMediumCount?: number;\n\tactualLowCount?: number;\n\tactualErrorCount?: number;\n\tactualSuggestionCount?: number;\n\tcurationSummary?: ICurationSummary | null;\n\tcuratedCount?: number;\n\tevaluationId?: string;\n\tonDelete?: () => void;\n\tcuration?: {\n\t\terrors?: {\n\t\t\tcuratedIssues: ICuratedIssue[];\n\t\t\tsummary: ICurationSummary;\n\t\t};\n\t\tsuggestions?: {\n\t\t\tcuratedIssues: ICuratedIssue[];\n\t\t\tsummary: ICurationSummary;\n\t\t};\n\t};\n\tevaluationLogs?: LogEntry[];\n}\n\nexport const Summary: React.FC<SummaryProps> = ({\n\tmetadata,\n\trepositoryUrl,\n\tactualIssueCount,\n\tactualPerFileIssueCount,\n\tactualCrossFileIssueCount,\n\tactualHighCount,\n\tactualMediumCount,\n\tactualLowCount,\n\tactualErrorCount,\n\tactualSuggestionCount,\n\tcurationSummary: _curationSummary,\n\tcuratedCount,\n\tevaluationId,\n\tonDelete,\n\tcuration,\n\tevaluationLogs,\n}) => {\n\tconst { cloudMode } = useFeatureFlags();\n\tconst [showRawContext, setShowRawContext] = useState(false);\n\tconst [copied, setCopied] = useState(false);\n\tconst [showSkillsModal, setShowSkillsModal] = useState(false);\n\tconst [showLinkedDocsModal, setShowLinkedDocsModal] = useState(false);\n\tconst [contextFilesModalType, setContextFilesModalType] = useState<\n\t\t\"agents\" | \"claude\" | \"copilot\" | \"rules\" | \"claude-code\" | null\n\t>(null);\n\tconst [showActivityLog, setShowActivityLog] = useState(false);\n\tconst formattedDate = new Date(metadata.generatedAt).toLocaleString();\n\tconst shareUrl = evaluationId\n\t\t? `${window.location.origin}/evaluation/${evaluationId}`\n\t\t: null;\n\n\t// Sort files alphabetically by directory hierarchy\n\tconst sortedFiles = metadata.filesEvaluated\n\t\t? [...metadata.filesEvaluated].sort((a, b) => a.localeCompare(b))\n\t\t: [];\n\n\tconst handleCopyLink = () => {\n\t\tif (evaluationId) {\n\t\t\tconst shareUrl = `${window.location.origin}/evaluation/${evaluationId}`;\n\t\t\tnavigator.clipboard.writeText(shareUrl).then(() => {\n\t\t\t\tsetCopied(true);\n\t\t\t\tsetTimeout(() => setCopied(false), 2000);\n\t\t\t});\n\t\t}\n\t};\n\n\t// Use actual counts if provided, otherwise fall back to metadata\n\tconst totalIssues = actualIssueCount ?? metadata.totalIssues ?? 0;\n\tconst perFileIssues = actualPerFileIssueCount ?? metadata.perFileIssues ?? 0;\n\tconst crossFileIssues =\n\t\tactualCrossFileIssueCount ?? metadata.crossFileIssues ?? 0;\n\tconst highCount = actualHighCount ?? metadata.highCount ?? 0;\n\tconst mediumCount = actualMediumCount ?? metadata.mediumCount ?? 0;\n\tconst lowCount = actualLowCount ?? metadata.lowCount ?? 0;\n\n\t// Context files counting\n\tconst agentsFilePaths = metadata.projectContext?.agentsFilePaths ?? [];\n\tconst contextFilesFromApi = metadata.projectContext?.contextFiles ?? [];\n\n\t// Create fallback context files from agentsFilePaths for backward compatibility\n\t// This allows the browser modal to work with older evaluations that don't have contextFiles\n\tconst contextFiles =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t: agentsFilePaths.map((path) => {\n\t\t\t\t\tconst lowerPath = path.toLowerCase();\n\t\t\t\t\tlet type: \"agents\" | \"claude\" | \"copilot\" = \"agents\";\n\t\t\t\t\tif (lowerPath.includes(\"claude\")) {\n\t\t\t\t\t\ttype = \"claude\";\n\t\t\t\t\t} else if (lowerPath.includes(\"copilot\")) {\n\t\t\t\t\t\ttype = \"copilot\";\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tpath,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tcontent: \"\", // No content available for old evaluations\n\t\t\t\t\t\tsummary: \"Re-run evaluation to load content and summary.\",\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t// Use contextFiles if available, otherwise fall back to agentsFilePaths for backward compatibility\n\tconst agentsMdPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t\t\t.filter((f) => f.type === \"agents\")\n\t\t\t\t\t.map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) => p.toLowerCase().includes(\"agents\"));\n\tconst claudeMdPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t\t\t.filter((f) => f.type === \"claude\")\n\t\t\t\t\t.map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) => p.toLowerCase().includes(\"claude\"));\n\tconst rulesPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi.filter((f) => f.type === \"rules\").map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) => p.includes(\".claude/rules/\"));\n\tconst copilotInstructionsPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t\t\t.filter((f) => f.type === \"copilot\")\n\t\t\t\t\t.map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) =>\n\t\t\t\t\tp.toLowerCase().includes(\"copilot-instructions\"),\n\t\t\t\t);\n\tconst agentsMdCount = agentsMdPaths.length;\n\tconst claudeMdCount = claudeMdPaths.length;\n\tconst rulesCount = rulesPaths.length;\n\tconst copilotInstructionsCount = copilotInstructionsPaths.length;\n\t// Claude Code combines CLAUDE.md and .claude/rules files\n\tconst claudeCodeCount = claudeMdCount + rulesCount;\n\tconst skills = metadata.projectContext?.skills ?? [];\n\tconst skillsCount = skills.length;\n\tconst linkedDocs = metadata.projectContext?.linkedDocs ?? [];\n\tconst linkedDocsCount = linkedDocs.length;\n\n\t// Sort paths, skills, and linked docs alphabetically for display\n\tconst sortedAgentsMdPaths = [...agentsMdPaths].sort((a, b) =>\n\t\ta.localeCompare(b),\n\t);\n\t// Combined Claude Code paths (CLAUDE.md + rules)\n\tconst sortedClaudeCodePaths = [...claudeMdPaths, ...rulesPaths].sort((a, b) =>\n\t\ta.localeCompare(b),\n\t);\n\tconst sortedCopilotInstructionsPaths = [...copilotInstructionsPaths].sort(\n\t\t(a, b) => a.localeCompare(b),\n\t);\n\tconst sortedSkills = [...skills].sort((a, b) => a.name.localeCompare(b.name));\n\tconst sortedLinkedDocs = [...linkedDocs].sort((a, b) =>\n\t\ta.path.localeCompare(b.path),\n\t);\n\tconst hasContextFiles =\n\t\tagentsMdCount > 0 ||\n\t\tclaudeCodeCount > 0 ||\n\t\tcopilotInstructionsCount > 0 ||\n\t\tskillsCount > 0 ||\n\t\tlinkedDocsCount > 0;\n\n\treturn (\n\t\t<div className=\"space-y-4 animate-fade-in\">\n\t\t\t{/* Header */}\n\t\t\t<div className=\"glass-card border border-indigo-500/30 p-4\">\n\t\t\t\t<div className=\"flex items-center justify-between py-3\">\n\t\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t\t{/* Repository Name - Prominent Display */}\n\t\t\t\t\t\t{repositoryUrl && (\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref={repositoryUrl}\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-2 hover:opacity-80 transition-opacity group\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"w-8 h-8 bg-slate-700/60 rounded-lg flex items-center justify-center border border-slate-600/50 group-hover:bg-purple-700/60 transition-colors\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-slate-300\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z\"\n\t\t\t\t\t\t\t\t\t\t\t\tclipRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<span className=\"text-xl md:text-2xl font-bold text-slate-100 group-hover:underline\">\n\t\t\t\t\t\t\t\t\t\t{extractRepoName(repositoryUrl)}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-400\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t<div className=\"w-6 h-6 bg-slate-700/60 rounded-md flex items-center justify-center border border-slate-600/50\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-4 w-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path d=\"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z\" />\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\td=\"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z\"\n\t\t\t\t\t\t\t\t\t\tclipRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h2 className=\"text-base md:text-lg font-semibold text-slate-100\">\n\t\t\t\t\t\t\t\tEvaluation Summary\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex flex-wrap items-center gap-2 text-slate-300 text-xs\">\n\t\t\t\t\t\t\t<span className=\"flex items-center gap-1 bg-slate-700/60 px-2 py-1 rounded-md border border-slate-600/50\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{formattedDate}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"flex items-center gap-1 bg-slate-700/60 px-2 py-1 rounded-md border border-slate-600/50\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{metadata.agent}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-1 bg-slate-700/60 px-2 py-1 rounded-md border border-slate-600/50\"\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\tmetadata.evaluationMode === \"unified\"\n\t\t\t\t\t\t\t\t\t\t? \"Unified mode: All files evaluated together for cross-file analysis\"\n\t\t\t\t\t\t\t\t\t\t: \"Independent mode: Each file evaluated separately\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{metadata.evaluationMode}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n\t\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tonDelete();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n\t\t\t\t\t\t\ttitle=\"Delete evaluation\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Share Report Card - Prominent Display */}\n\t\t\t{shareUrl && (\n\t\t\t\t<div className=\"glass-card p-4 border border-indigo-500/30\">\n\t\t\t\t\t<div className=\"flex items-start gap-3\">\n\t\t\t\t\t\t<div className=\"w-8 h-8 bg-indigo-600/30 rounded-lg flex items-center justify-center shrink-0\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-indigo-400\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex-1 min-w-0\">\n\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-slate-200 mb-1\">\n\t\t\t\t\t\t\t\tShare this report\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<code className=\"text-xs text-slate-300 bg-slate-900/50 px-2 py-1 rounded truncate flex-1 block overflow-hidden\">\n\t\t\t\t\t\t\t\t\t{shareUrl}\n\t\t\t\t\t\t\t\t</code>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={handleCopyLink}\n\t\t\t\t\t\t\t\t\tclassName=\"shrink-0 px-3 py-1.5 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-500 rounded-lg transition-colors flex items-center gap-1.5\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{copied ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M5 13l4 4L19 7\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<span>Copied!</span>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<span>Copy Link</span>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Context Score - Prominent Display */}\n\t\t\t{metadata.contextScore && (\n\t\t\t\t<ContextScoreCard contextScore={metadata.contextScore} />\n\t\t\t)}\n\n\t\t\t{/* Project Context */}\n\t\t\t{metadata.projectContext && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t<span className=\"w-6 h-6 bg-indigo-600 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-white\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tProject Context\n\t\t\t\t\t\t<span className=\"text-xs font-normal text-slate-400 ml-2\">\n\t\t\t\t\t\t\t(auto-detected)\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tLanguages\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.languages}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tFrameworks\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.frameworks}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tArchitecture\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.architecture}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tPatterns\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.patterns}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Raw Context Toggle */}\n\t\t\t\t\t{metadata.projectContext.raw && (\n\t\t\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => setShowRawContext(!showRawContext)}\n\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-2 text-xs text-slate-400 hover:text-slate-200 transition-colors\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName={`w-3 h-3 transition-transform ${showRawContext ? \"rotate-90\" : \"\"}`}\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 5l7 7-7 7\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{showRawContext ? \"Hide\" : \"Show\"} raw context\n\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t{showRawContext && (\n\t\t\t\t\t\t\t\t<div className=\"mt-2 bg-slate-900/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t\t\t<pre className=\"text-xs text-slate-300 whitespace-pre-wrap font-mono overflow-x-auto\">\n\t\t\t\t\t\t\t\t\t\t{metadata.projectContext.raw}\n\t\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{metadata.contextIdentificationCostUsd !== undefined &&\n\t\t\t\t\t\tmetadata.contextIdentificationDurationMs !== undefined && (\n\t\t\t\t\t\t\t<div className=\"mt-3 pt-3 border-t border-slate-700/50 flex items-center gap-4 text-xs text-slate-400\">\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\tContext analysis:{\" \"}\n\t\t\t\t\t\t\t\t\t{formatCost(metadata.contextIdentificationCostUsd)}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{formatDuration(metadata.contextIdentificationDurationMs)}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Context Files */}\n\t\t\t{hasContextFiles && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tClaude Code\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3\">\n\t\t\t\t\t\t{/* AGENTS.md Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tAGENTS.md\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{agentsMdCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{agentsMdCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedAgentsMdPaths.map((path, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-slate-400 flex items-start gap-1.5\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-0.5\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{path}</span>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setContextFilesModalType(\"agents\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Browse</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Claude Code Card (CLAUDE.md + Rules combined) */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tCLAUDE.md + Rules\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{claudeCodeCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{claudeCodeCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedClaudeCodePaths.map((path, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-slate-400 flex items-start gap-1.5\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-0.5\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{path}</span>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setContextFilesModalType(\"claude-code\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Browse</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Github Copilot Instructions Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tCopilot Instructions\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{copilotInstructionsCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{copilotInstructionsCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedCopilotInstructionsPaths.map((path, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-slate-400 flex items-start gap-1.5\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-0.5\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{path}</span>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setContextFilesModalType(\"copilot\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Browse</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Skills Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tSkills\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{skillsCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{skillsCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1.5 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedSkills.map((skill, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li key={index} className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-300 font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{skill.name}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 ml-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t({skill.directory})\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t{skill.description && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-slate-500 mt-0.5 truncate\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={skill.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{skill.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setShowSkillsModal(true)}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Display all</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Linked Docs Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tLinked Docs\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{linkedDocsCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{linkedDocsCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1.5 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedLinkedDocs.map((doc, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li key={index} className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-slate-300 font-medium break-all\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{doc.path}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-slate-500 text-xs mt-0.5\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tfrom {doc.linkedFrom}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{doc.summary && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-slate-500 mt-0.5 line-clamp-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={doc.summary}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{doc.summary}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setShowLinkedDocsModal(true)}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Display all</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Main Stats Grid */}\n\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n\t\t\t\t<StatCard\n\t\t\t\t\tlabel=\"Total Files\"\n\t\t\t\t\tvalue={metadata.totalFiles}\n\t\t\t\t\ticon={\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"h-8 w-8\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t}\n\t\t\t\t\ttooltip={\n\t\t\t\t\t\tsortedFiles.length > 0 && (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide mb-2\">\n\t\t\t\t\t\t\t\t\tFiles Evaluated\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<ul className=\"space-y-1\">\n\t\t\t\t\t\t\t\t\t{sortedFiles.map((file, index) => (\n\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-sm text-slate-300 flex items-start gap-2\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-1\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{file}</span>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<StatCard\n\t\t\t\t\tlabel=\"Total Issues\"\n\t\t\t\t\tvalue={totalIssues}\n\t\t\t\t\ticon={\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"h-8 w-8\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<StatCard label=\"Per-File Issues\" value={perFileIssues} />\n\t\t\t\t<StatCard label=\"Cross-File Issues\" value={crossFileIssues} />\n\t\t\t</div>\n\n\t\t\t{/* Severity & Issue Type Breakdown - Side by Side */}\n\t\t\t{(highCount > 0 ||\n\t\t\t\tmediumCount > 0 ||\n\t\t\t\tlowCount > 0 ||\n\t\t\t\t(actualErrorCount ?? 0) > 0 ||\n\t\t\t\t(actualSuggestionCount ?? 0) > 0) && (\n\t\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n\t\t\t\t\t{/* Severity Breakdown */}\n\t\t\t\t\t{(highCount > 0 || mediumCount > 0 || lowCount > 0) && (\n\t\t\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\tSeverity Breakdown\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-3 gap-3\">\n\t\t\t\t\t\t\t\t{highCount > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover stat-card-high rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"severity-dot severity-dot-high w-4 h-4\" />\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tHigh\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-orange-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{highCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{mediumCount > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover stat-card-medium rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"severity-dot severity-dot-medium w-4 h-4\" />\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tMedium\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-yellow-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{mediumCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{lowCount > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover stat-card-low rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"severity-dot severity-dot-low w-4 h-4\" />\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tLow\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{lowCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Issue Type Breakdown */}\n\t\t\t\t\t{((actualErrorCount ?? 0) > 0 ||\n\t\t\t\t\t\t(actualSuggestionCount ?? 0) > 0) && (\n\t\t\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M4 6h16M4 12h16M4 18h7\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\tIssue Type Breakdown\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-3\">\n\t\t\t\t\t\t\t\t{(actualErrorCount ?? 0) > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-red-400\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tErrors\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{actualErrorCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tProblems to fix\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{(actualSuggestionCount ?? 0) > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-indigo-400\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tSuggestions\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{actualSuggestionCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tOpportunities to improve\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Curated Issues Breakdown - Dual Curation */}\n\t\t\t{curation && (curatedCount ?? 0) > 0 && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M13 10V3L4 14h7v7l9-11h-7z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tCurated Issues Breakdown\n\t\t\t\t\t\t<span className=\"text-xs font-normal text-slate-400 ml-2\">\n\t\t\t\t\t\t\t(AI-selected high-impact issues)\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n\t\t\t\t\t\t{/* Curated Errors */}\n\t\t\t\t\t\t{curation.errors && (\n\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-red-400\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\tTop Errors\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t{curation.errors.curatedIssues.length}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\tfrom {curation.errors.summary.totalIssuesReviewed}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\treviewed\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* Curated Suggestions */}\n\t\t\t\t\t\t{curation.suggestions && (\n\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-indigo-400\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\tTop Suggestions\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t{curation.suggestions.curatedIssues.length}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\tfrom {curation.suggestions.summary.totalIssuesReviewed}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\treviewed\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Activity Log - Collapsible */}\n\t\t\t{evaluationLogs && evaluationLogs.length > 0 && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={() => setShowActivityLog(!showActivityLog)}\n\t\t\t\t\t\tclassName=\"w-full flex items-center justify-between text-left\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 flex items-center gap-2\">\n\t\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\tActivity Log\n\t\t\t\t\t\t\t<span className=\"text-xs font-normal text-slate-400 ml-2\">\n\t\t\t\t\t\t\t\t({evaluationLogs.length} entries)\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName={`w-5 h-5 text-slate-400 transition-transform ${showActivityLog ? \"rotate-180\" : \"\"}`}\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M19 9l-7 7-7-7\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t{showActivityLog && (\n\t\t\t\t\t\t<div className=\"mt-4 bg-slate-900/50 rounded-lg p-4 max-h-64 overflow-y-auto custom-scrollbar border border-slate-700/30\">\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t{evaluationLogs\n\t\t\t\t\t\t\t\t\t.slice()\n\t\t\t\t\t\t\t\t\t.reverse()\n\t\t\t\t\t\t\t\t\t.map((log, index) => (\n\t\t\t\t\t\t\t\t\t\t<div key={index} className=\"flex items-start gap-3 text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 shrink-0 font-mono\">\n\t\t\t\t\t\t\t\t\t\t\t\t{log.timestamp instanceof Date\n\t\t\t\t\t\t\t\t\t\t\t\t\t? log.timestamp.toLocaleTimeString()\n\t\t\t\t\t\t\t\t\t\t\t\t\t: new Date(log.timestamp).toLocaleTimeString()}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"success\" ? \"text-green-400\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"error\" ? \"text-red-400\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"warning\" ? \"text-yellow-400\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"info\" ? \"text-slate-300\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{log.message}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Skills Browser Modal */}\n\t\t\t<SkillsBrowserModal\n\t\t\t\tisOpen={showSkillsModal}\n\t\t\t\tonClose={() => setShowSkillsModal(false)}\n\t\t\t\tskills={skills}\n\t\t\t/>\n\n\t\t\t{/* Context Files Browser Modal */}\n\t\t\t<ContextFilesBrowserModal\n\t\t\t\tisOpen={contextFilesModalType !== null}\n\t\t\t\tonClose={() => setContextFilesModalType(null)}\n\t\t\t\tcontextFiles={contextFiles}\n\t\t\t\tfilterType={contextFilesModalType ?? undefined}\n\t\t\t/>\n\n\t\t\t{/* Linked Docs Browser Modal */}\n\t\t\t<LinkedDocsBrowserModal\n\t\t\t\tisOpen={showLinkedDocsModal}\n\t\t\t\tonClose={() => setShowLinkedDocsModal(false)}\n\t\t\t\tlinkedDocs={linkedDocs}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","numLines":1297,"startLine":1,"totalLines":1297}},"sourceToolAssistantUUID":"bb043b80-c711-416c-b0cc-a6227904ba77"}
{"parentUuid":"aa0afed6-32ae-4a11-a0e4-42180dfb693d","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01RSbg6vkLNtdQYV7Y95Lxs6","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_012aas7oxHXCCpUSVq32CssQ","name":"Read","input":{"file_path":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/App.tsx"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":14765,"cache_read_input_tokens":16195,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":14765},"output_tokens":2,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66JkR69peFRCzwUbm1q","type":"assistant","uuid":"0425ed79-d5b0-45ef-ac9c-4624d2f008fd","timestamp":"2026-02-13T12:46:48.595Z"}
{"parentUuid":"0425ed79-d5b0-45ef-ac9c-4624d2f008fd","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_012aas7oxHXCCpUSVq32CssQ","toolUseID":"toolu_012aas7oxHXCCpUSVq32CssQ","timestamp":"2026-02-13T12:46:48.840Z","uuid":"215bfd40-3e1f-498e-ba65-6a4d9206d1ff"}
{"parentUuid":"0425ed79-d5b0-45ef-ac9c-4624d2f008fd","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_012aas7oxHXCCpUSVq32CssQ","type":"tool_result","content":"     1→import { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\n     2→import { createRoot } from \"react-dom/client\";\n     3→import {\n     4→\tBrowserRouter,\n     5→\tRoute,\n     6→\tRoutes,\n     7→\tuseLocation,\n     8→\tuseNavigate,\n     9→\tuseParams,\n    10→\tuseSearchParams,\n    11→} from \"react-router-dom\";\n    12→import { AppHeader } from \"./components/AppHeader\";\n    13→import { AssessmentPage } from \"./components/AssessmentPage\";\n    14→import { BatchStatusPage } from \"./components/BatchStatusPage\";\n    15→import { CostAnalysisPanel } from \"./components/CostAnalysisPanel\";\n    16→import { EmptyState } from \"./components/EmptyState\";\n    17→import { EvaluationInputPanel } from \"./components/EvaluationInputPanel\";\n    18→import { EvaluatorFailurePanel } from \"./components/EvaluatorFailurePanel\";\n    19→import { EvaluatorsPage } from \"./components/EvaluatorsPage\";\n    20→import { EvaluatorTemplatesPanel } from \"./components/EvaluatorTemplatesPanel\";\n    21→import { ExperimentalNotice } from \"./components/ExperimentalNotice\";\n    22→import type { FilterOptionCounts, FilterState } from \"./components/FilterPanel\";\n    23→import { FilterPanel } from \"./components/FilterPanel\";\n    24→import { HowItWorksPage } from \"./components/HowItWorksPage\";\n    25→import { IssuesList } from \"./components/IssuesList\";\n    26→import { IssuesPage } from \"./components/IssuesPage\";\n    27→import { ProgressPanel } from \"./components/ProgressPanel\";\n    28→import { RecentEvaluationsPage } from \"./components/RecentEvaluationsPage\";\n    29→import { RemediateTab } from \"./components/RemediateTab\";\n    30→import { SelectionSummaryBar } from \"./components/SelectionSummaryBar\";\n    31→import { StatsPage } from \"./components/StatsPage\";\n    32→import { Summary } from \"./components/Summary\";\n    33→import type { TabItem } from \"./components/Tabs\";\n    34→import { TabPanel, Tabs } from \"./components/Tabs\";\n    35→import {\n    36→\tFeatureFlagProvider,\n    37→\tuseFeatureFlags,\n    38→} from \"./contexts/FeatureFlagContext\";\n    39→import { useBookmarkApi } from \"./hooks/useBookmarkApi\";\n    40→import { useEvaluationApi } from \"./hooks/useEvaluationApi\";\n    41→import { useEvaluationHistory } from \"./hooks/useEvaluationHistory\";\n    42→import { useFeedbackApi } from \"./hooks/useFeedbackApi\";\n    43→import { useSelectionApi } from \"./hooks/useSelectionApi\";\n    44→import { useSSE } from \"./hooks/useSSE\";\n    45→import { useVersion } from \"./hooks/useVersion\";\n    46→import { getFilteredEvaluatorCount } from \"./lib/formatters\";\n    47→import { shouldUseNestedGrouping as checkShouldUseNestedGrouping } from \"./lib/grouping-utils\";\n    48→import { generateIssueHash } from \"./lib/issue-hash\";\n    49→import { generateIssueKey } from \"./lib/issue-utils\";\n    50→import type {\n    51→\tCategoryGroup,\n    52→\tEvaluationOutput,\n    53→\tEvaluatorFilter,\n    54→\tIndependentEvaluationOutput,\n    55→\tIssue,\n    56→\tUnifiedEvaluationOutput,\n    57→} from \"./types/evaluation\";\n    58→import {\n    59→\tgetIssueFile,\n    60→\tgetIssueSeverity,\n    61→\tgetIssueType,\n    62→\tgetMaxCategoryGroupSeverity,\n    63→\tgetMaxIssueSeverity,\n    64→\tgetSeverityLevel,\n    65→\tisIndependentFormat,\n    66→\tisUnifiedFormat,\n    67→\tparseEvaluatorResult,\n    68→} from \"./types/evaluation\";\n    69→import type {\n    70→\tEvaluationMode,\n    71→\tICloneWarningEvent,\n    72→\tIContextAnalysisEvent,\n    73→\tIContextClocEvent,\n    74→\tIContextFoldersEvent,\n    75→\tIContextWarningEvent,\n    76→\tIDiscoveryCompletedEvent,\n    77→\tIEvaluatorProgressEvent,\n    78→\tIFileStartedEvent,\n    79→\tIJobCompletedEvent,\n    80→\tIJobFailedEvent,\n    81→\tIJobStartedEvent,\n    82→\tIProgressState,\n    83→\tSSEEvent,\n    84→} from \"./types/job\";\n    85→\n    86→function AppContent() {\n    87→\t// Feature flags\n    88→\tconst { assessmentEnabled, groupSelectEnabled, cloudMode } =\n    89→\t\tuseFeatureFlags();\n    90→\n    91→\t// URL-based routing\n    92→\tconst navigate = useNavigate();\n    93→\tconst { id: urlEvaluationId } = useParams<{ id: string }>();\n    94→\tconst [searchParams, setSearchParams] = useSearchParams();\n    95→\n    96→\t// Tab state from URL with smart defaults\n    97→\tconst rawTab = searchParams.get(\"tab\");\n    98→\tconst handleTabChange = useCallback(\n    99→\t\t(tabId: string) => {\n   100→\t\t\tsetSearchParams(\n   101→\t\t\t\t(prev) => {\n   102→\t\t\t\t\tprev.set(\"tab\", tabId);\n   103→\t\t\t\t\treturn prev;\n   104→\t\t\t\t},\n   105→\t\t\t\t{ replace: true },\n   106→\t\t\t);\n   107→\t\t},\n   108→\t\t[setSearchParams],\n   109→\t);\n   110→\n   111→\tconst [evaluationData, setEvaluationData] = useState<EvaluationOutput | null>(\n   112→\t\tnull,\n   113→\t);\n   114→\tconst [filters, setFilters] = useState<FilterState>({\n   115→\t\tseverities: new Set(),\n   116→\t\tcategories: new Set(),\n   117→\t\tevaluators: new Set(),\n   118→\t\tsearchText: \"\",\n   119→\t\tbookmarkedOnly: false,\n   120→\t});\n   121→\t// Always show all issues (removed curated toggle)\n   122→\n   123→\t// Evaluation job state\n   124→\tconst [evaluationMode, setEvaluationMode] = useState<EvaluationMode>(\"idle\");\n   125→\tconst [currentJobId, setCurrentJobId] = useState<string | null>(null);\n   126→\tconst [sseUrl, setSSEUrl] = useState<string | null>(null);\n   127→\tconst [progressState, setProgressState] = useState<IProgressState | null>(\n   128→\t\tnull,\n   129→\t);\n   130→\tconst [apiError, setApiError] = useState<string | null>(null);\n   131→\tconst [isLoadingFromUrl, setIsLoadingFromUrl] = useState(false);\n   132→\tconst [currentRepositoryUrl, setCurrentRepositoryUrl] = useState<\n   133→\t\tstring | null\n   134→\t>(null);\n   135→\t// Store evaluation logs to persist after completion\n   136→\tconst [evaluationLogs, setEvaluationLogs] = useState<\n   137→\t\tArray<{ timestamp: Date; type: string; message: string }>\n   138→\t>([]);\n   139→\n   140→\t// Issue selection state\n   141→\tconst [selectedIssueKeys, setSelectedIssueKeys] = useState<Set<string>>(\n   142→\t\tnew Set(),\n   143→\t);\n   144→\tconst [issueKeyMap, setIssueKeyMap] = useState<Map<string, Issue>>(new Map());\n   145→\n   146→\t// Feedback state\n   147→\tconst [feedbackMap, setFeedbackMap] = useState<\n   148→\t\tMap<string, \"like\" | \"dislike\">\n   149→\t>(new Map());\n   150→\tconst feedbackApi = useFeedbackApi();\n   151→\n   152→\t// Bookmark state\n   153→\tconst [bookmarkSet, setBookmarkSet] = useState<Set<string>>(new Set());\n   154→\tconst bookmarkApi = useBookmarkApi();\n   155→\n   156→\t// Selection persistence\n   157→\tconst selectionApi = useSelectionApi();\n   158→\n   159→\t// Derive currentEvaluationId from URL parameter\n   160→\tconst currentEvaluationId = urlEvaluationId || null;\n   161→\n   162→\t// Ref for completion timeout cleanup\n   163→\tconst completionTimeoutRef = useRef<ReturnType<typeof setTimeout> | null>(\n   164→\t\tnull,\n   165→\t);\n   166→\n   167→\t// API hook\n   168→\tconst api = useEvaluationApi();\n   169→\n   170→\t// Evaluation history hook\n   171→\tconst historyApi = useEvaluationHistory();\n   172→\n   173→\t// Version hook\n   174→\tconst { version } = useVersion();\n   175→\n   176→\t// Ref for stable access to API function (avoids dependency array issues)\n   177→\tconst loadEvaluationRef = useRef(historyApi.loadEvaluation);\n   178→\tloadEvaluationRef.current = historyApi.loadEvaluation;\n   179→\n   180→\t// SSE event handler\n   181→\tconst handleProgressEvent = useCallback(\n   182→\t\t(event: SSEEvent) => {\n   183→\t\t\tsetProgressState((prev) => {\n   184→\t\t\t\tif (!prev) return prev;\n   185→\n   186→\t\t\t\tconst newState = { ...prev };\n   187→\n   188→\t\t\t\tswitch (event.type) {\n   189→\t\t\t\t\t// Clone events\n   190→\t\t\t\t\tcase \"clone.started\": {\n   191→\t\t\t\t\t\tnewState.logs = [\n   192→\t\t\t\t\t\t\t...prev.logs,\n   193→\t\t\t\t\t\t\t{\n   194→\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   195→\t\t\t\t\t\t\t\ttype: \"info\",\n   196→\t\t\t\t\t\t\t\tmessage: \"Cloning repository...\",\n   197→\t\t\t\t\t\t\t},\n   198→\t\t\t\t\t\t];\n   199→\t\t\t\t\t\tbreak;\n   200→\t\t\t\t\t}\n   201→\n   202→\t\t\t\t\tcase \"clone.completed\": {\n   203→\t\t\t\t\t\tnewState.logs = [\n   204→\t\t\t\t\t\t\t...prev.logs,\n   205→\t\t\t\t\t\t\t{\n   206→\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   207→\t\t\t\t\t\t\t\ttype: \"success\",\n   208→\t\t\t\t\t\t\t\tmessage: \"Repository cloned successfully\",\n   209→\t\t\t\t\t\t\t},\n   210→\t\t\t\t\t\t];\n   211→\t\t\t\t\t\tbreak;\n   212→\t\t\t\t\t}\n   213→\n   214→\t\t\t\t\tcase \"clone.warning\": {\n   215→\t\t\t\t\t\tconst data = (event as ICloneWarningEvent).data;\n   216→\t\t\t\t\t\tnewState.logs = [\n   217→\t\t\t\t\t\t\t...prev.logs,\n   218→\t\t\t\t\t\t\t{\n   219→\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   220→\t\t\t\t\t\t\t\ttype: \"warning\",\n   221→\t\t\t\t\t\t\t\tmessage: data.message,\n   222→\t\t\t\t\t\t\t},\n   223→\t\t\t\t\t\t];\n   224→\t\t\t\t\t\tbreak;\n   225→\t\t\t\t\t}\n   226→\n   227→\t\t\t\t\t// Discovery events\n   228→\t\t\t\t\tcase \"discovery.started\": {\n   229→\t\t\t\t\t\tnewState.logs = [\n   230→\t\t\t\t\t\t\t...prev.logs,\n   231→\t\t\t\t\t\t\t{\n   232→\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   233→\t\t\t\t\t\t\t\ttype: \"info\",\n   234→\t\t\t\t\t\t\t\tmessage: \"Discovering context files...\",\n   235→\t\t\t\t\t\t\t},\n   236→\t\t\t\t\t\t];\n   237→\t\t\t\t\t\tbreak;\n   238→\t\t\t\t\t}\n   239→\n   240→\t\t\t\t\tcase \"discovery.completed\": {\n   241→\t\t\t\t\t\tconst data = (event as IDiscoveryCompletedEvent).data;\n   242→\t\t\t\t\t\tnewState.logs = [\n   243→\t\t\t\t\t\t\t...prev.logs,\n   244→\t\t\t\t\t\t\t{\n   245→\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   246→\t\t\t\t\t\t\t\ttype: \"success\",\n   247→\t\t\t\t\t\t\t\tmessage: `Found ${data.filesFound} context file(s)`,\n   248→\t\t\t\t\t\t\t},\n   249→\t\t\t\t\t\t];\n   250→\t\t\t\t\t\tbreak;\n   251→\t\t\t\t\t}\n   252→\n   253→\t\t\t\t\t// Context sub-step events\n   254→\t\t\t\t\tcase \"context.cloc\": {\n   255→\t\t\t\t\t\tconst data = (event as IContextClocEvent).data;\n   256→\t\t\t\t\t\tif (data.status === \"started\") {\n   257→\t\t\t\t\t\t\tnewState.logs = [\n   258→\t\t\t\t\t\t\t\t...prev.logs,\n   259→\t\t\t\t\t\t\t\t{\n   260→\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   261→\t\t\t\t\t\t\t\t\ttype: \"info\",\n   262→\t\t\t\t\t\t\t\t\tmessage: \"Analyzing codebase size...\",\n   263→\t\t\t\t\t\t\t\t},\n   264→\t\t\t\t\t\t\t];\n   265→\t\t\t\t\t\t} else if (data.status === \"completed\") {\n   266→\t\t\t\t\t\t\tnewState.logs = [\n   267→\t\t\t\t\t\t\t\t...prev.logs,\n   268→\t\t\t\t\t\t\t\t{\n   269→\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   270→\t\t\t\t\t\t\t\t\ttype: \"success\",\n   271→\t\t\t\t\t\t\t\t\tmessage: `Codebase: ${data.totalLines?.toLocaleString() || \"?\"} lines across ${data.languageCount || \"?\"} languages`,\n   272→\t\t\t\t\t\t\t\t},\n   273→\t\t\t\t\t\t\t];\n   274→\t\t\t\t\t\t}\n   275→\t\t\t\t\t\tbreak;\n   276→\t\t\t\t\t}\n   277→\n   278→\t\t\t\t\tcase \"context.folders\": {\n   279→\t\t\t\t\t\tconst data = (event as IContextFoldersEvent).data;\n   280→\t\t\t\t\t\tif (data.status === \"started\") {\n   281→\t\t\t\t\t\t\tnewState.logs = [\n   282→\t\t\t\t\t\t\t\t...prev.logs,\n   283→\t\t\t\t\t\t\t\t{\n   284→\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   285→\t\t\t\t\t\t\t\t\ttype: \"info\",\n   286→\t\t\t\t\t\t\t\t\tmessage: \"Analyzing directory structure...\",\n   287→\t\t\t\t\t\t\t\t},\n   288→\t\t\t\t\t\t\t];\n   289→\t\t\t\t\t\t} else if (data.status === \"completed\") {\n   290→\t\t\t\t\t\t\tnewState.logs = [\n   291→\t\t\t\t\t\t\t\t...prev.logs,\n   292→\t\t\t\t\t\t\t\t{\n   293→\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   294→\t\t\t\t\t\t\t\t\ttype: \"success\",\n   295→\t\t\t\t\t\t\t\t\tmessage: `Structure: ${data.folderCount || \"?\"} key directories`,\n   296→\t\t\t\t\t\t\t\t},\n   297→\t\t\t\t\t\t\t];\n   298→\t\t\t\t\t\t}\n   299→\t\t\t\t\t\tbreak;\n   300→\t\t\t\t\t}\n   301→\n   302→\t\t\t\t\tcase \"context.analysis\": {\n   303→\t\t\t\t\t\tconst data = (event as IContextAnalysisEvent).data;\n   304→\t\t\t\t\t\tif (data.status === \"started\") {\n   305→\t\t\t\t\t\t\tnewState.logs = [\n   306→\t\t\t\t\t\t\t\t...prev.logs,\n   307→\t\t\t\t\t\t\t\t{\n   308→\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   309→\t\t\t\t\t\t\t\t\ttype: \"info\",\n   310→\t\t\t\t\t\t\t\t\tmessage: \"Identifying project context...\",\n   311→\t\t\t\t\t\t\t\t},\n   312→\t\t\t\t\t\t\t];\n   313→\t\t\t\t\t\t} else if (data.status === \"completed\") {\n   314→\t\t\t\t\t\t\tnewState.logs = [\n   315→\t\t\t\t\t\t\t\t...prev.logs,\n   316→\t\t\t\t\t\t\t\t{\n   317→\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   318→\t\t\t\t\t\t\t\t\ttype: \"success\",\n   319→\t\t\t\t\t\t\t\t\tmessage: \"Project context identified\",\n   320→\t\t\t\t\t\t\t\t},\n   321→\t\t\t\t\t\t\t];\n   322→\t\t\t\t\t\t}\n   323→\t\t\t\t\t\tbreak;\n   324→\t\t\t\t\t}\n   325→\n   326→\t\t\t\t\tcase \"context.warning\": {\n   327→\t\t\t\t\t\tconst data = (event as IContextWarningEvent).data;\n   328→\t\t\t\t\t\tnewState.logs = [\n   329→\t\t\t\t\t\t\t...prev.logs,\n   330→\t\t\t\t\t\t\t{\n   331→\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   332→\t\t\t\t\t\t\t\ttype: \"warning\",\n   333→\t\t\t\t\t\t\t\tmessage: data.message,\n   334→\t\t\t\t\t\t\t},\n   335→\t\t\t\t\t\t];\n   336→\t\t\t\t\t\tbreak;\n   337→\t\t\t\t\t}\n   338→\n   339→\t\t\t\t\tcase \"job.started\": {\n   340→\t\t\t\t\t\tconst data = (event as IJobStartedEvent).data;\n   341→\t\t\t\t\t\tnewState.status = \"running\";\n   342→\t\t\t\t\t\tnewState.totalFiles = data.totalFiles || 0;\n   343→\t\t\t\t\t\tnewState.logs = [\n   344→\t\t\t\t\t\t\t...prev.logs,\n   345→\t\t\t\t\t\t\t{\n   346→\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   347→\t\t\t\t\t\t\t\ttype: \"info\",\n   348→\t\t\t\t\t\t\t\tmessage: `Started evaluation (${data.evaluationMode} mode, ${data.totalFiles} file(s))`,\n   349→\t\t\t\t\t\t\t},\n   350→\t\t\t\t\t\t];\n   351→\t\t\t\t\t\tbreak;\n   352→\t\t\t\t\t}\n   353→\n   354→\t\t\t\t\tcase \"file.started\": {\n   355→\t\t\t\t\t\tconst data = (event as IFileStartedEvent).data;\n   356→\t\t\t\t\t\tnewState.currentFile = data.filePath;\n   357→\t\t\t\t\t\tnewState.logs = [\n   358→\t\t\t\t\t\t\t...prev.logs,\n   359→\t\t\t\t\t\t\t{\n   360→\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   361→\t\t\t\t\t\t\t\ttype: \"info\",\n   362→\t\t\t\t\t\t\t\tmessage: `Processing ${data.filePath}`,\n   363→\t\t\t\t\t\t\t},\n   364→\t\t\t\t\t\t];\n   365→\t\t\t\t\t\tbreak;\n   366→\t\t\t\t\t}\n   367→\n   368→\t\t\t\t\tcase \"file.completed\": {\n   369→\t\t\t\t\t\tnewState.completedFiles = (prev.completedFiles || 0) + 1;\n   370→\t\t\t\t\t\t// Update percentage based on file progress\n   371→\t\t\t\t\t\tif (newState.totalFiles > 0) {\n   372→\t\t\t\t\t\t\tnewState.percentage = Math.round(\n   373→\t\t\t\t\t\t\t\t(newState.completedFiles / newState.totalFiles) * 50,\n   374→\t\t\t\t\t\t\t);\n   375→\t\t\t\t\t\t}\n   376→\t\t\t\t\t\tbreak;\n   377→\t\t\t\t\t}\n   378→\n   379→\t\t\t\t\tcase \"evaluator.progress\": {\n   380→\t\t\t\t\t\tconst data = (event as IEvaluatorProgressEvent).data;\n   381→\t\t\t\t\t\tnewState.currentEvaluator = data.evaluatorName;\n   382→\t\t\t\t\t\tnewState.completedEvaluators = data.evaluatorIndex;\n   383→\t\t\t\t\t\tnewState.totalEvaluators = data.totalEvaluators;\n   384→\t\t\t\t\t\t// Update percentage based on evaluator progress\n   385→\t\t\t\t\t\tif (data.totalEvaluators > 0) {\n   386→\t\t\t\t\t\t\tconst evaluatorProgress =\n   387→\t\t\t\t\t\t\t\t(data.evaluatorIndex / data.totalEvaluators) * 50;\n   388→\t\t\t\t\t\t\tnewState.percentage = 50 + Math.round(evaluatorProgress);\n   389→\t\t\t\t\t\t}\n   390→\t\t\t\t\t\t// Include file context in log message when evaluating multiple files\n   391→\t\t\t\t\t\tconst fileContext = data.currentFile\n   392→\t\t\t\t\t\t\t? ` on ${data.currentFile.split(\"/\").pop()}`\n   393→\t\t\t\t\t\t\t: \"\";\n   394→\t\t\t\t\t\tnewState.logs = [\n   395→\t\t\t\t\t\t\t...prev.logs,\n   396→\t\t\t\t\t\t\t{\n   397→\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   398→\t\t\t\t\t\t\t\ttype: \"info\",\n   399→\t\t\t\t\t\t\t\tmessage: `Running ${data.evaluatorName}${fileContext} (${data.evaluatorIndex + 1}/${data.totalEvaluators})`,\n   400→\t\t\t\t\t\t\t},\n   401→\t\t\t\t\t\t];\n   402→\t\t\t\t\t\tbreak;\n   403→\t\t\t\t\t}\n   404→\n   405→\t\t\t\t\tcase \"evaluator.completed\": {\n   406→\t\t\t\t\t\tnewState.completedEvaluators = (prev.completedEvaluators || 0) + 1;\n   407→\t\t\t\t\t\tbreak;\n   408→\t\t\t\t\t}\n   409→\n   410→\t\t\t\t\tcase \"evaluator.retry\": {\n   411→\t\t\t\t\t\tconst data = event.data as {\n   412→\t\t\t\t\t\t\tevaluatorName: string;\n   413→\t\t\t\t\t\t\tattempt: number;\n   414→\t\t\t\t\t\t\tmaxRetries: number;\n   415→\t\t\t\t\t\t\terror: string;\n   416→\t\t\t\t\t\t\tcurrentFile?: string;\n   417→\t\t\t\t\t\t};\n   418→\t\t\t\t\t\tconst retriesRemaining = data.maxRetries - data.attempt;\n   419→\t\t\t\t\t\tnewState.logs = [\n   420→\t\t\t\t\t\t\t...prev.logs,\n   421→\t\t\t\t\t\t\t{\n   422→\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   423→\t\t\t\t\t\t\t\ttype: \"warning\",\n   424→\t\t\t\t\t\t\t\tmessage: `Retry ${data.attempt}/${data.maxRetries} for ${data.evaluatorName}: ${data.error.substring(0, 100)}${data.error.length > 100 ? \"...\" : \"\"} (${retriesRemaining} retries remaining)`,\n   425→\t\t\t\t\t\t\t},\n   426→\t\t\t\t\t\t];\n   427→\t\t\t\t\t\tbreak;\n   428→\t\t\t\t\t}\n   429→\n   430→\t\t\t\t\tcase \"evaluator.timeout\": {\n   431→\t\t\t\t\t\tconst data = event.data as {\n   432→\t\t\t\t\t\t\tevaluatorName: string;\n   433→\t\t\t\t\t\t\telapsedMs: number;\n   434→\t\t\t\t\t\t\ttimeoutMs: number;\n   435→\t\t\t\t\t\t\tcurrentFile?: string;\n   436→\t\t\t\t\t\t};\n   437→\t\t\t\t\t\tconst elapsedSec = Math.round(data.elapsedMs / 1000);\n   438→\t\t\t\t\t\tconst timeoutSec = Math.round(data.timeoutMs / 1000);\n   439→\t\t\t\t\t\tnewState.logs = [\n   440→\t\t\t\t\t\t\t...prev.logs,\n   441→\t\t\t\t\t\t\t{\n   442→\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   443→\t\t\t\t\t\t\t\ttype: \"error\",\n   444→\t\t\t\t\t\t\t\tmessage: `Timeout: ${data.evaluatorName} exceeded ${timeoutSec}s limit (elapsed: ${elapsedSec}s)`,\n   445→\t\t\t\t\t\t\t},\n   446→\t\t\t\t\t\t];\n   447→\t\t\t\t\t\tbreak;\n   448→\t\t\t\t\t}\n   449→\n   450→\t\t\t\t\tcase \"curation.started\": {\n   451→\t\t\t\t\t\tconst data = event.data;\n   452→\t\t\t\t\t\tconst typeLabel =\n   453→\t\t\t\t\t\t\tdata.issueType === \"error\"\n   454→\t\t\t\t\t\t\t\t? \"errors\"\n   455→\t\t\t\t\t\t\t\t: data.issueType === \"suggestion\"\n   456→\t\t\t\t\t\t\t\t\t? \"suggestions\"\n   457→\t\t\t\t\t\t\t\t\t: \"issues\";\n   458→\t\t\t\t\t\tnewState.currentEvaluator = `Impact Curation (${typeLabel})`;\n   459→\t\t\t\t\t\tnewState.logs = [\n   460→\t\t\t\t\t\t\t...prev.logs,\n   461→\t\t\t\t\t\t\t{\n   462→\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   463→\t\t\t\t\t\t\t\ttype: \"info\",\n   464→\t\t\t\t\t\t\t\tmessage: `Curating top ${typeLabel} from ${data.totalIssues} total...`,\n   465→\t\t\t\t\t\t\t},\n   466→\t\t\t\t\t\t];\n   467→\t\t\t\t\t\tbreak;\n   468→\t\t\t\t\t}\n   469→\n   470→\t\t\t\t\tcase \"curation.completed\": {\n   471→\t\t\t\t\t\tconst data = event.data;\n   472→\t\t\t\t\t\tconst typeLabel =\n   473→\t\t\t\t\t\t\tdata.issueType === \"error\"\n   474→\t\t\t\t\t\t\t\t? \"errors\"\n   475→\t\t\t\t\t\t\t\t: data.issueType === \"suggestion\"\n   476→\t\t\t\t\t\t\t\t\t? \"suggestions\"\n   477→\t\t\t\t\t\t\t\t\t: \"issues\";\n   478→\t\t\t\t\t\tnewState.logs = [\n   479→\t\t\t\t\t\t\t...prev.logs,\n   480→\t\t\t\t\t\t\t{\n   481→\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   482→\t\t\t\t\t\t\t\ttype: \"success\",\n   483→\t\t\t\t\t\t\t\tmessage: `Impact curation completed for ${typeLabel} (${data.curatedCount} selected)`,\n   484→\t\t\t\t\t\t\t},\n   485→\t\t\t\t\t\t];\n   486→\t\t\t\t\t\tbreak;\n   487→\t\t\t\t\t}\n   488→\n   489→\t\t\t\t\tcase \"evaluation.warning\": {\n   490→\t\t\t\t\t\tconst data = event.data;\n   491→\t\t\t\t\t\tnewState.logs = [\n   492→\t\t\t\t\t\t\t...prev.logs,\n   493→\t\t\t\t\t\t\t{\n   494→\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   495→\t\t\t\t\t\t\t\ttype: \"warning\",\n   496→\t\t\t\t\t\t\t\tmessage: data.message || \"Some evaluators encountered errors\",\n   497→\t\t\t\t\t\t\t},\n   498→\t\t\t\t\t\t];\n   499→\t\t\t\t\t\tbreak;\n   500→\t\t\t\t\t}\n   501→\n   502→\t\t\t\t\tcase \"job.completed\": {\n   503→\t\t\t\t\t\tconst data = (event as IJobCompletedEvent).data;\n   504→\t\t\t\t\t\tnewState.status = \"completed\";\n   505→\t\t\t\t\t\tnewState.percentage = 100;\n   506→\t\t\t\t\t\tnewState.logs = [\n   507→\t\t\t\t\t\t\t...prev.logs,\n   508→\t\t\t\t\t\t\t{\n   509→\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   510→\t\t\t\t\t\t\t\ttype: \"success\",\n   511→\t\t\t\t\t\t\t\tmessage: `Evaluation completed in ${Math.round(data.duration / 1000)}s`,\n   512→\t\t\t\t\t\t\t},\n   513→\t\t\t\t\t\t];\n   514→\t\t\t\t\t\t// Preserve logs for display in Summary after completion\n   515→\t\t\t\t\t\tsetEvaluationLogs(newState.logs);\n   516→\t\t\t\t\t\t// Set the evaluation data\n   517→\t\t\t\t\t\tsetEvaluationData(data.result);\n   518→\t\t\t\t\t\tsetEvaluationMode(\"completed\");\n   519→\t\t\t\t\t\t// Reset job state after a short delay (user is already at /evaluation/:jobId)\n   520→\t\t\t\t\t\t// Clear any existing timeout first\n   521→\t\t\t\t\t\tif (completionTimeoutRef.current) {\n   522→\t\t\t\t\t\t\tclearTimeout(completionTimeoutRef.current);\n   523→\t\t\t\t\t\t\tcompletionTimeoutRef.current = null;\n   524→\t\t\t\t\t\t}\n   525→\t\t\t\t\t\tcompletionTimeoutRef.current = setTimeout(() => {\n   526→\t\t\t\t\t\t\tsetCurrentJobId(null);\n   527→\t\t\t\t\t\t\tsetSSEUrl(null);\n   528→\t\t\t\t\t\t\tsetProgressState(null);\n   529→\t\t\t\t\t\t}, 100);\n   530→\t\t\t\t\t\t// Refresh history to show new evaluation\n   531→\t\t\t\t\t\thistoryApi.refresh();\n   532→\t\t\t\t\t\tbreak;\n   533→\t\t\t\t\t}\n   534→\n   535→\t\t\t\t\tcase \"job.failed\": {\n   536→\t\t\t\t\t\tconst data = (event as IJobFailedEvent).data;\n   537→\t\t\t\t\t\tnewState.status = \"failed\";\n   538→\t\t\t\t\t\tnewState.errorMessage = data.error?.message || \"Unknown error\";\n   539→\t\t\t\t\t\tnewState.errorCode = data.error?.code;\n   540→\t\t\t\t\t\tnewState.logs = [\n   541→\t\t\t\t\t\t\t...prev.logs,\n   542→\t\t\t\t\t\t\t{\n   543→\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   544→\t\t\t\t\t\t\t\ttype: \"error\",\n   545→\t\t\t\t\t\t\t\tmessage: `Evaluation failed: ${data.error?.message || \"Unknown error\"}`,\n   546→\t\t\t\t\t\t\t},\n   547→\t\t\t\t\t\t];\n   548→\t\t\t\t\t\t// Keep evaluationMode as 'evaluating' so ProgressPanel stays visible\n   549→\t\t\t\t\t\t// User can dismiss manually with the \"Try Again\" button\n   550→\t\t\t\t\t\t// Refresh history to show failed evaluation\n   551→\t\t\t\t\t\thistoryApi.refresh();\n   552→\t\t\t\t\t\tbreak;\n   553→\t\t\t\t\t}\n   554→\t\t\t\t}\n   555→\n   556→\t\t\t\t// Keep only last 50 logs\n   557→\t\t\t\tif (newState.logs.length > 50) {\n   558→\t\t\t\t\tnewState.logs = newState.logs.slice(-50);\n   559→\t\t\t\t}\n   560→\n   561→\t\t\t\treturn newState;\n   562→\t\t\t});\n   563→\t\t},\n   564→\t\t[historyApi],\n   565→\t);\n   566→\n   567→\t// SSE connection\n   568→\tuseSSE({\n   569→\t\turl: sseUrl,\n   570→\t\tonMessage: handleProgressEvent,\n   571→\t\tonOpen: () => {\n   572→\t\t\tsetProgressState((prev) =>\n   573→\t\t\t\tprev\n   574→\t\t\t\t\t? {\n   575→\t\t\t\t\t\t\t...prev,\n   576→\t\t\t\t\t\t\tlogs: [\n   577→\t\t\t\t\t\t\t\t...prev.logs,\n   578→\t\t\t\t\t\t\t\t{\n   579→\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   580→\t\t\t\t\t\t\t\t\ttype: \"info\",\n   581→\t\t\t\t\t\t\t\t\tmessage: \"Connected to progress stream\",\n   582→\t\t\t\t\t\t\t\t},\n   583→\t\t\t\t\t\t\t],\n   584→\t\t\t\t\t\t}\n   585→\t\t\t\t\t: prev,\n   586→\t\t\t);\n   587→\t\t},\n   588→\t});\n   589→\n   590→\t// Cleanup completion timeout on unmount\n   591→\tuseEffect(() => {\n   592→\t\treturn () => {\n   593→\t\t\tif (completionTimeoutRef.current) {\n   594→\t\t\t\tclearTimeout(completionTimeoutRef.current);\n   595→\t\t\t\tcompletionTimeoutRef.current = null;\n   596→\t\t\t}\n   597→\t\t};\n   598→\t}, []);\n   599→\n   600→\t// Handle URL submission\n   601→\tconst handleUrlSubmit = useCallback(\n   602→\t\tasync (\n   603→\t\t\turl: string,\n   604→\t\t\tevaluators: number,\n   605→\t\t\tprovider?: \"claude\" | \"opencode\" | \"cursor\" | \"github-copilot\",\n   606→\t\t\tevaluatorFilter?: EvaluatorFilter,\n   607→\t\t\tconcurrency?: number,\n   608→\t\t\tselectedEvaluators?: string[],\n   609→\t\t) => {\n   610→\t\t\tsetEvaluationMode(\"evaluating\");\n   611→\t\t\tsetApiError(null);\n   612→\t\t\tsetCurrentRepositoryUrl(url);\n   613→\t\t\tsetEvaluationLogs([]); // Clear previous logs when starting new evaluation\n   614→\n   615→\t\t\ttry {\n   616→\t\t\t\tconst response = await api.submitJob(\n   617→\t\t\t\t\turl,\n   618→\t\t\t\t\tevaluators,\n   619→\t\t\t\t\tprovider,\n   620→\t\t\t\t\tevaluatorFilter,\n   621→\t\t\t\t\tundefined,\n   622→\t\t\t\t\tconcurrency,\n   623→\t\t\t\t\tselectedEvaluators,\n   624→\t\t\t\t);\n   625→\t\t\t\tsetCurrentJobId(response.jobId);\n   626→\t\t\t\tsetSSEUrl(response.sseUrl);\n   627→\n   628→\t\t\t\t// Initialize progress state\n   629→\t\t\t\tsetProgressState({\n   630→\t\t\t\t\tstatus: \"queued\",\n   631→\t\t\t\t\trepositoryUrl: url,\n   632→\t\t\t\t\ttotalFiles: 0,\n   633→\t\t\t\t\tcompletedFiles: 0,\n   634→\t\t\t\t\ttotalEvaluators: getFilteredEvaluatorCount(\n   635→\t\t\t\t\t\tevaluatorFilter || \"all\",\n   636→\t\t\t\t\t\tevaluators,\n   637→\t\t\t\t\t\tselectedEvaluators?.length,\n   638→\t\t\t\t\t),\n   639→\t\t\t\t\tcompletedEvaluators: 0,\n   640→\t\t\t\t\tpercentage: 0,\n   641→\t\t\t\t\tstartTime: new Date(),\n   642→\t\t\t\t\tlogs: [\n   643→\t\t\t\t\t\t{\n   644→\t\t\t\t\t\t\ttimestamp: new Date(),\n   645→\t\t\t\t\t\t\ttype: \"info\",\n   646→\t\t\t\t\t\t\tmessage: \"Evaluation job submitted\",\n   647→\t\t\t\t\t\t},\n   648→\t\t\t\t\t],\n   649→\t\t\t\t});\n   650→\n   651→\t\t\t\t// Navigate immediately to the evaluation URL\n   652→\t\t\t\tnavigate(`/evaluation/${response.jobId}`);\n   653→\t\t\t} catch (error) {\n   654→\t\t\t\tsetEvaluationMode(\"idle\");\n   655→\t\t\t\tsetApiError(\n   656→\t\t\t\t\terror instanceof Error\n   657→\t\t\t\t\t\t? error.message\n   658→\t\t\t\t\t\t: \"Failed to submit evaluation job\",\n   659→\t\t\t\t);\n   660→\t\t\t}\n   661→\t\t},\n   662→\t\t[api, navigate],\n   663→\t);\n   664→\n   665→\t// Handle batch URL submission\n   666→\tconst handleBatchSubmit = useCallback(\n   667→\t\tasync (\n   668→\t\t\turls: string[],\n   669→\t\t\t_evaluators: number,\n   670→\t\t\tprovider?: \"claude\" | \"opencode\" | \"cursor\" | \"github-copilot\",\n   671→\t\t\tevaluatorFilter?: EvaluatorFilter,\n   672→\t\t\tconcurrency?: number,\n   673→\t\t\tselectedEvaluators?: string[],\n   674→\t\t) => {\n   675→\t\t\tsetApiError(null);\n   676→\t\t\ttry {\n   677→\t\t\t\tconst response = await api.submitBatch(\n   678→\t\t\t\t\turls,\n   679→\t\t\t\t\tundefined,\n   680→\t\t\t\t\tprovider,\n   681→\t\t\t\t\tevaluatorFilter,\n   682→\t\t\t\t\tundefined,\n   683→\t\t\t\t\tconcurrency,\n   684→\t\t\t\t\tselectedEvaluators,\n   685→\t\t\t\t);\n   686→\t\t\t\tnavigate(`/batch/${response.batchId}`);\n   687→\t\t\t} catch (error) {\n   688→\t\t\t\tsetApiError(\n   689→\t\t\t\t\terror instanceof Error\n   690→\t\t\t\t\t\t? error.message\n   691→\t\t\t\t\t\t: \"Failed to submit batch evaluation\",\n   692→\t\t\t\t);\n   693→\t\t\t}\n   694→\t\t},\n   695→\t\t[api, navigate],\n   696→\t);\n   697→\n   698→\t// Handle job cancellation\n   699→\tconst handleCancelJob = useCallback(async () => {\n   700→\t\tif (currentJobId) {\n   701→\t\t\tawait api.cancelJob(currentJobId);\n   702→\t\t}\n   703→\t\tsetEvaluationMode(\"idle\");\n   704→\t\tsetProgressState(null);\n   705→\t\tsetCurrentJobId(null);\n   706→\t\tsetSSEUrl(null);\n   707→\t}, [currentJobId, api]);\n   708→\n   709→\t// Handle dismissing failed evaluation (Try Again)\n   710→\tconst handleDismissFailure = useCallback(() => {\n   711→\t\tsetEvaluationMode(\"idle\");\n   712→\t\tsetProgressState(null);\n   713→\t\tsetCurrentJobId(null);\n   714→\t\tsetSSEUrl(null);\n   715→\t}, []);\n   716→\n   717→\t// Load evaluation from URL on mount or when URL changes\n   718→\t// Handles both active jobs (reconnect SSE) and completed evaluations (load from database)\n   719→\t// biome-ignore lint/correctness/useExhaustiveDependencies: handleFileLoad is intentionally excluded - we want the latest version but don't want it to trigger re-runs\n   720→\tuseEffect(() => {\n   721→\t\tif (!urlEvaluationId) return;\n   722→\t\tif (evaluationData && evaluationMode === \"completed\") return; // Already loaded\n   723→\t\tif (evaluationMode === \"evaluating\") return; // Currently evaluating\n   724→\n   725→\t\tconst loadEvaluationById = async () => {\n   726→\t\t\tsetIsLoadingFromUrl(true);\n   727→\t\t\tsetApiError(null);\n   728→\n   729→\t\t\ttry {\n   730→\t\t\t\t// Step 1: Check if it's an active job\n   731→\t\t\t\tconst jobStatus = await api.getJobStatus(urlEvaluationId);\n   732→\n   733→\t\t\t\tif (jobStatus.status === \"completed\" && jobStatus.result) {\n   734→\t\t\t\t\t// Job completed, result in memory - use it directly\n   735→\t\t\t\t\thandleFileLoad(jobStatus.result);\n   736→\t\t\t\t\tsetCurrentRepositoryUrl(jobStatus.repositoryUrl || null);\n   737→\t\t\t\t\tsetEvaluationMode(\"completed\");\n   738→\t\t\t\t\t// Load feedback, bookmarks, and selections\n   739→\t\t\t\t\ttry {\n   740→\t\t\t\t\t\tconst feedback =\n   741→\t\t\t\t\t\t\tawait feedbackApi.getFeedbackForEvaluation(urlEvaluationId);\n   742→\t\t\t\t\t\tsetFeedbackMap(feedback);\n   743→\t\t\t\t\t\tif (!cloudMode) {\n   744→\t\t\t\t\t\t\tconst bookmarks =\n   745→\t\t\t\t\t\t\t\tawait bookmarkApi.getBookmarksForEvaluation(urlEvaluationId);\n   746→\t\t\t\t\t\t\tsetBookmarkSet(bookmarks);\n   747→\t\t\t\t\t\t}\n   748→\t\t\t\t\t\tconst selections =\n   749→\t\t\t\t\t\t\tawait selectionApi.getSelectionsForEvaluation(urlEvaluationId);\n   750→\t\t\t\t\t\tsetSelectedIssueKeys(selections);\n   751→\t\t\t\t\t} catch (err) {\n   752→\t\t\t\t\t\tconsole.error(\"Failed to load metadata:\", err);\n   753→\t\t\t\t\t}\n   754→\t\t\t\t\tsetIsLoadingFromUrl(false);\n   755→\t\t\t\t\treturn;\n   756→\t\t\t\t}\n   757→\n   758→\t\t\t\tif (jobStatus.status === \"failed\") {\n   759→\t\t\t\t\tsetApiError(jobStatus.error?.message || \"Evaluation failed\");\n   760→\t\t\t\t\tsetIsLoadingFromUrl(false);\n   761→\t\t\t\t\treturn;\n   762→\t\t\t\t}\n   763→\n   764→\t\t\t\t// Active job (running or queued) - reconnect SSE\n   765→\t\t\t\tif (jobStatus.status === \"running\" || jobStatus.status === \"queued\") {\n   766→\t\t\t\t\tsetCurrentJobId(urlEvaluationId);\n   767→\t\t\t\t\tconst sseUrlValue = jobStatus.sseUrl?.startsWith(\"/\")\n   768→\t\t\t\t\t\t? `${window.location.origin}${jobStatus.sseUrl}`\n   769→\t\t\t\t\t\t: jobStatus.sseUrl || null;\n   770→\t\t\t\t\tsetSSEUrl(sseUrlValue);\n   771→\t\t\t\t\tsetCurrentRepositoryUrl(jobStatus.repositoryUrl || null);\n   772→\t\t\t\t\tsetEvaluationMode(\"evaluating\");\n   773→\n   774→\t\t\t\t\t// Convert server logs to frontend format, or use default message\n   775→\t\t\t\t\tconst historicalLogs = jobStatus.logs?.length\n   776→\t\t\t\t\t\t? jobStatus.logs.map((log) => ({\n   777→\t\t\t\t\t\t\t\ttimestamp: new Date(log.timestamp),\n   778→\t\t\t\t\t\t\t\ttype: log.type,\n   779→\t\t\t\t\t\t\t\tmessage: log.message,\n   780→\t\t\t\t\t\t\t}))\n   781→\t\t\t\t\t\t: [\n   782→\t\t\t\t\t\t\t\t{\n   783→\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n   784→\t\t\t\t\t\t\t\t\ttype: \"info\" as const,\n   785→\t\t\t\t\t\t\t\t\tmessage: \"Reconnected to evaluation in progress\",\n   786→\t\t\t\t\t\t\t\t},\n   787→\t\t\t\t\t\t\t];\n   788→\n   789→\t\t\t\t\t// Calculate progress percentage\n   790→\t\t\t\t\tlet percentage = 0;\n   791→\t\t\t\t\tif (jobStatus.progress?.totalEvaluators) {\n   792→\t\t\t\t\t\tpercentage = Math.round(\n   793→\t\t\t\t\t\t\t((jobStatus.progress.completedEvaluators || 0) /\n   794→\t\t\t\t\t\t\t\tjobStatus.progress.totalEvaluators) *\n   795→\t\t\t\t\t\t\t\t100,\n   796→\t\t\t\t\t\t);\n   797→\t\t\t\t\t}\n   798→\n   799→\t\t\t\t\t// Initialize progress state from job with historical logs\n   800→\t\t\t\t\tsetProgressState({\n   801→\t\t\t\t\t\tstatus: jobStatus.status,\n   802→\t\t\t\t\t\trepositoryUrl: jobStatus.repositoryUrl || \"Unknown\",\n   803→\t\t\t\t\t\ttotalFiles: jobStatus.progress?.totalFiles || 0,\n   804→\t\t\t\t\t\tcompletedFiles: jobStatus.progress?.completedFiles || 0,\n   805→\t\t\t\t\t\ttotalEvaluators: jobStatus.progress?.totalEvaluators || 0,\n   806→\t\t\t\t\t\tcompletedEvaluators: jobStatus.progress?.completedEvaluators || 0,\n   807→\t\t\t\t\t\tcurrentEvaluator: jobStatus.progress?.currentEvaluator,\n   808→\t\t\t\t\t\tpercentage,\n   809→\t\t\t\t\t\tstartTime: new Date(jobStatus.startedAt || jobStatus.createdAt),\n   810→\t\t\t\t\t\tlogs: historicalLogs,\n   811→\t\t\t\t\t});\n   812→\t\t\t\t\tsetIsLoadingFromUrl(false);\n   813→\t\t\t\t\treturn;\n   814→\t\t\t\t}\n   815→\t\t\t} catch {\n   816→\t\t\t\t// Not an active job - try database\n   817→\t\t\t\tconsole.log(\"[App] Not an active job, trying database\");\n   818→\t\t\t}\n   819→\n   820→\t\t\t// Step 2: Try loading from database\n   821→\t\t\ttry {\n   822→\t\t\t\tconst record = await loadEvaluationRef.current(urlEvaluationId);\n   823→\t\t\t\tif (record?.result) {\n   824→\t\t\t\t\thandleFileLoad(record.result);\n   825→\t\t\t\t\tsetCurrentRepositoryUrl(record.repositoryUrl);\n   826→\t\t\t\t\tsetEvaluationMode(\"completed\");\n   827→\t\t\t\t\t// Load feedback, bookmarks, and selections\n   828→\t\t\t\t\ttry {\n   829→\t\t\t\t\t\tconst feedback =\n   830→\t\t\t\t\t\t\tawait feedbackApi.getFeedbackForEvaluation(urlEvaluationId);\n   831→\t\t\t\t\t\tsetFeedbackMap(feedback);\n   832→\t\t\t\t\t\tif (!cloudMode) {\n   833→\t\t\t\t\t\t\tconst bookmarks =\n   834→\t\t\t\t\t\t\t\tawait bookmarkApi.getBookmarksForEvaluation(urlEvaluationId);\n   835→\t\t\t\t\t\t\tsetBookmarkSet(bookmarks);\n   836→\t\t\t\t\t\t}\n   837→\t\t\t\t\t\tconst selections =\n   838→\t\t\t\t\t\t\tawait selectionApi.getSelectionsForEvaluation(urlEvaluationId);\n   839→\t\t\t\t\t\tsetSelectedIssueKeys(selections);\n   840→\t\t\t\t\t} catch (err) {\n   841→\t\t\t\t\t\tconsole.error(\"Failed to load metadata:\", err);\n   842→\t\t\t\t\t}\n   843→\t\t\t\t} else {\n   844→\t\t\t\t\tsetApiError(\"Evaluation not found\");\n   845→\t\t\t\t}\n   846→\t\t\t} catch (err) {\n   847→\t\t\t\tsetApiError(\n   848→\t\t\t\t\terr instanceof Error ? err.message : \"Failed to load evaluation\",\n   849→\t\t\t\t);\n   850→\t\t\t} finally {\n   851→\t\t\t\tsetIsLoadingFromUrl(false);\n   852→\t\t\t}\n   853→\t\t};\n   854→\n   855→\t\tloadEvaluationById();\n   856→\t}, [\n   857→\t\turlEvaluationId,\n   858→\t\tevaluationData,\n   859→\t\tevaluationMode,\n   860→\t\tapi,\n   861→\t\tfeedbackApi,\n   862→\t\tbookmarkApi,\n   863→\t\tselectionApi,\n   864→\t\tcloudMode,\n   865→\t]);\n   866→\n   867→\t// Parse all issues from evaluation data\n   868→\tconst allIssues = useMemo(() => {\n   869→\t\tif (!evaluationData) return [];\n   870→\n   871→\t\tconst issues: Array<Issue & { evaluatorName?: string }> = [];\n   872→\n   873→\t\tif (isUnifiedFormat(evaluationData)) {\n   874→\t\t\t// Unified format: results array\n   875→\t\t\tconst unifiedData = evaluationData as UnifiedEvaluationOutput;\n   876→\t\t\tfor (const result of unifiedData.results) {\n   877→\t\t\t\tif (result.output && result.output.result) {\n   878→\t\t\t\t\tconst parsedIssues = parseEvaluatorResult(result.output.result);\n   879→\t\t\t\t\tparsedIssues.forEach((issue) => {\n   880→\t\t\t\t\t\tissues.push({ ...issue, evaluatorName: result.evaluator });\n   881→\t\t\t\t\t});\n   882→\t\t\t\t}\n   883→\t\t\t}\n   884→\n   885→\t\t\t// Add top-level cross-file issues for unified format\n   886→\t\t\tif (unifiedData.crossFileIssues) {\n   887→\t\t\t\tissues.push(\n   888→\t\t\t\t\t...unifiedData.crossFileIssues.map((issue) => ({\n   889→\t\t\t\t\t\t...issue,\n   890→\t\t\t\t\t\tevaluatorName: \"cross-file\",\n   891→\t\t\t\t\t})),\n   892→\t\t\t\t);\n   893→\t\t\t}\n   894→\t\t} else if (isIndependentFormat(evaluationData)) {\n   895→\t\t\t// Independent format: files object\n   896→\t\t\tconst independentData = evaluationData as IndependentEvaluationOutput;\n   897→\t\t\tfor (const [_filePath, fileResult] of Object.entries(\n   898→\t\t\t\tindependentData.files,\n   899→\t\t\t)) {\n   900→\t\t\t\tfor (const evaluation of fileResult.evaluations) {\n   901→\t\t\t\t\tconst evalWithIssues = evaluation as {\n   902→\t\t\t\t\t\tissues?: Issue[];\n   903→\t\t\t\t\t\tevaluator: string;\n   904→\t\t\t\t\t\toutput?: { result: string };\n   905→\t\t\t\t\t};\n   906→\t\t\t\t\t// Handle both formats:\n   907→\t\t\t\t\t// 1. Backend API format: issues array directly on evaluation\n   908→\t\t\t\t\t// 2. JSON file format: output.result as a string to parse\n   909→\t\t\t\t\tif (\"issues\" in evaluation && Array.isArray(evalWithIssues.issues)) {\n   910→\t\t\t\t\t\t// Backend API format - issues are already parsed\n   911→\t\t\t\t\t\tconst evalIssues = evalWithIssues.issues;\n   912→\t\t\t\t\t\tevalIssues.forEach((issue) => {\n   913→\t\t\t\t\t\t\tissues.push({ ...issue, evaluatorName: evaluation.evaluator });\n   914→\t\t\t\t\t\t});\n   915→\t\t\t\t\t} else if (evaluation.output && evaluation.output.result) {\n   916→\t\t\t\t\t\t// JSON file format - need to parse result string\n   917→\t\t\t\t\t\tconst parsedIssues = parseEvaluatorResult(evaluation.output.result);\n   918→\t\t\t\t\t\tparsedIssues.forEach((issue) => {\n   919→\t\t\t\t\t\t\tissues.push({ ...issue, evaluatorName: evaluation.evaluator });\n   920→\t\t\t\t\t\t});\n   921→\t\t\t\t\t}\n   922→\t\t\t\t}\n   923→\t\t\t}\n   924→\n   925→\t\t\t// Add cross-file issues\n   926→\t\t\tif (independentData.crossFileIssues) {\n   927→\t\t\t\tissues.push(\n   928→\t\t\t\t\t...independentData.crossFileIssues.map((issue) => ({\n   929→\t\t\t\t\t\t...issue,\n   930→\t\t\t\t\t\tevaluatorName: \"cross-file\",\n   931→\t\t\t\t\t})),\n   932→\t\t\t\t);\n   933→\t\t\t}\n   934→\t\t}\n   935→\n   936→\t\t// Build issue key map for selection tracking\n   937→\t\tconst keyMap = new Map<string, Issue>();\n   938→\t\tissues.forEach((issue, index) => {\n   939→\t\t\tconst key = generateIssueKey(issue, index);\n   940→\t\t\tkeyMap.set(key, issue);\n   941→\t\t});\n   942→\t\tsetIssueKeyMap(keyMap);\n   943→\n   944→\t\treturn issues;\n   945→\t}, [evaluationData]);\n   946→\n   947→\t// Get curated issues from impact curation (if available)\n   948→\tconst curatedIssues = useMemo(() => {\n   949→\t\tif (!evaluationData?.curation) return [];\n   950→\n   951→\t\tconst issues: Issue[] = [];\n   952→\n   953→\t\t// Add curated errors\n   954→\t\tif (evaluationData.curation.errors?.curatedIssues) {\n   955→\t\t\tissues.push(...evaluationData.curation.errors.curatedIssues);\n   956→\t\t}\n   957→\n   958→\t\t// Add curated suggestions\n   959→\t\tif (evaluationData.curation.suggestions?.curatedIssues) {\n   960→\t\t\tissues.push(...evaluationData.curation.suggestions.curatedIssues);\n   961→\t\t}\n   962→\n   963→\t\t// Fallback to legacy format\n   964→\t\tif (issues.length === 0 && evaluationData.curation.curatedIssues) {\n   965→\t\t\tissues.push(...evaluationData.curation.curatedIssues);\n   966→\t\t}\n   967→\n   968→\t\treturn issues;\n   969→\t}, [evaluationData]);\n   970→\n   971→\t// Get curation summary (if available)\n   972→\tconst curationSummary = useMemo(() => {\n   973→\t\treturn evaluationData?.curation?.summary || null;\n   974→\t}, [evaluationData]);\n   975→\n   976→\t// Use curated issues when available, otherwise display all issues\n   977→\tconst displayIssues = useMemo(() => {\n   978→\t\treturn curatedIssues.length > 0 ? curatedIssues : allIssues;\n   979→\t}, [curatedIssues, allIssues]);\n   980→\n   981→\t// Calculate severity counts from displayed issues\n   982→\tconst { highCount, mediumCount } = useMemo(() => {\n   983→\t\tconst counts = { high: 0, medium: 0 };\n   984→\t\tdisplayIssues.forEach((issue) => {\n   985→\t\t\tconst numericSeverity = getIssueSeverity(issue);\n   986→\t\t\tconst level = getSeverityLevel(numericSeverity);\n   987→\t\t\tif (level === \"high\") counts.high++;\n   988→\t\t\telse if (level === \"medium\") counts.medium++;\n   989→\t\t});\n   990→\t\treturn {\n   991→\t\t\thighCount: counts.high,\n   992→\t\t\tmediumCount: counts.medium,\n   993→\t\t};\n   994→\t}, [displayIssues]);\n   995→\n   996→\t// Calculate issue type counts (errors vs suggestions) from displayed issues\n   997→\tconst { errorCount, suggestionCount } = useMemo(() => {\n   998→\t\tconst counts = { error: 0, suggestion: 0 };\n   999→\t\tdisplayIssues.forEach((issue) => {\n  1000→\t\t\tconst type = getIssueType(issue);\n  1001→\t\t\tcounts[type]++;\n  1002→\t\t});\n  1003→\t\treturn { errorCount: counts.error, suggestionCount: counts.suggestion };\n  1004→\t}, [displayIssues]);\n  1005→\n  1006→\t// Determine active tab with smart defaults and backward compatibility\n  1007→\tconst activeTab = useMemo(() => {\n  1008→\t\t// Backward compatibility: redirect \"issues\" to \"errors\"\n  1009→\t\tif (rawTab === \"issues\") {\n  1010→\t\t\thandleTabChange(\"errors\");\n  1011→\t\t\treturn \"errors\";\n  1012→\t\t}\n  1013→\n  1014→\t\t// If tab is specified, use it\n  1015→\t\tif (rawTab) {\n  1016→\t\t\treturn rawTab;\n  1017→\t\t}\n  1018→\n  1019→\t\t// Smart defaults when no tab is specified\n  1020→\t\tif (!evaluationData) {\n  1021→\t\t\treturn \"summary\";\n  1022→\t\t}\n  1023→\n  1024→\t\tif (errorCount > 0) {\n  1025→\t\t\treturn \"errors\";\n  1026→\t\t}\n  1027→\n  1028→\t\tif (suggestionCount > 0) {\n  1029→\t\t\treturn \"suggestions\";\n  1030→\t\t}\n  1031→\n  1032→\t\treturn \"summary\";\n  1033→\t}, [rawTab, evaluationData, errorCount, suggestionCount, handleTabChange]);\n  1034→\n  1035→\t// Split issues by type for tab-aware filtering\n  1036→\tconst errorIssues = useMemo(\n  1037→\t\t() => allIssues.filter((issue) => getIssueType(issue) === \"error\"),\n  1038→\t\t[allIssues],\n  1039→\t);\n  1040→\n  1041→\tconst suggestionIssues = useMemo(\n  1042→\t\t() => allIssues.filter((issue) => getIssueType(issue) === \"suggestion\"),\n  1043→\t\t[allIssues],\n  1044→\t);\n  1045→\n  1046→\t// Get base issues based on active tab\n  1047→\tconst baseIssues = useMemo(() => {\n  1048→\t\tif (activeTab === \"errors\") return errorIssues;\n  1049→\t\tif (activeTab === \"suggestions\") return suggestionIssues;\n  1050→\t\treturn displayIssues; // Fallback for non-issue tabs\n  1051→\t}, [activeTab, errorIssues, suggestionIssues, displayIssues]);\n  1052→\n  1053→\t// Calculate per-file vs cross-file issue counts\n  1054→\tconst { perFileIssueCount, crossFileIssueCount } = useMemo(() => {\n  1055→\t\tif (!evaluationData)\n  1056→\t\t\treturn { perFileIssueCount: 0, crossFileIssueCount: 0 };\n  1057→\n  1058→\t\tif (isIndependentFormat(evaluationData)) {\n  1059→\t\t\tconst independentData = evaluationData as IndependentEvaluationOutput;\n  1060→\t\t\tconst crossFile = independentData.crossFileIssues?.length || 0;\n  1061→\t\t\tconst perFile = allIssues.length - crossFile;\n  1062→\t\t\treturn { perFileIssueCount: perFile, crossFileIssueCount: crossFile };\n  1063→\t\t}\n  1064→\n  1065→\t\t// For unified format, all issues are considered per-file\n  1066→\t\treturn { perFileIssueCount: allIssues.length, crossFileIssueCount: 0 };\n  1067→\t}, [evaluationData, allIssues]);\n  1068→\n  1069→\t// Extract unique categories\n  1070→\tconst availableCategories = useMemo(() => {\n  1071→\t\tconst categories = new Set<string>();\n  1072→\n  1073→\t\tallIssues.forEach((issue) => {\n  1074→\t\t\tif (issue.category) categories.add(issue.category);\n  1075→\t\t});\n  1076→\n  1077→\t\treturn Array.from(categories).sort();\n  1078→\t}, [allIssues]);\n  1079→\n  1080→\t// Calculate counts per filter option (based on baseIssues to respect tab selection)\n  1081→\tconst filterOptionCounts = useMemo((): FilterOptionCounts => {\n  1082→\t\tconst counts: FilterOptionCounts = {\n  1083→\t\t\tseverities: { high: 0, medium: 0, low: 0 },\n  1084→\t\t\tcategories: {},\n  1085→\t\t};\n  1086→\n  1087→\t\tbaseIssues.forEach((issue) => {\n  1088→\t\t\t// Severity\n  1089→\t\t\tconst numericSeverity = getIssueSeverity(issue);\n  1090→\t\t\tconst level = getSeverityLevel(numericSeverity);\n  1091→\t\t\tif (level === \"high\") counts.severities.high++;\n  1092→\t\t\telse if (level === \"medium\") counts.severities.medium++;\n  1093→\t\t\telse if (level === \"low\") counts.severities.low++;\n  1094→\n  1095→\t\t\t// Category\n  1096→\t\t\tif (issue.category) {\n  1097→\t\t\t\tcounts.categories[issue.category] =\n  1098→\t\t\t\t\t(counts.categories[issue.category] || 0) + 1;\n  1099→\t\t\t}\n  1100→\t\t});\n  1101→\n  1102→\t\treturn counts;\n  1103→\t}, [baseIssues]);\n  1104→\n  1105→\t// Filter issues based on active filters (using baseIssues which respects tab selection)\n  1106→\tconst filteredIssues = useMemo(() => {\n  1107→\t\treturn baseIssues.filter((issue) => {\n  1108→\t\t\t// Bookmark filter (check first for early return)\n  1109→\t\t\tif (filters.bookmarkedOnly) {\n  1110→\t\t\t\tconst issueHash = generateIssueHash(issue);\n  1111→\t\t\t\tif (!bookmarkSet.has(issueHash)) {\n  1112→\t\t\t\t\treturn false;\n  1113→\t\t\t\t}\n  1114→\t\t\t}\n  1115→\n  1116→\t\t\t// Severity filter\n  1117→\t\t\tif (filters.severities.size > 0) {\n  1118→\t\t\t\tconst numericSeverity = getIssueSeverity(issue);\n  1119→\t\t\t\tconst severityLevel = getSeverityLevel(numericSeverity);\n  1120→\t\t\t\tif (!filters.severities.has(severityLevel)) {\n  1121→\t\t\t\t\treturn false;\n  1122→\t\t\t\t}\n  1123→\t\t\t}\n  1124→\n  1125→\t\t\t// Category filter\n  1126→\t\t\tif (filters.categories.size > 0 && issue.category) {\n  1127→\t\t\t\tif (!filters.categories.has(issue.category)) {\n  1128→\t\t\t\t\treturn false;\n  1129→\t\t\t\t}\n  1130→\t\t\t}\n  1131→\n  1132→\t\t\t// Search text filter\n  1133→\t\t\tif (filters.searchText) {\n  1134→\t\t\t\tconst searchLower = filters.searchText.toLowerCase();\n  1135→\t\t\t\tconst searchableText = [\n  1136→\t\t\t\t\tissue.description, // Primary issue description\n  1137→\t\t\t\t\tissue.problem, // Fallback issue description\n  1138→\t\t\t\t\tissue.title, // Secondary title field\n  1139→\t\t\t\t]\n  1140→\t\t\t\t\t.filter(Boolean)\n  1141→\t\t\t\t\t.join(\" \")\n  1142→\t\t\t\t\t.toLowerCase();\n  1143→\n  1144→\t\t\t\tif (!searchableText.includes(searchLower)) {\n  1145→\t\t\t\t\treturn false;\n  1146→\t\t\t\t}\n  1147→\t\t\t}\n  1148→\n  1149→\t\t\treturn true;\n  1150→\t\t});\n  1151→\t}, [baseIssues, filters, bookmarkSet]);\n  1152→\n  1153→\t// Calculate filtered counts for tab badges\n  1154→\tconst filteredErrorsCount = useMemo(() => {\n  1155→\t\tif (activeTab !== \"errors\") return errorIssues.length;\n  1156→\t\treturn filteredIssues.length;\n  1157→\t}, [activeTab, errorIssues.length, filteredIssues.length]);\n  1158→\n  1159→\tconst filteredSuggestionsCount = useMemo(() => {\n  1160→\t\tif (activeTab !== \"suggestions\") return suggestionIssues.length;\n  1161→\t\treturn filteredIssues.length;\n  1162→\t}, [activeTab, suggestionIssues.length, filteredIssues.length]);\n  1163→\n  1164→\t// Calculate bookmarked count for FilterPanel badge\n  1165→\tconst bookmarkedCount = useMemo(() => {\n  1166→\t\treturn baseIssues.filter((issue) => {\n  1167→\t\t\tconst issueHash = generateIssueHash(issue);\n  1168→\t\t\treturn bookmarkSet.has(issueHash);\n  1169→\t\t}).length;\n  1170→\t}, [baseIssues, bookmarkSet]);\n  1171→\n  1172→\t// Group issues by file for display\n  1173→\tconst groupedIssues = useMemo(() => {\n  1174→\t\tconst grouped: Record<string, Issue[]> = {\n  1175→\t\t\t__cross_file__: [], // Special key for cross-file issues\n  1176→\t\t};\n  1177→\n  1178→\t\tfor (const issue of filteredIssues) {\n  1179→\t\t\tconst file = getIssueFile(issue);\n  1180→\n  1181→\t\t\tif (file === null) {\n  1182→\t\t\t\t// Cross-file or no-file issue\n  1183→\t\t\t\tgrouped.__cross_file__.push(issue);\n  1184→\t\t\t} else {\n  1185→\t\t\t\tif (!grouped[file]) {\n  1186→\t\t\t\t\tgrouped[file] = [];\n  1187→\t\t\t\t}\n  1188→\t\t\t\tgrouped[file].push(issue);\n  1189→\t\t\t}\n  1190→\t\t}\n  1191→\n  1192→\t\t// Remove cross-file section if empty\n  1193→\t\tif (grouped.__cross_file__.length === 0) {\n  1194→\t\t\tdelete grouped.__cross_file__;\n  1195→\t\t}\n  1196→\n  1197→\t\treturn grouped;\n  1198→\t}, [filteredIssues]);\n  1199→\n  1200→\t// Sort grouped issues: cross-file first, then by max severity, then alphabetically\n  1201→\tconst sortedGroupedIssues = useMemo(() => {\n  1202→\t\tconst entries = Object.entries(groupedIssues);\n  1203→\n  1204→\t\t// Separate cross-file from regular files\n  1205→\t\tconst crossFileEntry = entries.find(([key]) => key === \"__cross_file__\");\n  1206→\t\tconst fileEntries = entries.filter(([key]) => key !== \"__cross_file__\");\n  1207→\n  1208→\t\t// Sort file entries by max severity desc, then alphabetically\n  1209→\t\tfileEntries.sort(([fileA, issuesA], [fileB, issuesB]) => {\n  1210→\t\t\tconst maxSeverityA = getMaxIssueSeverity(issuesA);\n  1211→\t\t\tconst maxSeverityB = getMaxIssueSeverity(issuesB);\n  1212→\n  1213→\t\t\tif (maxSeverityA !== maxSeverityB) {\n  1214→\t\t\t\treturn maxSeverityB - maxSeverityA;\n  1215→\t\t\t}\n  1216→\n  1217→\t\t\treturn fileA.localeCompare(fileB);\n  1218→\t\t});\n  1219→\n  1220→\t\t// Return cross-file first, then sorted files\n  1221→\t\treturn crossFileEntry ? [crossFileEntry, ...fileEntries] : fileEntries;\n  1222→\t}, [groupedIssues]);\n  1223→\n  1224→\t// Determine if we should use nested grouping (file -> evaluator -> issues)\n  1225→\t// Only use nested grouping when no filters are active\n  1226→\tconst shouldUseNestedGrouping = useMemo(\n  1227→\t\t() => checkShouldUseNestedGrouping(filters),\n  1228→\t\t[filters],\n  1229→\t);\n  1230→\n  1231→\t// Group issues by file, then by category within each file\n  1232→\tconst nestedGroupedIssues = useMemo(() => {\n  1233→\t\tif (!shouldUseNestedGrouping) return null;\n  1234→\n  1235→\t\tconst grouped: Record<string, CategoryGroup[]> = {};\n  1236→\n  1237→\t\t// First, group by file\n  1238→\t\tfor (const issue of filteredIssues) {\n  1239→\t\t\tconst file = getIssueFile(issue);\n  1240→\t\t\tconst fileKey = file === null ? \"__cross_file__\" : file;\n  1241→\n  1242→\t\t\tif (!grouped[fileKey]) {\n  1243→\t\t\t\tgrouped[fileKey] = [];\n  1244→\t\t\t}\n  1245→\t\t}\n  1246→\n  1247→\t\t// Then, within each file, group by category\n  1248→\t\tfor (const issue of filteredIssues) {\n  1249→\t\t\tconst file = getIssueFile(issue);\n  1250→\t\t\tconst fileKey = file === null ? \"__cross_file__\" : file;\n  1251→\t\t\tconst categoryName = issue.category || \"Unknown\";\n  1252→\n  1253→\t\t\t// Find or create category group\n  1254→\t\t\tlet categoryGroup = grouped[fileKey].find(\n  1255→\t\t\t\t(g) => g.categoryName === categoryName,\n  1256→\t\t\t);\n  1257→\n  1258→\t\t\tif (!categoryGroup) {\n  1259→\t\t\t\tcategoryGroup = {\n  1260→\t\t\t\t\tcategoryName,\n  1261→\t\t\t\t\tissues: [],\n  1262→\t\t\t\t\tmaxSeverity: 0,\n  1263→\t\t\t\t};\n  1264→\t\t\t\tgrouped[fileKey].push(categoryGroup);\n  1265→\t\t\t}\n  1266→\n  1267→\t\t\tcategoryGroup.issues.push(issue);\n  1268→\t\t}\n  1269→\n  1270→\t\t// Calculate max severity for each category group and sort issues\n  1271→\t\tfor (const fileKey in grouped) {\n  1272→\t\t\tfor (const group of grouped[fileKey]) {\n  1273→\t\t\t\tgroup.maxSeverity = getMaxIssueSeverity(group.issues);\n  1274→\t\t\t\t// Sort issues within category group by severity (descending)\n  1275→\t\t\t\tgroup.issues.sort((a, b) => getIssueSeverity(b) - getIssueSeverity(a));\n  1276→\t\t\t}\n  1277→\n  1278→\t\t\t// Sort category groups by max severity (descending)\n  1279→\t\t\tgrouped[fileKey].sort((a, b) => b.maxSeverity - a.maxSeverity);\n  1280→\t\t}\n  1281→\n  1282→\t\t// Remove cross-file section if empty\n  1283→\t\tif (grouped.__cross_file__ && grouped.__cross_file__.length === 0) {\n  1284→\t\t\tdelete grouped.__cross_file__;\n  1285→\t\t}\n  1286→\n  1287→\t\treturn grouped;\n  1288→\t}, [shouldUseNestedGrouping, filteredIssues]);\n  1289→\n  1290→\t// Sort file groups by max severity across all categories\n  1291→\tconst sortedFileGroups = useMemo(() => {\n  1292→\t\t// If not using nested grouping, return the existing sorted groups\n  1293→\t\tif (!shouldUseNestedGrouping || !nestedGroupedIssues) {\n  1294→\t\t\treturn sortedGroupedIssues;\n  1295→\t\t}\n  1296→\n  1297→\t\tconst entries = Object.entries(nestedGroupedIssues);\n  1298→\n  1299→\t\t// Separate cross-file from regular files\n  1300→\t\tconst crossFileEntry = entries.find(([key]) => key === \"__cross_file__\");\n  1301→\t\tconst fileEntries = entries.filter(([key]) => key !== \"__cross_file__\");\n  1302→\n  1303→\t\t// Sort file entries by max severity across all categories\n  1304→\t\tfileEntries.sort(([fileA, groupsA], [fileB, groupsB]) => {\n  1305→\t\t\tconst maxSeverityA = getMaxCategoryGroupSeverity(groupsA);\n  1306→\t\t\tconst maxSeverityB = getMaxCategoryGroupSeverity(groupsB);\n  1307→\n  1308→\t\t\tif (maxSeverityA !== maxSeverityB) {\n  1309→\t\t\t\treturn maxSeverityB - maxSeverityA;\n  1310→\t\t\t}\n  1311→\n  1312→\t\t\treturn fileA.localeCompare(fileB);\n  1313→\t\t});\n  1314→\n  1315→\t\t// Return cross-file first, then sorted files\n  1316→\t\treturn crossFileEntry ? [crossFileEntry, ...fileEntries] : fileEntries;\n  1317→\t}, [shouldUseNestedGrouping, nestedGroupedIssues, sortedGroupedIssues]);\n  1318→\n  1319→\tconst handleFileLoad = (data: EvaluationOutput) => {\n  1320→\t\t// Aggregate cost and duration data from evaluator results\n  1321→\t\tif (isUnifiedFormat(data)) {\n  1322→\t\t\tconst unifiedData = data as UnifiedEvaluationOutput;\n  1323→\t\t\tlet totalCostUsd = 0;\n  1324→\t\t\tlet totalDurationMs = 0;\n  1325→\t\t\tlet totalInputTokens = 0;\n  1326→\t\t\tlet totalOutputTokens = 0;\n  1327→\t\t\tlet totalCacheCreationTokens = 0;\n  1328→\t\t\tlet totalCacheReadTokens = 0;\n  1329→\n  1330→\t\t\tfor (const result of unifiedData.results) {\n  1331→\t\t\t\tif (result.output) {\n  1332→\t\t\t\t\ttotalCostUsd += result.output.total_cost_usd || 0;\n  1333→\t\t\t\t\ttotalDurationMs += result.output.duration_ms || 0;\n  1334→\t\t\t\t\ttotalInputTokens += result.output.usage.input_tokens || 0;\n  1335→\t\t\t\t\ttotalOutputTokens += result.output.usage.output_tokens || 0;\n  1336→\t\t\t\t\ttotalCacheCreationTokens +=\n  1337→\t\t\t\t\t\tresult.output.usage.cache_creation_input_tokens || 0;\n  1338→\t\t\t\t\ttotalCacheReadTokens +=\n  1339→\t\t\t\t\t\tresult.output.usage.cache_read_input_tokens || 0;\n  1340→\t\t\t\t}\n  1341→\t\t\t}\n  1342→\n  1343→\t\t\t// Add aggregated data to metadata\n  1344→\t\t\tunifiedData.metadata.totalCostUsd = totalCostUsd;\n  1345→\t\t\tunifiedData.metadata.totalDurationMs = totalDurationMs;\n  1346→\t\t\tunifiedData.metadata.totalInputTokens = totalInputTokens;\n  1347→\t\t\tunifiedData.metadata.totalOutputTokens = totalOutputTokens;\n  1348→\t\t\tunifiedData.metadata.totalCacheCreationTokens = totalCacheCreationTokens;\n  1349→\t\t\tunifiedData.metadata.totalCacheReadTokens = totalCacheReadTokens;\n  1350→\t\t}\n  1351→\n  1352→\t\tsetEvaluationData(data);\n  1353→\t\t// Reset filters and selections when new data is loaded\n  1354→\t\tsetFilters({\n  1355→\t\t\tseverities: new Set(),\n  1356→\t\t\tcategories: new Set(),\n  1357→\t\t\tevaluators: new Set(),\n  1358→\t\t\tsearchText: \"\",\n  1359→\t\t\tbookmarkedOnly: false,\n  1360→\t\t});\n  1361→\t\tsetSelectedIssueKeys(new Set());\n  1362→\t};\n  1363→\n  1364→\tconst handleClear = useCallback(() => {\n  1365→\t\t// Clear selections in DB before resetting state\n  1366→\t\tif (currentEvaluationId) {\n  1367→\t\t\tselectionApi\n  1368→\t\t\t\t.clearSelections(currentEvaluationId)\n  1369→\t\t\t\t.catch((err) =>\n  1370→\t\t\t\t\tconsole.error(\"Failed to clear selections on reset:\", err),\n  1371→\t\t\t\t);\n  1372→\t\t}\n  1373→\t\tsetEvaluationData(null);\n  1374→\t\tsetEvaluationMode(\"idle\");\n  1375→\t\tsetApiError(null);\n  1376→\t\tsetCurrentRepositoryUrl(null);\n  1377→\t\tsetEvaluationLogs([]); // Clear logs when clearing\n  1378→\t\tsetFilters({\n  1379→\t\t\tseverities: new Set(),\n  1380→\t\t\tcategories: new Set(),\n  1381→\t\t\tevaluators: new Set(),\n  1382→\t\t\tsearchText: \"\",\n  1383→\t\t\tbookmarkedOnly: false,\n  1384→\t\t});\n  1385→\t\tsetSelectedIssueKeys(new Set());\n  1386→\t\tsetBookmarkSet(new Set());\n  1387→\t\t// Navigate to root\n  1388→\t\tnavigate(\"/\");\n  1389→\t}, [navigate, currentEvaluationId, selectionApi]);\n  1390→\n  1391→\tconst handleDeleteEvaluation = useCallback(async () => {\n  1392→\t\tif (currentEvaluationId) {\n  1393→\t\t\tawait historyApi.deleteEvaluation(currentEvaluationId);\n  1394→\t\t\thandleClear();\n  1395→\t\t}\n  1396→\t}, [currentEvaluationId, historyApi, handleClear]);\n  1397→\n  1398→\t// Issue selection handlers\n  1399→\tconst handleToggleIssueSelection = useCallback(\n  1400→\t\t(key: string, _issue: Issue) => {\n  1401→\t\t\tsetSelectedIssueKeys((prev) => {\n  1402→\t\t\t\tconst newSet = new Set(prev);\n  1403→\t\t\t\tconst isRemoving = newSet.has(key);\n  1404→\t\t\t\tif (isRemoving) {\n  1405→\t\t\t\t\tnewSet.delete(key);\n  1406→\t\t\t\t} else {\n  1407→\t\t\t\t\tnewSet.add(key);\n  1408→\t\t\t\t}\n  1409→\t\t\t\t// Persist to DB (fire-and-forget)\n  1410→\t\t\t\tif (currentEvaluationId) {\n  1411→\t\t\t\t\tif (isRemoving) {\n  1412→\t\t\t\t\t\tselectionApi\n  1413→\t\t\t\t\t\t\t.removeSelection(currentEvaluationId, key)\n  1414→\t\t\t\t\t\t\t.catch((err) =>\n  1415→\t\t\t\t\t\t\t\tconsole.error(\"Failed to persist selection removal:\", err),\n  1416→\t\t\t\t\t\t\t);\n  1417→\t\t\t\t\t} else {\n  1418→\t\t\t\t\t\tselectionApi\n  1419→\t\t\t\t\t\t\t.addSelections(currentEvaluationId, [key])\n  1420→\t\t\t\t\t\t\t.catch((err) =>\n  1421→\t\t\t\t\t\t\t\tconsole.error(\"Failed to persist selection add:\", err),\n  1422→\t\t\t\t\t\t\t);\n  1423→\t\t\t\t\t}\n  1424→\t\t\t\t}\n  1425→\t\t\t\treturn newSet;\n  1426→\t\t\t});\n  1427→\t\t},\n  1428→\t\t[currentEvaluationId, selectionApi],\n  1429→\t);\n  1430→\n  1431→\tconst handleClearSelection = useCallback(() => {\n  1432→\t\tsetSelectedIssueKeys(new Set());\n  1433→\t\tif (currentEvaluationId) {\n  1434→\t\t\tselectionApi\n  1435→\t\t\t\t.clearSelections(currentEvaluationId)\n  1436→\t\t\t\t.catch((err) =>\n  1437→\t\t\t\t\tconsole.error(\"Failed to persist selection clear:\", err),\n  1438→\t\t\t\t);\n  1439→\t\t}\n  1440→\t}, [currentEvaluationId, selectionApi]);\n  1441→\n  1442→\tconst handleFeedback = useCallback(\n  1443→\t\tasync (issueHash: string, feedbackType: \"like\" | \"dislike\" | null) => {\n  1444→\t\t\tif (!currentEvaluationId) return;\n  1445→\n  1446→\t\t\t// Find the issue by hash to get the evaluator name\n  1447→\t\t\tconst issue = allIssues.find((i) => generateIssueHash(i) === issueHash);\n  1448→\t\t\tif (!issue) return;\n  1449→\n  1450→\t\t\tconst newMap = new Map(feedbackMap);\n  1451→\n  1452→\t\t\ttry {\n  1453→\t\t\t\tif (feedbackType === null) {\n  1454→\t\t\t\t\t// Remove feedback\n  1455→\t\t\t\t\tawait feedbackApi.removeFeedback(currentEvaluationId, issueHash);\n  1456→\t\t\t\t\tnewMap.delete(issueHash);\n  1457→\t\t\t\t} else {\n  1458→\t\t\t\t\t// Submit feedback\n  1459→\t\t\t\t\tawait feedbackApi.submitFeedback(\n  1460→\t\t\t\t\t\tcurrentEvaluationId,\n  1461→\t\t\t\t\t\tissueHash,\n  1462→\t\t\t\t\t\tissue.evaluatorName || \"unknown\",\n  1463→\t\t\t\t\t\tfeedbackType,\n  1464→\t\t\t\t\t);\n  1465→\t\t\t\t\tnewMap.set(issueHash, feedbackType);\n  1466→\t\t\t\t}\n  1467→\n  1468→\t\t\t\tsetFeedbackMap(newMap);\n  1469→\t\t\t} catch (error) {\n  1470→\t\t\t\tconsole.error(\"Failed to update feedback:\", error);\n  1471→\t\t\t}\n  1472→\t\t},\n  1473→\t\t[currentEvaluationId, allIssues, feedbackMap, feedbackApi],\n  1474→\t);\n  1475→\n  1476→\tconst handleBookmarkToggle = useCallback(\n  1477→\t\tasync (issueHash: string) => {\n  1478→\t\t\t// Early return in cloud mode (no-op)\n  1479→\t\t\tif (cloudMode) return;\n  1480→\n  1481→\t\t\tif (!currentEvaluationId) return;\n  1482→\n  1483→\t\t\tconst issue = allIssues.find((i) => generateIssueHash(i) === issueHash);\n  1484→\t\t\tif (!issue) return;\n  1485→\n  1486→\t\t\tconst newSet = new Set(bookmarkSet);\n  1487→\n  1488→\t\t\ttry {\n  1489→\t\t\t\tif (bookmarkSet.has(issueHash)) {\n  1490→\t\t\t\t\tawait bookmarkApi.removeBookmark(currentEvaluationId, issueHash);\n  1491→\t\t\t\t\tnewSet.delete(issueHash);\n  1492→\t\t\t\t} else {\n  1493→\t\t\t\t\tawait bookmarkApi.addBookmark(\n  1494→\t\t\t\t\t\tcurrentEvaluationId,\n  1495→\t\t\t\t\t\tissueHash,\n  1496→\t\t\t\t\t\tissue.evaluatorName || \"unknown\",\n  1497→\t\t\t\t\t);\n  1498→\t\t\t\t\tnewSet.add(issueHash);\n  1499→\t\t\t\t}\n  1500→\n  1501→\t\t\t\tsetBookmarkSet(newSet);\n  1502→\t\t\t} catch (error) {\n  1503→\t\t\t\tconsole.error(\"Failed to toggle bookmark:\", error);\n  1504→\t\t\t}\n  1505→\t\t},\n  1506→\t\t[currentEvaluationId, allIssues, bookmarkSet, bookmarkApi, cloudMode],\n  1507→\t);\n  1508→\n  1509→\tconst handleSelectAllInGroup = useCallback(\n  1510→\t\t(issues: Issue[]) => {\n  1511→\t\t\tconst keysToAdd: string[] = [];\n  1512→\t\t\tsetSelectedIssueKeys((prev) => {\n  1513→\t\t\t\tconst newSet = new Set(prev);\n  1514→\t\t\t\tfor (const issue of issues) {\n  1515→\t\t\t\t\tconst globalIndex = allIssues.indexOf(issue);\n  1516→\t\t\t\t\tif (globalIndex >= 0) {\n  1517→\t\t\t\t\t\tconst key = generateIssueKey(issue, globalIndex);\n  1518→\t\t\t\t\t\tif (!newSet.has(key)) {\n  1519→\t\t\t\t\t\t\tkeysToAdd.push(key);\n  1520→\t\t\t\t\t\t}\n  1521→\t\t\t\t\t\tnewSet.add(key);\n  1522→\t\t\t\t\t}\n  1523→\t\t\t\t}\n  1524→\t\t\t\treturn newSet;\n  1525→\t\t\t});\n  1526→\t\t\t// Persist new keys to DB (fire-and-forget)\n  1527→\t\t\tif (currentEvaluationId && keysToAdd.length > 0) {\n  1528→\t\t\t\tselectionApi\n  1529→\t\t\t\t\t.addSelections(currentEvaluationId, keysToAdd)\n  1530→\t\t\t\t\t.catch((err) =>\n  1531→\t\t\t\t\t\tconsole.error(\"Failed to persist group selection:\", err),\n  1532→\t\t\t\t\t);\n  1533→\t\t\t}\n  1534→\t\t},\n  1535→\t\t[allIssues, currentEvaluationId, selectionApi],\n  1536→\t);\n  1537→\n  1538→\tconst handleReviewSelected = useCallback(() => {\n  1539→\t\thandleTabChange(\"remediate\");\n  1540→\t}, [handleTabChange]);\n  1541→\n  1542→\tconst handleAddAllToRemediation = useCallback(\n  1543→\t\t(issues: (Issue & { evaluatorName?: string })[]) => {\n  1544→\t\t\tconst keysToAdd: string[] = [];\n  1545→\t\t\tsetSelectedIssueKeys((prev) => {\n  1546→\t\t\t\tconst newSet = new Set(prev);\n  1547→\t\t\t\tfor (const issue of issues) {\n  1548→\t\t\t\t\tconst globalIndex = allIssues.indexOf(issue);\n  1549→\t\t\t\t\tif (globalIndex >= 0) {\n  1550→\t\t\t\t\t\tconst key = generateIssueKey(issue, globalIndex);\n  1551→\t\t\t\t\t\tif (!newSet.has(key)) {\n  1552→\t\t\t\t\t\t\tkeysToAdd.push(key);\n  1553→\t\t\t\t\t\t}\n  1554→\t\t\t\t\t\tnewSet.add(key);\n  1555→\t\t\t\t\t}\n  1556→\t\t\t\t}\n  1557→\t\t\t\treturn newSet;\n  1558→\t\t\t});\n  1559→\t\t\t// Persist new keys to DB (fire-and-forget)\n  1560→\t\t\tif (currentEvaluationId && keysToAdd.length > 0) {\n  1561→\t\t\t\tselectionApi\n  1562→\t\t\t\t\t.addSelections(currentEvaluationId, keysToAdd)\n  1563→\t\t\t\t\t.catch((err) =>\n  1564→\t\t\t\t\t\tconsole.error(\"Failed to persist add-all selection:\", err),\n  1565→\t\t\t\t\t);\n  1566→\t\t\t}\n  1567→\t\t},\n  1568→\t\t[allIssues, currentEvaluationId, selectionApi],\n  1569→\t);\n  1570→\n  1571→\tconst handleRemoveIssueFromRemediation = useCallback(\n  1572→\t\t(key: string) => {\n  1573→\t\t\tsetSelectedIssueKeys((prev) => {\n  1574→\t\t\t\tconst newSet = new Set(prev);\n  1575→\t\t\t\tnewSet.delete(key);\n  1576→\t\t\t\treturn newSet;\n  1577→\t\t\t});\n  1578→\t\t\tif (currentEvaluationId) {\n  1579→\t\t\t\tselectionApi\n  1580→\t\t\t\t\t.removeSelection(currentEvaluationId, key)\n  1581→\t\t\t\t\t.catch((err) =>\n  1582→\t\t\t\t\t\tconsole.error(\"Failed to persist issue removal:\", err),\n  1583→\t\t\t\t\t);\n  1584→\t\t\t}\n  1585→\t\t},\n  1586→\t\t[currentEvaluationId, selectionApi],\n  1587→\t);\n  1588→\n  1589→\t// Tab configuration\n  1590→\tconst tabs: TabItem[] = useMemo(() => {\n  1591→\t\tconst baseTabs: TabItem[] = [\n  1592→\t\t\t{\n  1593→\t\t\t\tid: \"summary\",\n  1594→\t\t\t\tlabel: \"Summary\",\n  1595→\t\t\t\ticon: (\n  1596→\t\t\t\t\t<svg\n  1597→\t\t\t\t\t\tclassName=\"w-4 h-4\"\n  1598→\t\t\t\t\t\tfill=\"none\"\n  1599→\t\t\t\t\t\tstroke=\"currentColor\"\n  1600→\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n  1601→\t\t\t\t\t>\n  1602→\t\t\t\t\t\t<path\n  1603→\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n  1604→\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n  1605→\t\t\t\t\t\t\tstrokeWidth={2}\n  1606→\t\t\t\t\t\t\td=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"\n  1607→\t\t\t\t\t\t/>\n  1608→\t\t\t\t\t</svg>\n  1609→\t\t\t\t),\n  1610→\t\t\t},\n  1611→\t\t\t{\n  1612→\t\t\t\tid: \"errors\",\n  1613→\t\t\t\tlabel: \"Errors\",\n  1614→\t\t\t\ticon: (\n  1615→\t\t\t\t\t<svg\n  1616→\t\t\t\t\t\tclassName=\"w-4 h-4\"\n  1617→\t\t\t\t\t\tfill=\"none\"\n  1618→\t\t\t\t\t\tstroke=\"currentColor\"\n  1619→\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n  1620→\t\t\t\t\t>\n  1621→\t\t\t\t\t\t<path\n  1622→\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n  1623→\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n  1624→\t\t\t\t\t\t\tstrokeWidth={2}\n  1625→\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n  1626→\t\t\t\t\t\t/>\n  1627→\t\t\t\t\t</svg>\n  1628→\t\t\t\t),\n  1629→\t\t\t\tcount: filteredErrorsCount,\n  1630→\t\t\t},\n  1631→\t\t\t{\n  1632→\t\t\t\tid: \"suggestions\",\n  1633→\t\t\t\tlabel: \"Suggestions\",\n  1634→\t\t\t\ticon: (\n  1635→\t\t\t\t\t<svg\n  1636→\t\t\t\t\t\tclassName=\"w-4 h-4\"\n  1637→\t\t\t\t\t\tfill=\"none\"\n  1638→\t\t\t\t\t\tstroke=\"currentColor\"\n  1639→\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n  1640→\t\t\t\t\t>\n  1641→\t\t\t\t\t\t<path\n  1642→\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n  1643→\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n  1644→\t\t\t\t\t\t\tstrokeWidth={2}\n  1645→\t\t\t\t\t\t\td=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n  1646→\t\t\t\t\t\t/>\n  1647→\t\t\t\t\t</svg>\n  1648→\t\t\t\t),\n  1649→\t\t\t\tcount: filteredSuggestionsCount,\n  1650→\t\t\t},\n  1651→\t\t\t{\n  1652→\t\t\t\tid: \"remediate\",\n  1653→\t\t\t\tlabel: \"Remediate\",\n  1654→\t\t\t\ticon: (\n  1655→\t\t\t\t\t<svg\n  1656→\t\t\t\t\t\tclassName=\"w-4 h-4\"\n  1657→\t\t\t\t\t\tfill=\"none\"\n  1658→\t\t\t\t\t\tstroke=\"currentColor\"\n  1659→\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n  1660→\t\t\t\t\t>\n  1661→\t\t\t\t\t\t<path\n  1662→\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n  1663→\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n  1664→\t\t\t\t\t\t\tstrokeWidth={2}\n  1665→\t\t\t\t\t\t\td=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\n  1666→\t\t\t\t\t\t/>\n  1667→\t\t\t\t\t</svg>\n  1668→\t\t\t\t),\n  1669→\t\t\t\tcount: selectedIssueKeys.size > 0 ? selectedIssueKeys.size : undefined,\n  1670→\t\t\t},\n  1671→\t\t];\n  1672→\n  1673→\t\t// Only show Debugging and Cost Analysis tabs in non-cloud mode\n  1674→\t\tif (!cloudMode) {\n  1675→\t\t\tbaseTabs.push(\n  1676→\t\t\t\t{\n  1677→\t\t\t\t\tid: \"debugging\",\n  1678→\t\t\t\t\tlabel: \"Debugging\",\n  1679→\t\t\t\t\ticon: (\n  1680→\t\t\t\t\t\t<svg\n  1681→\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n  1682→\t\t\t\t\t\t\tfill=\"none\"\n  1683→\t\t\t\t\t\t\tstroke=\"currentColor\"\n  1684→\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n  1685→\t\t\t\t\t\t>\n  1686→\t\t\t\t\t\t\t<path\n  1687→\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n  1688→\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n  1689→\t\t\t\t\t\t\t\tstrokeWidth={2}\n  1690→\t\t\t\t\t\t\t\td=\"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4\"\n  1691→\t\t\t\t\t\t\t/>\n  1692→\t\t\t\t\t\t</svg>\n  1693→\t\t\t\t\t),\n  1694→\t\t\t\t},\n  1695→\t\t\t\t{\n  1696→\t\t\t\t\tid: \"cost\",\n  1697→\t\t\t\t\tlabel: \"Cost Analysis\",\n  1698→\t\t\t\t\ticon: (\n  1699→\t\t\t\t\t\t<svg\n  1700→\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n  1701→\t\t\t\t\t\t\tfill=\"none\"\n  1702→\t\t\t\t\t\t\tstroke=\"currentColor\"\n  1703→\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n  1704→\t\t\t\t\t\t>\n  1705→\t\t\t\t\t\t\t<path\n  1706→\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n  1707→\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n  1708→\t\t\t\t\t\t\t\tstrokeWidth={2}\n  1709→\t\t\t\t\t\t\t\td=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n  1710→\t\t\t\t\t\t\t/>\n  1711→\t\t\t\t\t\t</svg>\n  1712→\t\t\t\t\t),\n  1713→\t\t\t\t},\n  1714→\t\t\t);\n  1715→\t\t}\n  1716→\n  1717→\t\treturn baseTabs;\n  1718→\t}, [\n  1719→\t\tfilteredErrorsCount,\n  1720→\t\tfilteredSuggestionsCount,\n  1721→\t\tcloudMode,\n  1722→\t\tselectedIssueKeys.size,\n  1723→\t]);\n  1724→\n  1725→\treturn (\n  1726→\t\t<div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-slate-100 animate-fade-in\">\n  1727→\t\t\t{/* Header */}\n  1728→\t\t\t<AppHeader\n  1729→\t\t\t\tcurrentPage=\"home\"\n  1730→\t\t\t\tonLogoClick={handleClear}\n  1731→\t\t\t\thistoryCount={historyApi.history.length}\n  1732→\t\t\t/>\n  1733→\n  1734→\t\t\t{/* Selection Summary Bar */}\n  1735→\t\t\t<SelectionSummaryBar\n  1736→\t\t\t\tselectedCount={selectedIssueKeys.size}\n  1737→\t\t\t\tonClearSelection={handleClearSelection}\n  1738→\t\t\t\tonReviewSelected={handleReviewSelected}\n  1739→\t\t\t/>\n  1740→\n  1741→\t\t\t{/* Main Content */}\n  1742→\t\t\t<main\n  1743→\t\t\t\tclassName={`max-w-[1400px] mx-auto px-6 py-6 ${selectedIssueKeys.size > 0 ? \"pt-14\" : \"\"}`}\n  1744→\t\t\t>\n  1745→\t\t\t\t{/* Content Area */}\n  1746→\t\t\t\t{evaluationData ? (\n  1747→\t\t\t\t\t<div className=\"space-y-4\">\n  1748→\t\t\t\t\t\t{/* Evaluator Failure Panel - Show if some evaluators failed */}\n  1749→\t\t\t\t\t\t{evaluationData.metadata.failedEvaluators &&\n  1750→\t\t\t\t\t\t\tevaluationData.metadata.failedEvaluators.length > 0 && (\n  1751→\t\t\t\t\t\t\t\t<EvaluatorFailurePanel\n  1752→\t\t\t\t\t\t\t\t\tfailures={evaluationData.metadata.failedEvaluators}\n  1753→\t\t\t\t\t\t\t\t/>\n  1754→\t\t\t\t\t\t\t)}\n  1755→\n  1756→\t\t\t\t\t\t{/* Tab Navigation */}\n  1757→\t\t\t\t\t\t<Tabs\n  1758→\t\t\t\t\t\t\ttabs={tabs}\n  1759→\t\t\t\t\t\t\tactiveTab={activeTab}\n  1760→\t\t\t\t\t\t\tonTabChange={handleTabChange}\n  1761→\t\t\t\t\t\t/>\n  1762→\n  1763→\t\t\t\t\t\t{/* Summary Tab */}\n  1764→\t\t\t\t\t\t<TabPanel id=\"summary\" activeTab={activeTab}>\n  1765→\t\t\t\t\t\t\t<Summary\n  1766→\t\t\t\t\t\t\t\tmetadata={evaluationData.metadata}\n  1767→\t\t\t\t\t\t\t\trepositoryUrl={currentRepositoryUrl}\n  1768→\t\t\t\t\t\t\t\tactualIssueCount={allIssues.length}\n  1769→\t\t\t\t\t\t\t\tactualPerFileIssueCount={perFileIssueCount}\n  1770→\t\t\t\t\t\t\t\tactualCrossFileIssueCount={crossFileIssueCount}\n  1771→\t\t\t\t\t\t\t\tactualHighCount={highCount}\n  1772→\t\t\t\t\t\t\t\tactualMediumCount={mediumCount}\n  1773→\t\t\t\t\t\t\t\tactualErrorCount={errorCount}\n  1774→\t\t\t\t\t\t\t\tactualSuggestionCount={suggestionCount}\n  1775→\t\t\t\t\t\t\t\tcurationSummary={curationSummary}\n  1776→\t\t\t\t\t\t\t\tcuratedCount={curatedIssues.length}\n  1777→\t\t\t\t\t\t\t\tevaluationId={currentEvaluationId ?? undefined}\n  1778→\t\t\t\t\t\t\t\tonDelete={handleDeleteEvaluation}\n  1779→\t\t\t\t\t\t\t\tcuration={evaluationData.curation}\n  1780→\t\t\t\t\t\t\t\tevaluationLogs={evaluationLogs}\n  1781→\t\t\t\t\t\t\t/>\n  1782→\t\t\t\t\t\t</TabPanel>\n  1783→\n  1784→\t\t\t\t\t\t{/* Errors Tab */}\n  1785→\t\t\t\t\t\t<TabPanel id=\"errors\" activeTab={activeTab}>\n  1786→\t\t\t\t\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-5 gap-6\">\n  1787→\t\t\t\t\t\t\t\t<div className=\"lg:col-span-1\">\n  1788→\t\t\t\t\t\t\t\t\t<div className=\"sticky top-20 max-h-[calc(100vh-6rem)] overflow-y-auto custom-scrollbar\">\n  1789→\t\t\t\t\t\t\t\t\t\t<FilterPanel\n  1790→\t\t\t\t\t\t\t\t\t\t\tfilters={filters}\n  1791→\t\t\t\t\t\t\t\t\t\t\tonFilterChange={setFilters}\n  1792→\t\t\t\t\t\t\t\t\t\t\tavailableCategories={availableCategories}\n  1793→\t\t\t\t\t\t\t\t\t\t\tissueCount={filteredIssues.length}\n  1794→\t\t\t\t\t\t\t\t\t\t\ttotalIssues={errorIssues.length}\n  1795→\t\t\t\t\t\t\t\t\t\t\tfilterOptionCounts={filterOptionCounts}\n  1796→\t\t\t\t\t\t\t\t\t\t\tbookmarkedCount={bookmarkedCount}\n  1797→\t\t\t\t\t\t\t\t\t\t/>\n  1798→\t\t\t\t\t\t\t\t\t</div>\n  1799→\t\t\t\t\t\t\t\t</div>\n  1800→\t\t\t\t\t\t\t\t<div className=\"lg:col-span-4\">\n  1801→\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-end mb-3\">\n  1802→\t\t\t\t\t\t\t\t\t\t<button\n  1803→\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleAddAllToRemediation(errorIssues)}\n  1804→\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-secondary text-sm\"\n  1805→\t\t\t\t\t\t\t\t\t\t>\n  1806→\t\t\t\t\t\t\t\t\t\t\tAdd all to remediation ({errorIssues.length})\n  1807→\t\t\t\t\t\t\t\t\t\t</button>\n  1808→\t\t\t\t\t\t\t\t\t</div>\n  1809→\t\t\t\t\t\t\t\t\t<IssuesList\n  1810→\t\t\t\t\t\t\t\t\t\tissues={filteredIssues}\n  1811→\t\t\t\t\t\t\t\t\t\tgroupedByFile={\n  1812→\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n  1813→\t\t\t\t\t\t\t\t\t\t\t\t? undefined\n  1814→\t\t\t\t\t\t\t\t\t\t\t\t: Object.fromEntries(sortedGroupedIssues)\n  1815→\t\t\t\t\t\t\t\t\t\t}\n  1816→\t\t\t\t\t\t\t\t\t\tnestedGrouping={\n  1817→\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n  1818→\t\t\t\t\t\t\t\t\t\t\t\t? Object.fromEntries(sortedFileGroups)\n  1819→\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n  1820→\t\t\t\t\t\t\t\t\t\t}\n  1821→\t\t\t\t\t\t\t\t\t\ttitle=\"Errors\"\n  1822→\t\t\t\t\t\t\t\t\t\temptyStateMessage=\"No errors found! Your documentation meets all quality standards.\"\n  1823→\t\t\t\t\t\t\t\t\t\tselectedKeys={selectedIssueKeys}\n  1824→\t\t\t\t\t\t\t\t\t\tissueKeyMap={issueKeyMap}\n  1825→\t\t\t\t\t\t\t\t\t\tonToggleSelection={handleToggleIssueSelection}\n  1826→\t\t\t\t\t\t\t\t\t\tonSelectAllInGroup={handleSelectAllInGroup}\n  1827→\t\t\t\t\t\t\t\t\t\tfeedbackMap={feedbackMap}\n  1828→\t\t\t\t\t\t\t\t\t\tonFeedback={handleFeedback}\n  1829→\t\t\t\t\t\t\t\t\t\tbookmarkSet={bookmarkSet}\n  1830→\t\t\t\t\t\t\t\t\t\tonBookmarkToggle={handleBookmarkToggle}\n  1831→\t\t\t\t\t\t\t\t\t\tassessmentEnabled={assessmentEnabled}\n  1832→\t\t\t\t\t\t\t\t\t\tgroupSelectEnabled={groupSelectEnabled}\n  1833→\t\t\t\t\t\t\t\t\t\tcloudMode={cloudMode}\n  1834→\t\t\t\t\t\t\t\t\t/>\n  1835→\t\t\t\t\t\t\t\t</div>\n  1836→\t\t\t\t\t\t\t</div>\n  1837→\t\t\t\t\t\t</TabPanel>\n  1838→\n  1839→\t\t\t\t\t\t{/* Suggestions Tab */}\n  1840→\t\t\t\t\t\t<TabPanel id=\"suggestions\" activeTab={activeTab}>\n  1841→\t\t\t\t\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-5 gap-6\">\n  1842→\t\t\t\t\t\t\t\t<div className=\"lg:col-span-1\">\n  1843→\t\t\t\t\t\t\t\t\t<div className=\"sticky top-20 max-h-[calc(100vh-6rem)] overflow-y-auto custom-scrollbar\">\n  1844→\t\t\t\t\t\t\t\t\t\t<FilterPanel\n  1845→\t\t\t\t\t\t\t\t\t\t\tfilters={filters}\n  1846→\t\t\t\t\t\t\t\t\t\t\tonFilterChange={setFilters}\n  1847→\t\t\t\t\t\t\t\t\t\t\tavailableCategories={availableCategories}\n  1848→\t\t\t\t\t\t\t\t\t\t\tissueCount={filteredIssues.length}\n  1849→\t\t\t\t\t\t\t\t\t\t\ttotalIssues={suggestionIssues.length}\n  1850→\t\t\t\t\t\t\t\t\t\t\tfilterOptionCounts={filterOptionCounts}\n  1851→\t\t\t\t\t\t\t\t\t\t\tbookmarkedCount={bookmarkedCount}\n  1852→\t\t\t\t\t\t\t\t\t\t/>\n  1853→\t\t\t\t\t\t\t\t\t</div>\n  1854→\t\t\t\t\t\t\t\t</div>\n  1855→\t\t\t\t\t\t\t\t<div className=\"lg:col-span-4\">\n  1856→\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-end mb-3\">\n  1857→\t\t\t\t\t\t\t\t\t\t<button\n  1858→\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n  1859→\t\t\t\t\t\t\t\t\t\t\t\thandleAddAllToRemediation(suggestionIssues)\n  1860→\t\t\t\t\t\t\t\t\t\t\t}\n  1861→\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-secondary text-sm\"\n  1862→\t\t\t\t\t\t\t\t\t\t>\n  1863→\t\t\t\t\t\t\t\t\t\t\tAdd all to remediation ({suggestionIssues.length})\n  1864→\t\t\t\t\t\t\t\t\t\t</button>\n  1865→\t\t\t\t\t\t\t\t\t</div>\n  1866→\t\t\t\t\t\t\t\t\t<IssuesList\n  1867→\t\t\t\t\t\t\t\t\t\tissues={filteredIssues}\n  1868→\t\t\t\t\t\t\t\t\t\tgroupedByFile={\n  1869→\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n  1870→\t\t\t\t\t\t\t\t\t\t\t\t? undefined\n  1871→\t\t\t\t\t\t\t\t\t\t\t\t: Object.fromEntries(sortedGroupedIssues)\n  1872→\t\t\t\t\t\t\t\t\t\t}\n  1873→\t\t\t\t\t\t\t\t\t\tnestedGrouping={\n  1874→\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n  1875→\t\t\t\t\t\t\t\t\t\t\t\t? Object.fromEntries(sortedFileGroups)\n  1876→\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n  1877→\t\t\t\t\t\t\t\t\t\t}\n  1878→\t\t\t\t\t\t\t\t\t\ttitle=\"Suggestions\"\n  1879→\t\t\t\t\t\t\t\t\t\temptyStateMessage=\"No suggestions available. Your documentation is comprehensive.\"\n  1880→\t\t\t\t\t\t\t\t\t\tselectedKeys={selectedIssueKeys}\n  1881→\t\t\t\t\t\t\t\t\t\tissueKeyMap={issueKeyMap}\n  1882→\t\t\t\t\t\t\t\t\t\tonToggleSelection={handleToggleIssueSelection}\n  1883→\t\t\t\t\t\t\t\t\t\tonSelectAllInGroup={handleSelectAllInGroup}\n  1884→\t\t\t\t\t\t\t\t\t\tfeedbackMap={feedbackMap}\n  1885→\t\t\t\t\t\t\t\t\t\tonFeedback={handleFeedback}\n  1886→\t\t\t\t\t\t\t\t\t\tbookmarkSet={bookmarkSet}\n  1887→\t\t\t\t\t\t\t\t\t\tonBookmarkToggle={handleBookmarkToggle}\n  1888→\t\t\t\t\t\t\t\t\t\tassessmentEnabled={assessmentEnabled}\n  1889→\t\t\t\t\t\t\t\t\t\tgroupSelectEnabled={groupSelectEnabled}\n  1890→\t\t\t\t\t\t\t\t\t\tcloudMode={cloudMode}\n  1891→\t\t\t\t\t\t\t\t\t/>\n  1892→\t\t\t\t\t\t\t\t</div>\n  1893→\t\t\t\t\t\t\t</div>\n  1894→\t\t\t\t\t\t</TabPanel>\n  1895→\n  1896→\t\t\t\t\t\t{/* Remediate Tab */}\n  1897→\t\t\t\t\t\t<TabPanel id=\"remediate\" activeTab={activeTab}>\n  1898→\t\t\t\t\t\t\t<RemediateTab\n  1899→\t\t\t\t\t\t\t\tevaluationId={currentEvaluationId}\n  1900→\t\t\t\t\t\t\t\tevaluationData={evaluationData}\n  1901→\t\t\t\t\t\t\t\tselectedIssueKeys={selectedIssueKeys}\n  1902→\t\t\t\t\t\t\t\tissueKeyMap={issueKeyMap}\n  1903→\t\t\t\t\t\t\t\tonRemoveIssue={handleRemoveIssueFromRemediation}\n  1904→\t\t\t\t\t\t\t\tonClearAll={handleClearSelection}\n  1905→\t\t\t\t\t\t\t\tcloudMode={cloudMode}\n  1906→\t\t\t\t\t\t\t/>\n  1907→\t\t\t\t\t\t</TabPanel>\n  1908→\n  1909→\t\t\t\t\t\t{/* Debugging Tab */}\n  1910→\t\t\t\t\t\t<TabPanel id=\"debugging\" activeTab={activeTab}>\n  1911→\t\t\t\t\t\t\t<EvaluatorTemplatesPanel evaluationId={currentEvaluationId} />\n  1912→\t\t\t\t\t\t</TabPanel>\n  1913→\n  1914→\t\t\t\t\t\t{/* Cost Analysis Tab */}\n  1915→\t\t\t\t\t\t<TabPanel id=\"cost\" activeTab={activeTab}>\n  1916→\t\t\t\t\t\t\t<CostAnalysisPanel metadata={evaluationData.metadata} />\n  1917→\t\t\t\t\t\t</TabPanel>\n  1918→\t\t\t\t\t</div>\n  1919→\t\t\t\t) : evaluationMode === \"evaluating\" && progressState ? (\n  1920→\t\t\t\t\t<div className=\"mb-4\">\n  1921→\t\t\t\t\t\t<ProgressPanel\n  1922→\t\t\t\t\t\t\tprogress={progressState}\n  1923→\t\t\t\t\t\t\tjobId={currentJobId ?? undefined}\n  1924→\t\t\t\t\t\t\tonCancel={handleCancelJob}\n  1925→\t\t\t\t\t\t\tonDismiss={handleDismissFailure}\n  1926→\t\t\t\t\t\t/>\n  1927→\t\t\t\t\t</div>\n  1928→\t\t\t\t) : evaluationMode === \"idle\" ? (\n  1929→\t\t\t\t\t<div className=\"space-y-6\">\n  1930→\t\t\t\t\t\t{/* Hero Section - Show first */}\n  1931→\t\t\t\t\t\t<EmptyState />\n  1932→\n  1933→\t\t\t\t\t\t{/* Compact Input Form - Show below */}\n  1934→\t\t\t\t\t\t<div className=\"max-w-2xl mx-auto\">\n  1935→\t\t\t\t\t\t\t<EvaluationInputPanel\n  1936→\t\t\t\t\t\t\t\tonUrlSubmit={handleUrlSubmit}\n  1937→\t\t\t\t\t\t\t\tonBatchSubmit={!cloudMode ? handleBatchSubmit : undefined}\n  1938→\t\t\t\t\t\t\t\tisLoading={api.isLoading}\n  1939→\t\t\t\t\t\t\t\turlError={apiError}\n  1940→\t\t\t\t\t\t\t\thasData={false}\n  1941→\t\t\t\t\t\t\t/>\n  1942→\t\t\t\t\t\t</div>\n  1943→\n  1944→\t\t\t\t\t\t{/* Experimental Notice - Below form */}\n  1945→\t\t\t\t\t\t<div className=\"max-w-2xl mx-auto\">\n  1946→\t\t\t\t\t\t\t<ExperimentalNotice />\n  1947→\t\t\t\t\t\t</div>\n  1948→\n  1949→\t\t\t\t\t\t{/* Cloud Mode Notice */}\n  1950→\t\t\t\t\t\t{cloudMode && (\n  1951→\t\t\t\t\t\t\t<div className=\"max-w-2xl mx-auto\">\n  1952→\t\t\t\t\t\t\t\t<div className=\"info-section text-left\">\n  1953→\t\t\t\t\t\t\t\t\t<div className=\"flex items-start gap-2\">\n  1954→\t\t\t\t\t\t\t\t\t\t<svg\n  1955→\t\t\t\t\t\t\t\t\t\t\tclassName=\"info-section-icon\"\n  1956→\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n  1957→\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n  1958→\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n  1959→\t\t\t\t\t\t\t\t\t\t>\n  1960→\t\t\t\t\t\t\t\t\t\t\t<path\n  1961→\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n  1962→\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n  1963→\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n  1964→\t\t\t\t\t\t\t\t\t\t\t\td=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n  1965→\t\t\t\t\t\t\t\t\t\t\t/>\n  1966→\t\t\t\t\t\t\t\t\t\t</svg>\n  1967→\t\t\t\t\t\t\t\t\t\t<div>\n  1968→\t\t\t\t\t\t\t\t\t\t\t<p className=\"info-section-header\">Public Instance</p>\n  1969→\t\t\t\t\t\t\t\t\t\t\t<p className=\"info-section-content\">\n  1970→\t\t\t\t\t\t\t\t\t\t\t\tThis is a public instance to illustrate\n  1971→\t\t\t\t\t\t\t\t\t\t\t\tcontext-evaluator. You can submit git repository URLs\n  1972→\t\t\t\t\t\t\t\t\t\t\t\tfor analysis. All results are public and cannot be\n  1973→\t\t\t\t\t\t\t\t\t\t\t\tremoved. For any request, contact{\" \"}\n  1974→\t\t\t\t\t\t\t\t\t\t\t\t<a\n  1975→\t\t\t\t\t\t\t\t\t\t\t\t\thref=\"mailto:support@packmind.com\"\n  1976→\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-blue-400 hover:text-blue-300 underline\"\n  1977→\t\t\t\t\t\t\t\t\t\t\t\t>\n  1978→\t\t\t\t\t\t\t\t\t\t\t\t\tsupport@packmind.com\n  1979→\t\t\t\t\t\t\t\t\t\t\t\t</a>\n  1980→\t\t\t\t\t\t\t\t\t\t\t\t.\n  1981→\t\t\t\t\t\t\t\t\t\t\t</p>\n  1982→\t\t\t\t\t\t\t\t\t\t</div>\n  1983→\t\t\t\t\t\t\t\t\t</div>\n  1984→\t\t\t\t\t\t\t\t</div>\n  1985→\t\t\t\t\t\t\t</div>\n  1986→\t\t\t\t\t\t)}\n  1987→\t\t\t\t\t</div>\n  1988→\t\t\t\t) : isLoadingFromUrl ? (\n  1989→\t\t\t\t\t<div className=\"card text-center py-12\">\n  1990→\t\t\t\t\t\t<div className=\"animate-spin w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full mx-auto mb-4\"></div>\n  1991→\t\t\t\t\t\t<p className=\"text-slate-400\">Loading evaluation...</p>\n  1992→\t\t\t\t\t</div>\n  1993→\t\t\t\t) : apiError && urlEvaluationId ? (\n  1994→\t\t\t\t\t<div className=\"card border-red-700/50 bg-red-900/20\">\n  1995→\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n  1996→\t\t\t\t\t\t\t<svg\n  1997→\t\t\t\t\t\t\t\tclassName=\"w-6 h-6 text-red-400 flex-shrink-0\"\n  1998→\t\t\t\t\t\t\t\tfill=\"none\"\n  1999→\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n  2000→\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n  2001→\t\t\t\t\t\t\t>\n  2002→\t\t\t\t\t\t\t\t<path\n  2003→\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n  2004→\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n  2005→\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n  2006→\t\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n  2007→\t\t\t\t\t\t\t\t/>\n  2008→\t\t\t\t\t\t\t</svg>\n  2009→\t\t\t\t\t\t\t<div className=\"flex-1\">\n  2010→\t\t\t\t\t\t\t\t<h3 className=\"font-semibold text-red-300\">\n  2011→\t\t\t\t\t\t\t\t\tEvaluation Not Found\n  2012→\t\t\t\t\t\t\t\t</h3>\n  2013→\t\t\t\t\t\t\t\t<p className=\"text-sm text-red-400/80\">{apiError}</p>\n  2014→\t\t\t\t\t\t\t</div>\n  2015→\t\t\t\t\t\t\t<button onClick={handleClear} className=\"btn-ghost\">\n  2016→\t\t\t\t\t\t\t\tGo Home\n  2017→\t\t\t\t\t\t\t</button>\n  2018→\t\t\t\t\t\t</div>\n  2019→\t\t\t\t\t</div>\n  2020→\t\t\t\t) : null}\n  2021→\t\t\t</main>\n  2022→\n  2023→\t\t\t{/* Footer */}\n  2024→\t\t\t<footer className=\"bg-slate-800 border-t border-slate-700 mt-12\">\n  2025→\t\t\t\t<div className=\"max-w-[1400px] mx-auto px-6 py-6\">\n  2026→\t\t\t\t\t<div className=\"flex flex-col md:flex-row items-center justify-between gap-4\">\n  2027→\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n  2028→\t\t\t\t\t\t\t<div>\n  2029→\t\t\t\t\t\t\t\t<p className=\"text-sm font-semibold text-slate-50\">\n  2030→\t\t\t\t\t\t\t\t\tcontext-evaluator\n  2031→\t\t\t\t\t\t\t\t</p>\n  2032→\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-400\">v{version}</p>\n  2033→\t\t\t\t\t\t\t</div>\n  2034→\t\t\t\t\t\t</div>\n  2035→\t\t\t\t\t\t<div className=\"flex flex-wrap items-center justify-center gap-8 text-sm text-slate-300\">\n  2036→\t\t\t\t\t\t\t<a\n  2037→\t\t\t\t\t\t\t\thref=\"https://packmind.com?utm_source=context-evaluator\"\n  2038→\t\t\t\t\t\t\t\ttarget=\"_blank\"\n  2039→\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n  2040→\t\t\t\t\t\t\t\tclassName=\"hover:text-slate-100 transition-colors font-medium text-slate-200\"\n  2041→\t\t\t\t\t\t\t>\n  2042→\t\t\t\t\t\t\t\tPowered by Packmind\n  2043→\t\t\t\t\t\t\t</a>\n  2044→\t\t\t\t\t\t</div>\n  2045→\t\t\t\t\t</div>\n  2046→\t\t\t\t</div>\n  2047→\t\t\t</footer>\n  2048→\t\t</div>\n  2049→\t);\n  2050→}\n  2051→\n  2052→// Scrolls to top on every route change\n  2053→function ScrollToTop() {\n  2054→\tconst { pathname } = useLocation();\n  2055→\t// biome-ignore lint/correctness/useExhaustiveDependencies: re-run scroll on route change\n  2056→\tuseEffect(() => {\n  2057→\t\twindow.scrollTo(0, 0);\n  2058→\t}, [pathname]);\n  2059→\treturn null;\n  2060→}\n  2061→\n  2062→// Router wrapper component\n  2063→function App() {\n  2064→\treturn (\n  2065→\t\t<FeatureFlagProvider>\n  2066→\t\t\t<BrowserRouter>\n  2067→\t\t\t\t<ScrollToTop />\n  2068→\t\t\t\t<AppRoutes />\n  2069→\t\t\t</BrowserRouter>\n  2070→\t\t</FeatureFlagProvider>\n  2071→\t);\n  2072→}\n  2073→\n  2074→// Routes component with feature flag access\n  2075→function AppRoutes() {\n  2076→\tconst { assessmentEnabled, cloudMode } = useFeatureFlags();\n  2077→\n  2078→\treturn (\n  2079→\t\t<Routes>\n  2080→\t\t\t<Route path=\"/\" element={<AppContent />} />\n  2081→\t\t\t<Route path=\"/evaluation/:id\" element={<AppContent />} />\n  2082→\t\t\t<Route path=\"/recent\" element={<RecentEvaluationsPage />} />\n  2083→\t\t\t<Route path=\"/evaluators\" element={<EvaluatorsPage />} />\n  2084→\t\t\t<Route path=\"/issues\" element={<IssuesPage />} />\n  2085→\t\t\t<Route path=\"/stats\" element={<StatsPage />} />\n  2086→\t\t\t<Route path=\"/how-it-works\" element={<HowItWorksPage />} />\n  2087→\t\t\t{assessmentEnabled && (\n  2088→\t\t\t\t<Route path=\"/assessment\" element={<AssessmentPage />} />\n  2089→\t\t\t)}\n  2090→\t\t\t{!cloudMode && (\n  2091→\t\t\t\t<Route path=\"/batch/:batchId\" element={<BatchStatusPage />} />\n  2092→\t\t\t)}\n  2093→\t\t</Routes>\n  2094→\t);\n  2095→}\n  2096→\n  2097→// Mount the app\n  2098→const root = createRoot(document.getElementById(\"root\")!);\n  2099→root.render(<App />);\n  2100→"}]},"uuid":"1089916a-3821-47c2-a5ee-d785c1a7a403","timestamp":"2026-02-13T12:46:48.839Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/App.tsx","content":"import { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport {\n\tBrowserRouter,\n\tRoute,\n\tRoutes,\n\tuseLocation,\n\tuseNavigate,\n\tuseParams,\n\tuseSearchParams,\n} from \"react-router-dom\";\nimport { AppHeader } from \"./components/AppHeader\";\nimport { AssessmentPage } from \"./components/AssessmentPage\";\nimport { BatchStatusPage } from \"./components/BatchStatusPage\";\nimport { CostAnalysisPanel } from \"./components/CostAnalysisPanel\";\nimport { EmptyState } from \"./components/EmptyState\";\nimport { EvaluationInputPanel } from \"./components/EvaluationInputPanel\";\nimport { EvaluatorFailurePanel } from \"./components/EvaluatorFailurePanel\";\nimport { EvaluatorsPage } from \"./components/EvaluatorsPage\";\nimport { EvaluatorTemplatesPanel } from \"./components/EvaluatorTemplatesPanel\";\nimport { ExperimentalNotice } from \"./components/ExperimentalNotice\";\nimport type { FilterOptionCounts, FilterState } from \"./components/FilterPanel\";\nimport { FilterPanel } from \"./components/FilterPanel\";\nimport { HowItWorksPage } from \"./components/HowItWorksPage\";\nimport { IssuesList } from \"./components/IssuesList\";\nimport { IssuesPage } from \"./components/IssuesPage\";\nimport { ProgressPanel } from \"./components/ProgressPanel\";\nimport { RecentEvaluationsPage } from \"./components/RecentEvaluationsPage\";\nimport { RemediateTab } from \"./components/RemediateTab\";\nimport { SelectionSummaryBar } from \"./components/SelectionSummaryBar\";\nimport { StatsPage } from \"./components/StatsPage\";\nimport { Summary } from \"./components/Summary\";\nimport type { TabItem } from \"./components/Tabs\";\nimport { TabPanel, Tabs } from \"./components/Tabs\";\nimport {\n\tFeatureFlagProvider,\n\tuseFeatureFlags,\n} from \"./contexts/FeatureFlagContext\";\nimport { useBookmarkApi } from \"./hooks/useBookmarkApi\";\nimport { useEvaluationApi } from \"./hooks/useEvaluationApi\";\nimport { useEvaluationHistory } from \"./hooks/useEvaluationHistory\";\nimport { useFeedbackApi } from \"./hooks/useFeedbackApi\";\nimport { useSelectionApi } from \"./hooks/useSelectionApi\";\nimport { useSSE } from \"./hooks/useSSE\";\nimport { useVersion } from \"./hooks/useVersion\";\nimport { getFilteredEvaluatorCount } from \"./lib/formatters\";\nimport { shouldUseNestedGrouping as checkShouldUseNestedGrouping } from \"./lib/grouping-utils\";\nimport { generateIssueHash } from \"./lib/issue-hash\";\nimport { generateIssueKey } from \"./lib/issue-utils\";\nimport type {\n\tCategoryGroup,\n\tEvaluationOutput,\n\tEvaluatorFilter,\n\tIndependentEvaluationOutput,\n\tIssue,\n\tUnifiedEvaluationOutput,\n} from \"./types/evaluation\";\nimport {\n\tgetIssueFile,\n\tgetIssueSeverity,\n\tgetIssueType,\n\tgetMaxCategoryGroupSeverity,\n\tgetMaxIssueSeverity,\n\tgetSeverityLevel,\n\tisIndependentFormat,\n\tisUnifiedFormat,\n\tparseEvaluatorResult,\n} from \"./types/evaluation\";\nimport type {\n\tEvaluationMode,\n\tICloneWarningEvent,\n\tIContextAnalysisEvent,\n\tIContextClocEvent,\n\tIContextFoldersEvent,\n\tIContextWarningEvent,\n\tIDiscoveryCompletedEvent,\n\tIEvaluatorProgressEvent,\n\tIFileStartedEvent,\n\tIJobCompletedEvent,\n\tIJobFailedEvent,\n\tIJobStartedEvent,\n\tIProgressState,\n\tSSEEvent,\n} from \"./types/job\";\n\nfunction AppContent() {\n\t// Feature flags\n\tconst { assessmentEnabled, groupSelectEnabled, cloudMode } =\n\t\tuseFeatureFlags();\n\n\t// URL-based routing\n\tconst navigate = useNavigate();\n\tconst { id: urlEvaluationId } = useParams<{ id: string }>();\n\tconst [searchParams, setSearchParams] = useSearchParams();\n\n\t// Tab state from URL with smart defaults\n\tconst rawTab = searchParams.get(\"tab\");\n\tconst handleTabChange = useCallback(\n\t\t(tabId: string) => {\n\t\t\tsetSearchParams(\n\t\t\t\t(prev) => {\n\t\t\t\t\tprev.set(\"tab\", tabId);\n\t\t\t\t\treturn prev;\n\t\t\t\t},\n\t\t\t\t{ replace: true },\n\t\t\t);\n\t\t},\n\t\t[setSearchParams],\n\t);\n\n\tconst [evaluationData, setEvaluationData] = useState<EvaluationOutput | null>(\n\t\tnull,\n\t);\n\tconst [filters, setFilters] = useState<FilterState>({\n\t\tseverities: new Set(),\n\t\tcategories: new Set(),\n\t\tevaluators: new Set(),\n\t\tsearchText: \"\",\n\t\tbookmarkedOnly: false,\n\t});\n\t// Always show all issues (removed curated toggle)\n\n\t// Evaluation job state\n\tconst [evaluationMode, setEvaluationMode] = useState<EvaluationMode>(\"idle\");\n\tconst [currentJobId, setCurrentJobId] = useState<string | null>(null);\n\tconst [sseUrl, setSSEUrl] = useState<string | null>(null);\n\tconst [progressState, setProgressState] = useState<IProgressState | null>(\n\t\tnull,\n\t);\n\tconst [apiError, setApiError] = useState<string | null>(null);\n\tconst [isLoadingFromUrl, setIsLoadingFromUrl] = useState(false);\n\tconst [currentRepositoryUrl, setCurrentRepositoryUrl] = useState<\n\t\tstring | null\n\t>(null);\n\t// Store evaluation logs to persist after completion\n\tconst [evaluationLogs, setEvaluationLogs] = useState<\n\t\tArray<{ timestamp: Date; type: string; message: string }>\n\t>([]);\n\n\t// Issue selection state\n\tconst [selectedIssueKeys, setSelectedIssueKeys] = useState<Set<string>>(\n\t\tnew Set(),\n\t);\n\tconst [issueKeyMap, setIssueKeyMap] = useState<Map<string, Issue>>(new Map());\n\n\t// Feedback state\n\tconst [feedbackMap, setFeedbackMap] = useState<\n\t\tMap<string, \"like\" | \"dislike\">\n\t>(new Map());\n\tconst feedbackApi = useFeedbackApi();\n\n\t// Bookmark state\n\tconst [bookmarkSet, setBookmarkSet] = useState<Set<string>>(new Set());\n\tconst bookmarkApi = useBookmarkApi();\n\n\t// Selection persistence\n\tconst selectionApi = useSelectionApi();\n\n\t// Derive currentEvaluationId from URL parameter\n\tconst currentEvaluationId = urlEvaluationId || null;\n\n\t// Ref for completion timeout cleanup\n\tconst completionTimeoutRef = useRef<ReturnType<typeof setTimeout> | null>(\n\t\tnull,\n\t);\n\n\t// API hook\n\tconst api = useEvaluationApi();\n\n\t// Evaluation history hook\n\tconst historyApi = useEvaluationHistory();\n\n\t// Version hook\n\tconst { version } = useVersion();\n\n\t// Ref for stable access to API function (avoids dependency array issues)\n\tconst loadEvaluationRef = useRef(historyApi.loadEvaluation);\n\tloadEvaluationRef.current = historyApi.loadEvaluation;\n\n\t// SSE event handler\n\tconst handleProgressEvent = useCallback(\n\t\t(event: SSEEvent) => {\n\t\t\tsetProgressState((prev) => {\n\t\t\t\tif (!prev) return prev;\n\n\t\t\t\tconst newState = { ...prev };\n\n\t\t\t\tswitch (event.type) {\n\t\t\t\t\t// Clone events\n\t\t\t\t\tcase \"clone.started\": {\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: \"Cloning repository...\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"clone.completed\": {\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\tmessage: \"Repository cloned successfully\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"clone.warning\": {\n\t\t\t\t\t\tconst data = (event as ICloneWarningEvent).data;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\t\t\tmessage: data.message,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discovery events\n\t\t\t\t\tcase \"discovery.started\": {\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: \"Discovering context files...\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"discovery.completed\": {\n\t\t\t\t\t\tconst data = (event as IDiscoveryCompletedEvent).data;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\tmessage: `Found ${data.filesFound} context file(s)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Context sub-step events\n\t\t\t\t\tcase \"context.cloc\": {\n\t\t\t\t\t\tconst data = (event as IContextClocEvent).data;\n\t\t\t\t\t\tif (data.status === \"started\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\t\tmessage: \"Analyzing codebase size...\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t} else if (data.status === \"completed\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\t\tmessage: `Codebase: ${data.totalLines?.toLocaleString() || \"?\"} lines across ${data.languageCount || \"?\"} languages`,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"context.folders\": {\n\t\t\t\t\t\tconst data = (event as IContextFoldersEvent).data;\n\t\t\t\t\t\tif (data.status === \"started\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\t\tmessage: \"Analyzing directory structure...\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t} else if (data.status === \"completed\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\t\tmessage: `Structure: ${data.folderCount || \"?\"} key directories`,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"context.analysis\": {\n\t\t\t\t\t\tconst data = (event as IContextAnalysisEvent).data;\n\t\t\t\t\t\tif (data.status === \"started\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\t\tmessage: \"Identifying project context...\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t} else if (data.status === \"completed\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\t\tmessage: \"Project context identified\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"context.warning\": {\n\t\t\t\t\t\tconst data = (event as IContextWarningEvent).data;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\t\t\tmessage: data.message,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"job.started\": {\n\t\t\t\t\t\tconst data = (event as IJobStartedEvent).data;\n\t\t\t\t\t\tnewState.status = \"running\";\n\t\t\t\t\t\tnewState.totalFiles = data.totalFiles || 0;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: `Started evaluation (${data.evaluationMode} mode, ${data.totalFiles} file(s))`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"file.started\": {\n\t\t\t\t\t\tconst data = (event as IFileStartedEvent).data;\n\t\t\t\t\t\tnewState.currentFile = data.filePath;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: `Processing ${data.filePath}`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"file.completed\": {\n\t\t\t\t\t\tnewState.completedFiles = (prev.completedFiles || 0) + 1;\n\t\t\t\t\t\t// Update percentage based on file progress\n\t\t\t\t\t\tif (newState.totalFiles > 0) {\n\t\t\t\t\t\t\tnewState.percentage = Math.round(\n\t\t\t\t\t\t\t\t(newState.completedFiles / newState.totalFiles) * 50,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluator.progress\": {\n\t\t\t\t\t\tconst data = (event as IEvaluatorProgressEvent).data;\n\t\t\t\t\t\tnewState.currentEvaluator = data.evaluatorName;\n\t\t\t\t\t\tnewState.completedEvaluators = data.evaluatorIndex;\n\t\t\t\t\t\tnewState.totalEvaluators = data.totalEvaluators;\n\t\t\t\t\t\t// Update percentage based on evaluator progress\n\t\t\t\t\t\tif (data.totalEvaluators > 0) {\n\t\t\t\t\t\t\tconst evaluatorProgress =\n\t\t\t\t\t\t\t\t(data.evaluatorIndex / data.totalEvaluators) * 50;\n\t\t\t\t\t\t\tnewState.percentage = 50 + Math.round(evaluatorProgress);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Include file context in log message when evaluating multiple files\n\t\t\t\t\t\tconst fileContext = data.currentFile\n\t\t\t\t\t\t\t? ` on ${data.currentFile.split(\"/\").pop()}`\n\t\t\t\t\t\t\t: \"\";\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: `Running ${data.evaluatorName}${fileContext} (${data.evaluatorIndex + 1}/${data.totalEvaluators})`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluator.completed\": {\n\t\t\t\t\t\tnewState.completedEvaluators = (prev.completedEvaluators || 0) + 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluator.retry\": {\n\t\t\t\t\t\tconst data = event.data as {\n\t\t\t\t\t\t\tevaluatorName: string;\n\t\t\t\t\t\t\tattempt: number;\n\t\t\t\t\t\t\tmaxRetries: number;\n\t\t\t\t\t\t\terror: string;\n\t\t\t\t\t\t\tcurrentFile?: string;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tconst retriesRemaining = data.maxRetries - data.attempt;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\t\t\tmessage: `Retry ${data.attempt}/${data.maxRetries} for ${data.evaluatorName}: ${data.error.substring(0, 100)}${data.error.length > 100 ? \"...\" : \"\"} (${retriesRemaining} retries remaining)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluator.timeout\": {\n\t\t\t\t\t\tconst data = event.data as {\n\t\t\t\t\t\t\tevaluatorName: string;\n\t\t\t\t\t\t\telapsedMs: number;\n\t\t\t\t\t\t\ttimeoutMs: number;\n\t\t\t\t\t\t\tcurrentFile?: string;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tconst elapsedSec = Math.round(data.elapsedMs / 1000);\n\t\t\t\t\t\tconst timeoutSec = Math.round(data.timeoutMs / 1000);\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\t\t\tmessage: `Timeout: ${data.evaluatorName} exceeded ${timeoutSec}s limit (elapsed: ${elapsedSec}s)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"curation.started\": {\n\t\t\t\t\t\tconst data = event.data;\n\t\t\t\t\t\tconst typeLabel =\n\t\t\t\t\t\t\tdata.issueType === \"error\"\n\t\t\t\t\t\t\t\t? \"errors\"\n\t\t\t\t\t\t\t\t: data.issueType === \"suggestion\"\n\t\t\t\t\t\t\t\t\t? \"suggestions\"\n\t\t\t\t\t\t\t\t\t: \"issues\";\n\t\t\t\t\t\tnewState.currentEvaluator = `Impact Curation (${typeLabel})`;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: `Curating top ${typeLabel} from ${data.totalIssues} total...`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"curation.completed\": {\n\t\t\t\t\t\tconst data = event.data;\n\t\t\t\t\t\tconst typeLabel =\n\t\t\t\t\t\t\tdata.issueType === \"error\"\n\t\t\t\t\t\t\t\t? \"errors\"\n\t\t\t\t\t\t\t\t: data.issueType === \"suggestion\"\n\t\t\t\t\t\t\t\t\t? \"suggestions\"\n\t\t\t\t\t\t\t\t\t: \"issues\";\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\tmessage: `Impact curation completed for ${typeLabel} (${data.curatedCount} selected)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluation.warning\": {\n\t\t\t\t\t\tconst data = event.data;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\t\t\tmessage: data.message || \"Some evaluators encountered errors\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"job.completed\": {\n\t\t\t\t\t\tconst data = (event as IJobCompletedEvent).data;\n\t\t\t\t\t\tnewState.status = \"completed\";\n\t\t\t\t\t\tnewState.percentage = 100;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\tmessage: `Evaluation completed in ${Math.round(data.duration / 1000)}s`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\t// Preserve logs for display in Summary after completion\n\t\t\t\t\t\tsetEvaluationLogs(newState.logs);\n\t\t\t\t\t\t// Set the evaluation data\n\t\t\t\t\t\tsetEvaluationData(data.result);\n\t\t\t\t\t\tsetEvaluationMode(\"completed\");\n\t\t\t\t\t\t// Reset job state after a short delay (user is already at /evaluation/:jobId)\n\t\t\t\t\t\t// Clear any existing timeout first\n\t\t\t\t\t\tif (completionTimeoutRef.current) {\n\t\t\t\t\t\t\tclearTimeout(completionTimeoutRef.current);\n\t\t\t\t\t\t\tcompletionTimeoutRef.current = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcompletionTimeoutRef.current = setTimeout(() => {\n\t\t\t\t\t\t\tsetCurrentJobId(null);\n\t\t\t\t\t\t\tsetSSEUrl(null);\n\t\t\t\t\t\t\tsetProgressState(null);\n\t\t\t\t\t\t}, 100);\n\t\t\t\t\t\t// Refresh history to show new evaluation\n\t\t\t\t\t\thistoryApi.refresh();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"job.failed\": {\n\t\t\t\t\t\tconst data = (event as IJobFailedEvent).data;\n\t\t\t\t\t\tnewState.status = \"failed\";\n\t\t\t\t\t\tnewState.errorMessage = data.error?.message || \"Unknown error\";\n\t\t\t\t\t\tnewState.errorCode = data.error?.code;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\t\t\tmessage: `Evaluation failed: ${data.error?.message || \"Unknown error\"}`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\t// Keep evaluationMode as 'evaluating' so ProgressPanel stays visible\n\t\t\t\t\t\t// User can dismiss manually with the \"Try Again\" button\n\t\t\t\t\t\t// Refresh history to show failed evaluation\n\t\t\t\t\t\thistoryApi.refresh();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Keep only last 50 logs\n\t\t\t\tif (newState.logs.length > 50) {\n\t\t\t\t\tnewState.logs = newState.logs.slice(-50);\n\t\t\t\t}\n\n\t\t\t\treturn newState;\n\t\t\t});\n\t\t},\n\t\t[historyApi],\n\t);\n\n\t// SSE connection\n\tuseSSE({\n\t\turl: sseUrl,\n\t\tonMessage: handleProgressEvent,\n\t\tonOpen: () => {\n\t\t\tsetProgressState((prev) =>\n\t\t\t\tprev\n\t\t\t\t\t? {\n\t\t\t\t\t\t\t...prev,\n\t\t\t\t\t\t\tlogs: [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\t\tmessage: \"Connected to progress stream\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t}\n\t\t\t\t\t: prev,\n\t\t\t);\n\t\t},\n\t});\n\n\t// Cleanup completion timeout on unmount\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tif (completionTimeoutRef.current) {\n\t\t\t\tclearTimeout(completionTimeoutRef.current);\n\t\t\t\tcompletionTimeoutRef.current = null;\n\t\t\t}\n\t\t};\n\t}, []);\n\n\t// Handle URL submission\n\tconst handleUrlSubmit = useCallback(\n\t\tasync (\n\t\t\turl: string,\n\t\t\tevaluators: number,\n\t\t\tprovider?: \"claude\" | \"opencode\" | \"cursor\" | \"github-copilot\",\n\t\t\tevaluatorFilter?: EvaluatorFilter,\n\t\t\tconcurrency?: number,\n\t\t\tselectedEvaluators?: string[],\n\t\t) => {\n\t\t\tsetEvaluationMode(\"evaluating\");\n\t\t\tsetApiError(null);\n\t\t\tsetCurrentRepositoryUrl(url);\n\t\t\tsetEvaluationLogs([]); // Clear previous logs when starting new evaluation\n\n\t\t\ttry {\n\t\t\t\tconst response = await api.submitJob(\n\t\t\t\t\turl,\n\t\t\t\t\tevaluators,\n\t\t\t\t\tprovider,\n\t\t\t\t\tevaluatorFilter,\n\t\t\t\t\tundefined,\n\t\t\t\t\tconcurrency,\n\t\t\t\t\tselectedEvaluators,\n\t\t\t\t);\n\t\t\t\tsetCurrentJobId(response.jobId);\n\t\t\t\tsetSSEUrl(response.sseUrl);\n\n\t\t\t\t// Initialize progress state\n\t\t\t\tsetProgressState({\n\t\t\t\t\tstatus: \"queued\",\n\t\t\t\t\trepositoryUrl: url,\n\t\t\t\t\ttotalFiles: 0,\n\t\t\t\t\tcompletedFiles: 0,\n\t\t\t\t\ttotalEvaluators: getFilteredEvaluatorCount(\n\t\t\t\t\t\tevaluatorFilter || \"all\",\n\t\t\t\t\t\tevaluators,\n\t\t\t\t\t\tselectedEvaluators?.length,\n\t\t\t\t\t),\n\t\t\t\t\tcompletedEvaluators: 0,\n\t\t\t\t\tpercentage: 0,\n\t\t\t\t\tstartTime: new Date(),\n\t\t\t\t\tlogs: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\tmessage: \"Evaluation job submitted\",\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t});\n\n\t\t\t\t// Navigate immediately to the evaluation URL\n\t\t\t\tnavigate(`/evaluation/${response.jobId}`);\n\t\t\t} catch (error) {\n\t\t\t\tsetEvaluationMode(\"idle\");\n\t\t\t\tsetApiError(\n\t\t\t\t\terror instanceof Error\n\t\t\t\t\t\t? error.message\n\t\t\t\t\t\t: \"Failed to submit evaluation job\",\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[api, navigate],\n\t);\n\n\t// Handle batch URL submission\n\tconst handleBatchSubmit = useCallback(\n\t\tasync (\n\t\t\turls: string[],\n\t\t\t_evaluators: number,\n\t\t\tprovider?: \"claude\" | \"opencode\" | \"cursor\" | \"github-copilot\",\n\t\t\tevaluatorFilter?: EvaluatorFilter,\n\t\t\tconcurrency?: number,\n\t\t\tselectedEvaluators?: string[],\n\t\t) => {\n\t\t\tsetApiError(null);\n\t\t\ttry {\n\t\t\t\tconst response = await api.submitBatch(\n\t\t\t\t\turls,\n\t\t\t\t\tundefined,\n\t\t\t\t\tprovider,\n\t\t\t\t\tevaluatorFilter,\n\t\t\t\t\tundefined,\n\t\t\t\t\tconcurrency,\n\t\t\t\t\tselectedEvaluators,\n\t\t\t\t);\n\t\t\t\tnavigate(`/batch/${response.batchId}`);\n\t\t\t} catch (error) {\n\t\t\t\tsetApiError(\n\t\t\t\t\terror instanceof Error\n\t\t\t\t\t\t? error.message\n\t\t\t\t\t\t: \"Failed to submit batch evaluation\",\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[api, navigate],\n\t);\n\n\t// Handle job cancellation\n\tconst handleCancelJob = useCallback(async () => {\n\t\tif (currentJobId) {\n\t\t\tawait api.cancelJob(currentJobId);\n\t\t}\n\t\tsetEvaluationMode(\"idle\");\n\t\tsetProgressState(null);\n\t\tsetCurrentJobId(null);\n\t\tsetSSEUrl(null);\n\t}, [currentJobId, api]);\n\n\t// Handle dismissing failed evaluation (Try Again)\n\tconst handleDismissFailure = useCallback(() => {\n\t\tsetEvaluationMode(\"idle\");\n\t\tsetProgressState(null);\n\t\tsetCurrentJobId(null);\n\t\tsetSSEUrl(null);\n\t}, []);\n\n\t// Load evaluation from URL on mount or when URL changes\n\t// Handles both active jobs (reconnect SSE) and completed evaluations (load from database)\n\t// biome-ignore lint/correctness/useExhaustiveDependencies: handleFileLoad is intentionally excluded - we want the latest version but don't want it to trigger re-runs\n\tuseEffect(() => {\n\t\tif (!urlEvaluationId) return;\n\t\tif (evaluationData && evaluationMode === \"completed\") return; // Already loaded\n\t\tif (evaluationMode === \"evaluating\") return; // Currently evaluating\n\n\t\tconst loadEvaluationById = async () => {\n\t\t\tsetIsLoadingFromUrl(true);\n\t\t\tsetApiError(null);\n\n\t\t\ttry {\n\t\t\t\t// Step 1: Check if it's an active job\n\t\t\t\tconst jobStatus = await api.getJobStatus(urlEvaluationId);\n\n\t\t\t\tif (jobStatus.status === \"completed\" && jobStatus.result) {\n\t\t\t\t\t// Job completed, result in memory - use it directly\n\t\t\t\t\thandleFileLoad(jobStatus.result);\n\t\t\t\t\tsetCurrentRepositoryUrl(jobStatus.repositoryUrl || null);\n\t\t\t\t\tsetEvaluationMode(\"completed\");\n\t\t\t\t\t// Load feedback, bookmarks, and selections\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst feedback =\n\t\t\t\t\t\t\tawait feedbackApi.getFeedbackForEvaluation(urlEvaluationId);\n\t\t\t\t\t\tsetFeedbackMap(feedback);\n\t\t\t\t\t\tif (!cloudMode) {\n\t\t\t\t\t\t\tconst bookmarks =\n\t\t\t\t\t\t\t\tawait bookmarkApi.getBookmarksForEvaluation(urlEvaluationId);\n\t\t\t\t\t\t\tsetBookmarkSet(bookmarks);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst selections =\n\t\t\t\t\t\t\tawait selectionApi.getSelectionsForEvaluation(urlEvaluationId);\n\t\t\t\t\t\tsetSelectedIssueKeys(selections);\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error(\"Failed to load metadata:\", err);\n\t\t\t\t\t}\n\t\t\t\t\tsetIsLoadingFromUrl(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (jobStatus.status === \"failed\") {\n\t\t\t\t\tsetApiError(jobStatus.error?.message || \"Evaluation failed\");\n\t\t\t\t\tsetIsLoadingFromUrl(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Active job (running or queued) - reconnect SSE\n\t\t\t\tif (jobStatus.status === \"running\" || jobStatus.status === \"queued\") {\n\t\t\t\t\tsetCurrentJobId(urlEvaluationId);\n\t\t\t\t\tconst sseUrlValue = jobStatus.sseUrl?.startsWith(\"/\")\n\t\t\t\t\t\t? `${window.location.origin}${jobStatus.sseUrl}`\n\t\t\t\t\t\t: jobStatus.sseUrl || null;\n\t\t\t\t\tsetSSEUrl(sseUrlValue);\n\t\t\t\t\tsetCurrentRepositoryUrl(jobStatus.repositoryUrl || null);\n\t\t\t\t\tsetEvaluationMode(\"evaluating\");\n\n\t\t\t\t\t// Convert server logs to frontend format, or use default message\n\t\t\t\t\tconst historicalLogs = jobStatus.logs?.length\n\t\t\t\t\t\t? jobStatus.logs.map((log) => ({\n\t\t\t\t\t\t\t\ttimestamp: new Date(log.timestamp),\n\t\t\t\t\t\t\t\ttype: log.type,\n\t\t\t\t\t\t\t\tmessage: log.message,\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\" as const,\n\t\t\t\t\t\t\t\t\tmessage: \"Reconnected to evaluation in progress\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\n\t\t\t\t\t// Calculate progress percentage\n\t\t\t\t\tlet percentage = 0;\n\t\t\t\t\tif (jobStatus.progress?.totalEvaluators) {\n\t\t\t\t\t\tpercentage = Math.round(\n\t\t\t\t\t\t\t((jobStatus.progress.completedEvaluators || 0) /\n\t\t\t\t\t\t\t\tjobStatus.progress.totalEvaluators) *\n\t\t\t\t\t\t\t\t100,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Initialize progress state from job with historical logs\n\t\t\t\t\tsetProgressState({\n\t\t\t\t\t\tstatus: jobStatus.status,\n\t\t\t\t\t\trepositoryUrl: jobStatus.repositoryUrl || \"Unknown\",\n\t\t\t\t\t\ttotalFiles: jobStatus.progress?.totalFiles || 0,\n\t\t\t\t\t\tcompletedFiles: jobStatus.progress?.completedFiles || 0,\n\t\t\t\t\t\ttotalEvaluators: jobStatus.progress?.totalEvaluators || 0,\n\t\t\t\t\t\tcompletedEvaluators: jobStatus.progress?.completedEvaluators || 0,\n\t\t\t\t\t\tcurrentEvaluator: jobStatus.progress?.currentEvaluator,\n\t\t\t\t\t\tpercentage,\n\t\t\t\t\t\tstartTime: new Date(jobStatus.startedAt || jobStatus.createdAt),\n\t\t\t\t\t\tlogs: historicalLogs,\n\t\t\t\t\t});\n\t\t\t\t\tsetIsLoadingFromUrl(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} catch {\n\t\t\t\t// Not an active job - try database\n\t\t\t\tconsole.log(\"[App] Not an active job, trying database\");\n\t\t\t}\n\n\t\t\t// Step 2: Try loading from database\n\t\t\ttry {\n\t\t\t\tconst record = await loadEvaluationRef.current(urlEvaluationId);\n\t\t\t\tif (record?.result) {\n\t\t\t\t\thandleFileLoad(record.result);\n\t\t\t\t\tsetCurrentRepositoryUrl(record.repositoryUrl);\n\t\t\t\t\tsetEvaluationMode(\"completed\");\n\t\t\t\t\t// Load feedback, bookmarks, and selections\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst feedback =\n\t\t\t\t\t\t\tawait feedbackApi.getFeedbackForEvaluation(urlEvaluationId);\n\t\t\t\t\t\tsetFeedbackMap(feedback);\n\t\t\t\t\t\tif (!cloudMode) {\n\t\t\t\t\t\t\tconst bookmarks =\n\t\t\t\t\t\t\t\tawait bookmarkApi.getBookmarksForEvaluation(urlEvaluationId);\n\t\t\t\t\t\t\tsetBookmarkSet(bookmarks);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst selections =\n\t\t\t\t\t\t\tawait selectionApi.getSelectionsForEvaluation(urlEvaluationId);\n\t\t\t\t\t\tsetSelectedIssueKeys(selections);\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error(\"Failed to load metadata:\", err);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsetApiError(\"Evaluation not found\");\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tsetApiError(\n\t\t\t\t\terr instanceof Error ? err.message : \"Failed to load evaluation\",\n\t\t\t\t);\n\t\t\t} finally {\n\t\t\t\tsetIsLoadingFromUrl(false);\n\t\t\t}\n\t\t};\n\n\t\tloadEvaluationById();\n\t}, [\n\t\turlEvaluationId,\n\t\tevaluationData,\n\t\tevaluationMode,\n\t\tapi,\n\t\tfeedbackApi,\n\t\tbookmarkApi,\n\t\tselectionApi,\n\t\tcloudMode,\n\t]);\n\n\t// Parse all issues from evaluation data\n\tconst allIssues = useMemo(() => {\n\t\tif (!evaluationData) return [];\n\n\t\tconst issues: Array<Issue & { evaluatorName?: string }> = [];\n\n\t\tif (isUnifiedFormat(evaluationData)) {\n\t\t\t// Unified format: results array\n\t\t\tconst unifiedData = evaluationData as UnifiedEvaluationOutput;\n\t\t\tfor (const result of unifiedData.results) {\n\t\t\t\tif (result.output && result.output.result) {\n\t\t\t\t\tconst parsedIssues = parseEvaluatorResult(result.output.result);\n\t\t\t\t\tparsedIssues.forEach((issue) => {\n\t\t\t\t\t\tissues.push({ ...issue, evaluatorName: result.evaluator });\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add top-level cross-file issues for unified format\n\t\t\tif (unifiedData.crossFileIssues) {\n\t\t\t\tissues.push(\n\t\t\t\t\t...unifiedData.crossFileIssues.map((issue) => ({\n\t\t\t\t\t\t...issue,\n\t\t\t\t\t\tevaluatorName: \"cross-file\",\n\t\t\t\t\t})),\n\t\t\t\t);\n\t\t\t}\n\t\t} else if (isIndependentFormat(evaluationData)) {\n\t\t\t// Independent format: files object\n\t\t\tconst independentData = evaluationData as IndependentEvaluationOutput;\n\t\t\tfor (const [_filePath, fileResult] of Object.entries(\n\t\t\t\tindependentData.files,\n\t\t\t)) {\n\t\t\t\tfor (const evaluation of fileResult.evaluations) {\n\t\t\t\t\tconst evalWithIssues = evaluation as {\n\t\t\t\t\t\tissues?: Issue[];\n\t\t\t\t\t\tevaluator: string;\n\t\t\t\t\t\toutput?: { result: string };\n\t\t\t\t\t};\n\t\t\t\t\t// Handle both formats:\n\t\t\t\t\t// 1. Backend API format: issues array directly on evaluation\n\t\t\t\t\t// 2. JSON file format: output.result as a string to parse\n\t\t\t\t\tif (\"issues\" in evaluation && Array.isArray(evalWithIssues.issues)) {\n\t\t\t\t\t\t// Backend API format - issues are already parsed\n\t\t\t\t\t\tconst evalIssues = evalWithIssues.issues;\n\t\t\t\t\t\tevalIssues.forEach((issue) => {\n\t\t\t\t\t\t\tissues.push({ ...issue, evaluatorName: evaluation.evaluator });\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (evaluation.output && evaluation.output.result) {\n\t\t\t\t\t\t// JSON file format - need to parse result string\n\t\t\t\t\t\tconst parsedIssues = parseEvaluatorResult(evaluation.output.result);\n\t\t\t\t\t\tparsedIssues.forEach((issue) => {\n\t\t\t\t\t\t\tissues.push({ ...issue, evaluatorName: evaluation.evaluator });\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add cross-file issues\n\t\t\tif (independentData.crossFileIssues) {\n\t\t\t\tissues.push(\n\t\t\t\t\t...independentData.crossFileIssues.map((issue) => ({\n\t\t\t\t\t\t...issue,\n\t\t\t\t\t\tevaluatorName: \"cross-file\",\n\t\t\t\t\t})),\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// Build issue key map for selection tracking\n\t\tconst keyMap = new Map<string, Issue>();\n\t\tissues.forEach((issue, index) => {\n\t\t\tconst key = generateIssueKey(issue, index);\n\t\t\tkeyMap.set(key, issue);\n\t\t});\n\t\tsetIssueKeyMap(keyMap);\n\n\t\treturn issues;\n\t}, [evaluationData]);\n\n\t// Get curated issues from impact curation (if available)\n\tconst curatedIssues = useMemo(() => {\n\t\tif (!evaluationData?.curation) return [];\n\n\t\tconst issues: Issue[] = [];\n\n\t\t// Add curated errors\n\t\tif (evaluationData.curation.errors?.curatedIssues) {\n\t\t\tissues.push(...evaluationData.curation.errors.curatedIssues);\n\t\t}\n\n\t\t// Add curated suggestions\n\t\tif (evaluationData.curation.suggestions?.curatedIssues) {\n\t\t\tissues.push(...evaluationData.curation.suggestions.curatedIssues);\n\t\t}\n\n\t\t// Fallback to legacy format\n\t\tif (issues.length === 0 && evaluationData.curation.curatedIssues) {\n\t\t\tissues.push(...evaluationData.curation.curatedIssues);\n\t\t}\n\n\t\treturn issues;\n\t}, [evaluationData]);\n\n\t// Get curation summary (if available)\n\tconst curationSummary = useMemo(() => {\n\t\treturn evaluationData?.curation?.summary || null;\n\t}, [evaluationData]);\n\n\t// Use curated issues when available, otherwise display all issues\n\tconst displayIssues = useMemo(() => {\n\t\treturn curatedIssues.length > 0 ? curatedIssues : allIssues;\n\t}, [curatedIssues, allIssues]);\n\n\t// Calculate severity counts from displayed issues\n\tconst { highCount, mediumCount } = useMemo(() => {\n\t\tconst counts = { high: 0, medium: 0 };\n\t\tdisplayIssues.forEach((issue) => {\n\t\t\tconst numericSeverity = getIssueSeverity(issue);\n\t\t\tconst level = getSeverityLevel(numericSeverity);\n\t\t\tif (level === \"high\") counts.high++;\n\t\t\telse if (level === \"medium\") counts.medium++;\n\t\t});\n\t\treturn {\n\t\t\thighCount: counts.high,\n\t\t\tmediumCount: counts.medium,\n\t\t};\n\t}, [displayIssues]);\n\n\t// Calculate issue type counts (errors vs suggestions) from displayed issues\n\tconst { errorCount, suggestionCount } = useMemo(() => {\n\t\tconst counts = { error: 0, suggestion: 0 };\n\t\tdisplayIssues.forEach((issue) => {\n\t\t\tconst type = getIssueType(issue);\n\t\t\tcounts[type]++;\n\t\t});\n\t\treturn { errorCount: counts.error, suggestionCount: counts.suggestion };\n\t}, [displayIssues]);\n\n\t// Determine active tab with smart defaults and backward compatibility\n\tconst activeTab = useMemo(() => {\n\t\t// Backward compatibility: redirect \"issues\" to \"errors\"\n\t\tif (rawTab === \"issues\") {\n\t\t\thandleTabChange(\"errors\");\n\t\t\treturn \"errors\";\n\t\t}\n\n\t\t// If tab is specified, use it\n\t\tif (rawTab) {\n\t\t\treturn rawTab;\n\t\t}\n\n\t\t// Smart defaults when no tab is specified\n\t\tif (!evaluationData) {\n\t\t\treturn \"summary\";\n\t\t}\n\n\t\tif (errorCount > 0) {\n\t\t\treturn \"errors\";\n\t\t}\n\n\t\tif (suggestionCount > 0) {\n\t\t\treturn \"suggestions\";\n\t\t}\n\n\t\treturn \"summary\";\n\t}, [rawTab, evaluationData, errorCount, suggestionCount, handleTabChange]);\n\n\t// Split issues by type for tab-aware filtering\n\tconst errorIssues = useMemo(\n\t\t() => allIssues.filter((issue) => getIssueType(issue) === \"error\"),\n\t\t[allIssues],\n\t);\n\n\tconst suggestionIssues = useMemo(\n\t\t() => allIssues.filter((issue) => getIssueType(issue) === \"suggestion\"),\n\t\t[allIssues],\n\t);\n\n\t// Get base issues based on active tab\n\tconst baseIssues = useMemo(() => {\n\t\tif (activeTab === \"errors\") return errorIssues;\n\t\tif (activeTab === \"suggestions\") return suggestionIssues;\n\t\treturn displayIssues; // Fallback for non-issue tabs\n\t}, [activeTab, errorIssues, suggestionIssues, displayIssues]);\n\n\t// Calculate per-file vs cross-file issue counts\n\tconst { perFileIssueCount, crossFileIssueCount } = useMemo(() => {\n\t\tif (!evaluationData)\n\t\t\treturn { perFileIssueCount: 0, crossFileIssueCount: 0 };\n\n\t\tif (isIndependentFormat(evaluationData)) {\n\t\t\tconst independentData = evaluationData as IndependentEvaluationOutput;\n\t\t\tconst crossFile = independentData.crossFileIssues?.length || 0;\n\t\t\tconst perFile = allIssues.length - crossFile;\n\t\t\treturn { perFileIssueCount: perFile, crossFileIssueCount: crossFile };\n\t\t}\n\n\t\t// For unified format, all issues are considered per-file\n\t\treturn { perFileIssueCount: allIssues.length, crossFileIssueCount: 0 };\n\t}, [evaluationData, allIssues]);\n\n\t// Extract unique categories\n\tconst availableCategories = useMemo(() => {\n\t\tconst categories = new Set<string>();\n\n\t\tallIssues.forEach((issue) => {\n\t\t\tif (issue.category) categories.add(issue.category);\n\t\t});\n\n\t\treturn Array.from(categories).sort();\n\t}, [allIssues]);\n\n\t// Calculate counts per filter option (based on baseIssues to respect tab selection)\n\tconst filterOptionCounts = useMemo((): FilterOptionCounts => {\n\t\tconst counts: FilterOptionCounts = {\n\t\t\tseverities: { high: 0, medium: 0, low: 0 },\n\t\t\tcategories: {},\n\t\t};\n\n\t\tbaseIssues.forEach((issue) => {\n\t\t\t// Severity\n\t\t\tconst numericSeverity = getIssueSeverity(issue);\n\t\t\tconst level = getSeverityLevel(numericSeverity);\n\t\t\tif (level === \"high\") counts.severities.high++;\n\t\t\telse if (level === \"medium\") counts.severities.medium++;\n\t\t\telse if (level === \"low\") counts.severities.low++;\n\n\t\t\t// Category\n\t\t\tif (issue.category) {\n\t\t\t\tcounts.categories[issue.category] =\n\t\t\t\t\t(counts.categories[issue.category] || 0) + 1;\n\t\t\t}\n\t\t});\n\n\t\treturn counts;\n\t}, [baseIssues]);\n\n\t// Filter issues based on active filters (using baseIssues which respects tab selection)\n\tconst filteredIssues = useMemo(() => {\n\t\treturn baseIssues.filter((issue) => {\n\t\t\t// Bookmark filter (check first for early return)\n\t\t\tif (filters.bookmarkedOnly) {\n\t\t\t\tconst issueHash = generateIssueHash(issue);\n\t\t\t\tif (!bookmarkSet.has(issueHash)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Severity filter\n\t\t\tif (filters.severities.size > 0) {\n\t\t\t\tconst numericSeverity = getIssueSeverity(issue);\n\t\t\t\tconst severityLevel = getSeverityLevel(numericSeverity);\n\t\t\t\tif (!filters.severities.has(severityLevel)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Category filter\n\t\t\tif (filters.categories.size > 0 && issue.category) {\n\t\t\t\tif (!filters.categories.has(issue.category)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Search text filter\n\t\t\tif (filters.searchText) {\n\t\t\t\tconst searchLower = filters.searchText.toLowerCase();\n\t\t\t\tconst searchableText = [\n\t\t\t\t\tissue.description, // Primary issue description\n\t\t\t\t\tissue.problem, // Fallback issue description\n\t\t\t\t\tissue.title, // Secondary title field\n\t\t\t\t]\n\t\t\t\t\t.filter(Boolean)\n\t\t\t\t\t.join(\" \")\n\t\t\t\t\t.toLowerCase();\n\n\t\t\t\tif (!searchableText.includes(searchLower)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\t}, [baseIssues, filters, bookmarkSet]);\n\n\t// Calculate filtered counts for tab badges\n\tconst filteredErrorsCount = useMemo(() => {\n\t\tif (activeTab !== \"errors\") return errorIssues.length;\n\t\treturn filteredIssues.length;\n\t}, [activeTab, errorIssues.length, filteredIssues.length]);\n\n\tconst filteredSuggestionsCount = useMemo(() => {\n\t\tif (activeTab !== \"suggestions\") return suggestionIssues.length;\n\t\treturn filteredIssues.length;\n\t}, [activeTab, suggestionIssues.length, filteredIssues.length]);\n\n\t// Calculate bookmarked count for FilterPanel badge\n\tconst bookmarkedCount = useMemo(() => {\n\t\treturn baseIssues.filter((issue) => {\n\t\t\tconst issueHash = generateIssueHash(issue);\n\t\t\treturn bookmarkSet.has(issueHash);\n\t\t}).length;\n\t}, [baseIssues, bookmarkSet]);\n\n\t// Group issues by file for display\n\tconst groupedIssues = useMemo(() => {\n\t\tconst grouped: Record<string, Issue[]> = {\n\t\t\t__cross_file__: [], // Special key for cross-file issues\n\t\t};\n\n\t\tfor (const issue of filteredIssues) {\n\t\t\tconst file = getIssueFile(issue);\n\n\t\t\tif (file === null) {\n\t\t\t\t// Cross-file or no-file issue\n\t\t\t\tgrouped.__cross_file__.push(issue);\n\t\t\t} else {\n\t\t\t\tif (!grouped[file]) {\n\t\t\t\t\tgrouped[file] = [];\n\t\t\t\t}\n\t\t\t\tgrouped[file].push(issue);\n\t\t\t}\n\t\t}\n\n\t\t// Remove cross-file section if empty\n\t\tif (grouped.__cross_file__.length === 0) {\n\t\t\tdelete grouped.__cross_file__;\n\t\t}\n\n\t\treturn grouped;\n\t}, [filteredIssues]);\n\n\t// Sort grouped issues: cross-file first, then by max severity, then alphabetically\n\tconst sortedGroupedIssues = useMemo(() => {\n\t\tconst entries = Object.entries(groupedIssues);\n\n\t\t// Separate cross-file from regular files\n\t\tconst crossFileEntry = entries.find(([key]) => key === \"__cross_file__\");\n\t\tconst fileEntries = entries.filter(([key]) => key !== \"__cross_file__\");\n\n\t\t// Sort file entries by max severity desc, then alphabetically\n\t\tfileEntries.sort(([fileA, issuesA], [fileB, issuesB]) => {\n\t\t\tconst maxSeverityA = getMaxIssueSeverity(issuesA);\n\t\t\tconst maxSeverityB = getMaxIssueSeverity(issuesB);\n\n\t\t\tif (maxSeverityA !== maxSeverityB) {\n\t\t\t\treturn maxSeverityB - maxSeverityA;\n\t\t\t}\n\n\t\t\treturn fileA.localeCompare(fileB);\n\t\t});\n\n\t\t// Return cross-file first, then sorted files\n\t\treturn crossFileEntry ? [crossFileEntry, ...fileEntries] : fileEntries;\n\t}, [groupedIssues]);\n\n\t// Determine if we should use nested grouping (file -> evaluator -> issues)\n\t// Only use nested grouping when no filters are active\n\tconst shouldUseNestedGrouping = useMemo(\n\t\t() => checkShouldUseNestedGrouping(filters),\n\t\t[filters],\n\t);\n\n\t// Group issues by file, then by category within each file\n\tconst nestedGroupedIssues = useMemo(() => {\n\t\tif (!shouldUseNestedGrouping) return null;\n\n\t\tconst grouped: Record<string, CategoryGroup[]> = {};\n\n\t\t// First, group by file\n\t\tfor (const issue of filteredIssues) {\n\t\t\tconst file = getIssueFile(issue);\n\t\t\tconst fileKey = file === null ? \"__cross_file__\" : file;\n\n\t\t\tif (!grouped[fileKey]) {\n\t\t\t\tgrouped[fileKey] = [];\n\t\t\t}\n\t\t}\n\n\t\t// Then, within each file, group by category\n\t\tfor (const issue of filteredIssues) {\n\t\t\tconst file = getIssueFile(issue);\n\t\t\tconst fileKey = file === null ? \"__cross_file__\" : file;\n\t\t\tconst categoryName = issue.category || \"Unknown\";\n\n\t\t\t// Find or create category group\n\t\t\tlet categoryGroup = grouped[fileKey].find(\n\t\t\t\t(g) => g.categoryName === categoryName,\n\t\t\t);\n\n\t\t\tif (!categoryGroup) {\n\t\t\t\tcategoryGroup = {\n\t\t\t\t\tcategoryName,\n\t\t\t\t\tissues: [],\n\t\t\t\t\tmaxSeverity: 0,\n\t\t\t\t};\n\t\t\t\tgrouped[fileKey].push(categoryGroup);\n\t\t\t}\n\n\t\t\tcategoryGroup.issues.push(issue);\n\t\t}\n\n\t\t// Calculate max severity for each category group and sort issues\n\t\tfor (const fileKey in grouped) {\n\t\t\tfor (const group of grouped[fileKey]) {\n\t\t\t\tgroup.maxSeverity = getMaxIssueSeverity(group.issues);\n\t\t\t\t// Sort issues within category group by severity (descending)\n\t\t\t\tgroup.issues.sort((a, b) => getIssueSeverity(b) - getIssueSeverity(a));\n\t\t\t}\n\n\t\t\t// Sort category groups by max severity (descending)\n\t\t\tgrouped[fileKey].sort((a, b) => b.maxSeverity - a.maxSeverity);\n\t\t}\n\n\t\t// Remove cross-file section if empty\n\t\tif (grouped.__cross_file__ && grouped.__cross_file__.length === 0) {\n\t\t\tdelete grouped.__cross_file__;\n\t\t}\n\n\t\treturn grouped;\n\t}, [shouldUseNestedGrouping, filteredIssues]);\n\n\t// Sort file groups by max severity across all categories\n\tconst sortedFileGroups = useMemo(() => {\n\t\t// If not using nested grouping, return the existing sorted groups\n\t\tif (!shouldUseNestedGrouping || !nestedGroupedIssues) {\n\t\t\treturn sortedGroupedIssues;\n\t\t}\n\n\t\tconst entries = Object.entries(nestedGroupedIssues);\n\n\t\t// Separate cross-file from regular files\n\t\tconst crossFileEntry = entries.find(([key]) => key === \"__cross_file__\");\n\t\tconst fileEntries = entries.filter(([key]) => key !== \"__cross_file__\");\n\n\t\t// Sort file entries by max severity across all categories\n\t\tfileEntries.sort(([fileA, groupsA], [fileB, groupsB]) => {\n\t\t\tconst maxSeverityA = getMaxCategoryGroupSeverity(groupsA);\n\t\t\tconst maxSeverityB = getMaxCategoryGroupSeverity(groupsB);\n\n\t\t\tif (maxSeverityA !== maxSeverityB) {\n\t\t\t\treturn maxSeverityB - maxSeverityA;\n\t\t\t}\n\n\t\t\treturn fileA.localeCompare(fileB);\n\t\t});\n\n\t\t// Return cross-file first, then sorted files\n\t\treturn crossFileEntry ? [crossFileEntry, ...fileEntries] : fileEntries;\n\t}, [shouldUseNestedGrouping, nestedGroupedIssues, sortedGroupedIssues]);\n\n\tconst handleFileLoad = (data: EvaluationOutput) => {\n\t\t// Aggregate cost and duration data from evaluator results\n\t\tif (isUnifiedFormat(data)) {\n\t\t\tconst unifiedData = data as UnifiedEvaluationOutput;\n\t\t\tlet totalCostUsd = 0;\n\t\t\tlet totalDurationMs = 0;\n\t\t\tlet totalInputTokens = 0;\n\t\t\tlet totalOutputTokens = 0;\n\t\t\tlet totalCacheCreationTokens = 0;\n\t\t\tlet totalCacheReadTokens = 0;\n\n\t\t\tfor (const result of unifiedData.results) {\n\t\t\t\tif (result.output) {\n\t\t\t\t\ttotalCostUsd += result.output.total_cost_usd || 0;\n\t\t\t\t\ttotalDurationMs += result.output.duration_ms || 0;\n\t\t\t\t\ttotalInputTokens += result.output.usage.input_tokens || 0;\n\t\t\t\t\ttotalOutputTokens += result.output.usage.output_tokens || 0;\n\t\t\t\t\ttotalCacheCreationTokens +=\n\t\t\t\t\t\tresult.output.usage.cache_creation_input_tokens || 0;\n\t\t\t\t\ttotalCacheReadTokens +=\n\t\t\t\t\t\tresult.output.usage.cache_read_input_tokens || 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add aggregated data to metadata\n\t\t\tunifiedData.metadata.totalCostUsd = totalCostUsd;\n\t\t\tunifiedData.metadata.totalDurationMs = totalDurationMs;\n\t\t\tunifiedData.metadata.totalInputTokens = totalInputTokens;\n\t\t\tunifiedData.metadata.totalOutputTokens = totalOutputTokens;\n\t\t\tunifiedData.metadata.totalCacheCreationTokens = totalCacheCreationTokens;\n\t\t\tunifiedData.metadata.totalCacheReadTokens = totalCacheReadTokens;\n\t\t}\n\n\t\tsetEvaluationData(data);\n\t\t// Reset filters and selections when new data is loaded\n\t\tsetFilters({\n\t\t\tseverities: new Set(),\n\t\t\tcategories: new Set(),\n\t\t\tevaluators: new Set(),\n\t\t\tsearchText: \"\",\n\t\t\tbookmarkedOnly: false,\n\t\t});\n\t\tsetSelectedIssueKeys(new Set());\n\t};\n\n\tconst handleClear = useCallback(() => {\n\t\t// Clear selections in DB before resetting state\n\t\tif (currentEvaluationId) {\n\t\t\tselectionApi\n\t\t\t\t.clearSelections(currentEvaluationId)\n\t\t\t\t.catch((err) =>\n\t\t\t\t\tconsole.error(\"Failed to clear selections on reset:\", err),\n\t\t\t\t);\n\t\t}\n\t\tsetEvaluationData(null);\n\t\tsetEvaluationMode(\"idle\");\n\t\tsetApiError(null);\n\t\tsetCurrentRepositoryUrl(null);\n\t\tsetEvaluationLogs([]); // Clear logs when clearing\n\t\tsetFilters({\n\t\t\tseverities: new Set(),\n\t\t\tcategories: new Set(),\n\t\t\tevaluators: new Set(),\n\t\t\tsearchText: \"\",\n\t\t\tbookmarkedOnly: false,\n\t\t});\n\t\tsetSelectedIssueKeys(new Set());\n\t\tsetBookmarkSet(new Set());\n\t\t// Navigate to root\n\t\tnavigate(\"/\");\n\t}, [navigate, currentEvaluationId, selectionApi]);\n\n\tconst handleDeleteEvaluation = useCallback(async () => {\n\t\tif (currentEvaluationId) {\n\t\t\tawait historyApi.deleteEvaluation(currentEvaluationId);\n\t\t\thandleClear();\n\t\t}\n\t}, [currentEvaluationId, historyApi, handleClear]);\n\n\t// Issue selection handlers\n\tconst handleToggleIssueSelection = useCallback(\n\t\t(key: string, _issue: Issue) => {\n\t\t\tsetSelectedIssueKeys((prev) => {\n\t\t\t\tconst newSet = new Set(prev);\n\t\t\t\tconst isRemoving = newSet.has(key);\n\t\t\t\tif (isRemoving) {\n\t\t\t\t\tnewSet.delete(key);\n\t\t\t\t} else {\n\t\t\t\t\tnewSet.add(key);\n\t\t\t\t}\n\t\t\t\t// Persist to DB (fire-and-forget)\n\t\t\t\tif (currentEvaluationId) {\n\t\t\t\t\tif (isRemoving) {\n\t\t\t\t\t\tselectionApi\n\t\t\t\t\t\t\t.removeSelection(currentEvaluationId, key)\n\t\t\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\t\t\tconsole.error(\"Failed to persist selection removal:\", err),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselectionApi\n\t\t\t\t\t\t\t.addSelections(currentEvaluationId, [key])\n\t\t\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\t\t\tconsole.error(\"Failed to persist selection add:\", err),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn newSet;\n\t\t\t});\n\t\t},\n\t\t[currentEvaluationId, selectionApi],\n\t);\n\n\tconst handleClearSelection = useCallback(() => {\n\t\tsetSelectedIssueKeys(new Set());\n\t\tif (currentEvaluationId) {\n\t\t\tselectionApi\n\t\t\t\t.clearSelections(currentEvaluationId)\n\t\t\t\t.catch((err) =>\n\t\t\t\t\tconsole.error(\"Failed to persist selection clear:\", err),\n\t\t\t\t);\n\t\t}\n\t}, [currentEvaluationId, selectionApi]);\n\n\tconst handleFeedback = useCallback(\n\t\tasync (issueHash: string, feedbackType: \"like\" | \"dislike\" | null) => {\n\t\t\tif (!currentEvaluationId) return;\n\n\t\t\t// Find the issue by hash to get the evaluator name\n\t\t\tconst issue = allIssues.find((i) => generateIssueHash(i) === issueHash);\n\t\t\tif (!issue) return;\n\n\t\t\tconst newMap = new Map(feedbackMap);\n\n\t\t\ttry {\n\t\t\t\tif (feedbackType === null) {\n\t\t\t\t\t// Remove feedback\n\t\t\t\t\tawait feedbackApi.removeFeedback(currentEvaluationId, issueHash);\n\t\t\t\t\tnewMap.delete(issueHash);\n\t\t\t\t} else {\n\t\t\t\t\t// Submit feedback\n\t\t\t\t\tawait feedbackApi.submitFeedback(\n\t\t\t\t\t\tcurrentEvaluationId,\n\t\t\t\t\t\tissueHash,\n\t\t\t\t\t\tissue.evaluatorName || \"unknown\",\n\t\t\t\t\t\tfeedbackType,\n\t\t\t\t\t);\n\t\t\t\t\tnewMap.set(issueHash, feedbackType);\n\t\t\t\t}\n\n\t\t\t\tsetFeedbackMap(newMap);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Failed to update feedback:\", error);\n\t\t\t}\n\t\t},\n\t\t[currentEvaluationId, allIssues, feedbackMap, feedbackApi],\n\t);\n\n\tconst handleBookmarkToggle = useCallback(\n\t\tasync (issueHash: string) => {\n\t\t\t// Early return in cloud mode (no-op)\n\t\t\tif (cloudMode) return;\n\n\t\t\tif (!currentEvaluationId) return;\n\n\t\t\tconst issue = allIssues.find((i) => generateIssueHash(i) === issueHash);\n\t\t\tif (!issue) return;\n\n\t\t\tconst newSet = new Set(bookmarkSet);\n\n\t\t\ttry {\n\t\t\t\tif (bookmarkSet.has(issueHash)) {\n\t\t\t\t\tawait bookmarkApi.removeBookmark(currentEvaluationId, issueHash);\n\t\t\t\t\tnewSet.delete(issueHash);\n\t\t\t\t} else {\n\t\t\t\t\tawait bookmarkApi.addBookmark(\n\t\t\t\t\t\tcurrentEvaluationId,\n\t\t\t\t\t\tissueHash,\n\t\t\t\t\t\tissue.evaluatorName || \"unknown\",\n\t\t\t\t\t);\n\t\t\t\t\tnewSet.add(issueHash);\n\t\t\t\t}\n\n\t\t\t\tsetBookmarkSet(newSet);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Failed to toggle bookmark:\", error);\n\t\t\t}\n\t\t},\n\t\t[currentEvaluationId, allIssues, bookmarkSet, bookmarkApi, cloudMode],\n\t);\n\n\tconst handleSelectAllInGroup = useCallback(\n\t\t(issues: Issue[]) => {\n\t\t\tconst keysToAdd: string[] = [];\n\t\t\tsetSelectedIssueKeys((prev) => {\n\t\t\t\tconst newSet = new Set(prev);\n\t\t\t\tfor (const issue of issues) {\n\t\t\t\t\tconst globalIndex = allIssues.indexOf(issue);\n\t\t\t\t\tif (globalIndex >= 0) {\n\t\t\t\t\t\tconst key = generateIssueKey(issue, globalIndex);\n\t\t\t\t\t\tif (!newSet.has(key)) {\n\t\t\t\t\t\t\tkeysToAdd.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewSet.add(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn newSet;\n\t\t\t});\n\t\t\t// Persist new keys to DB (fire-and-forget)\n\t\t\tif (currentEvaluationId && keysToAdd.length > 0) {\n\t\t\t\tselectionApi\n\t\t\t\t\t.addSelections(currentEvaluationId, keysToAdd)\n\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\tconsole.error(\"Failed to persist group selection:\", err),\n\t\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[allIssues, currentEvaluationId, selectionApi],\n\t);\n\n\tconst handleReviewSelected = useCallback(() => {\n\t\thandleTabChange(\"remediate\");\n\t}, [handleTabChange]);\n\n\tconst handleAddAllToRemediation = useCallback(\n\t\t(issues: (Issue & { evaluatorName?: string })[]) => {\n\t\t\tconst keysToAdd: string[] = [];\n\t\t\tsetSelectedIssueKeys((prev) => {\n\t\t\t\tconst newSet = new Set(prev);\n\t\t\t\tfor (const issue of issues) {\n\t\t\t\t\tconst globalIndex = allIssues.indexOf(issue);\n\t\t\t\t\tif (globalIndex >= 0) {\n\t\t\t\t\t\tconst key = generateIssueKey(issue, globalIndex);\n\t\t\t\t\t\tif (!newSet.has(key)) {\n\t\t\t\t\t\t\tkeysToAdd.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewSet.add(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn newSet;\n\t\t\t});\n\t\t\t// Persist new keys to DB (fire-and-forget)\n\t\t\tif (currentEvaluationId && keysToAdd.length > 0) {\n\t\t\t\tselectionApi\n\t\t\t\t\t.addSelections(currentEvaluationId, keysToAdd)\n\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\tconsole.error(\"Failed to persist add-all selection:\", err),\n\t\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[allIssues, currentEvaluationId, selectionApi],\n\t);\n\n\tconst handleRemoveIssueFromRemediation = useCallback(\n\t\t(key: string) => {\n\t\t\tsetSelectedIssueKeys((prev) => {\n\t\t\t\tconst newSet = new Set(prev);\n\t\t\t\tnewSet.delete(key);\n\t\t\t\treturn newSet;\n\t\t\t});\n\t\t\tif (currentEvaluationId) {\n\t\t\t\tselectionApi\n\t\t\t\t\t.removeSelection(currentEvaluationId, key)\n\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\tconsole.error(\"Failed to persist issue removal:\", err),\n\t\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[currentEvaluationId, selectionApi],\n\t);\n\n\t// Tab configuration\n\tconst tabs: TabItem[] = useMemo(() => {\n\t\tconst baseTabs: TabItem[] = [\n\t\t\t{\n\t\t\t\tid: \"summary\",\n\t\t\t\tlabel: \"Summary\",\n\t\t\t\ticon: (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"errors\",\n\t\t\t\tlabel: \"Errors\",\n\t\t\t\ticon: (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t),\n\t\t\t\tcount: filteredErrorsCount,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"suggestions\",\n\t\t\t\tlabel: \"Suggestions\",\n\t\t\t\ticon: (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t),\n\t\t\t\tcount: filteredSuggestionsCount,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"remediate\",\n\t\t\t\tlabel: \"Remediate\",\n\t\t\t\ticon: (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t),\n\t\t\t\tcount: selectedIssueKeys.size > 0 ? selectedIssueKeys.size : undefined,\n\t\t\t},\n\t\t];\n\n\t\t// Only show Debugging and Cost Analysis tabs in non-cloud mode\n\t\tif (!cloudMode) {\n\t\t\tbaseTabs.push(\n\t\t\t\t{\n\t\t\t\t\tid: \"debugging\",\n\t\t\t\t\tlabel: \"Debugging\",\n\t\t\t\t\ticon: (\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \"cost\",\n\t\t\t\t\tlabel: \"Cost Analysis\",\n\t\t\t\t\ticon: (\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\n\t\treturn baseTabs;\n\t}, [\n\t\tfilteredErrorsCount,\n\t\tfilteredSuggestionsCount,\n\t\tcloudMode,\n\t\tselectedIssueKeys.size,\n\t]);\n\n\treturn (\n\t\t<div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-slate-100 animate-fade-in\">\n\t\t\t{/* Header */}\n\t\t\t<AppHeader\n\t\t\t\tcurrentPage=\"home\"\n\t\t\t\tonLogoClick={handleClear}\n\t\t\t\thistoryCount={historyApi.history.length}\n\t\t\t/>\n\n\t\t\t{/* Selection Summary Bar */}\n\t\t\t<SelectionSummaryBar\n\t\t\t\tselectedCount={selectedIssueKeys.size}\n\t\t\t\tonClearSelection={handleClearSelection}\n\t\t\t\tonReviewSelected={handleReviewSelected}\n\t\t\t/>\n\n\t\t\t{/* Main Content */}\n\t\t\t<main\n\t\t\t\tclassName={`max-w-[1400px] mx-auto px-6 py-6 ${selectedIssueKeys.size > 0 ? \"pt-14\" : \"\"}`}\n\t\t\t>\n\t\t\t\t{/* Content Area */}\n\t\t\t\t{evaluationData ? (\n\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t{/* Evaluator Failure Panel - Show if some evaluators failed */}\n\t\t\t\t\t\t{evaluationData.metadata.failedEvaluators &&\n\t\t\t\t\t\t\tevaluationData.metadata.failedEvaluators.length > 0 && (\n\t\t\t\t\t\t\t\t<EvaluatorFailurePanel\n\t\t\t\t\t\t\t\t\tfailures={evaluationData.metadata.failedEvaluators}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* Tab Navigation */}\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\ttabs={tabs}\n\t\t\t\t\t\t\tactiveTab={activeTab}\n\t\t\t\t\t\t\tonTabChange={handleTabChange}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{/* Summary Tab */}\n\t\t\t\t\t\t<TabPanel id=\"summary\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<Summary\n\t\t\t\t\t\t\t\tmetadata={evaluationData.metadata}\n\t\t\t\t\t\t\t\trepositoryUrl={currentRepositoryUrl}\n\t\t\t\t\t\t\t\tactualIssueCount={allIssues.length}\n\t\t\t\t\t\t\t\tactualPerFileIssueCount={perFileIssueCount}\n\t\t\t\t\t\t\t\tactualCrossFileIssueCount={crossFileIssueCount}\n\t\t\t\t\t\t\t\tactualHighCount={highCount}\n\t\t\t\t\t\t\t\tactualMediumCount={mediumCount}\n\t\t\t\t\t\t\t\tactualErrorCount={errorCount}\n\t\t\t\t\t\t\t\tactualSuggestionCount={suggestionCount}\n\t\t\t\t\t\t\t\tcurationSummary={curationSummary}\n\t\t\t\t\t\t\t\tcuratedCount={curatedIssues.length}\n\t\t\t\t\t\t\t\tevaluationId={currentEvaluationId ?? undefined}\n\t\t\t\t\t\t\t\tonDelete={handleDeleteEvaluation}\n\t\t\t\t\t\t\t\tcuration={evaluationData.curation}\n\t\t\t\t\t\t\t\tevaluationLogs={evaluationLogs}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Errors Tab */}\n\t\t\t\t\t\t<TabPanel id=\"errors\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-5 gap-6\">\n\t\t\t\t\t\t\t\t<div className=\"lg:col-span-1\">\n\t\t\t\t\t\t\t\t\t<div className=\"sticky top-20 max-h-[calc(100vh-6rem)] overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t<FilterPanel\n\t\t\t\t\t\t\t\t\t\t\tfilters={filters}\n\t\t\t\t\t\t\t\t\t\t\tonFilterChange={setFilters}\n\t\t\t\t\t\t\t\t\t\t\tavailableCategories={availableCategories}\n\t\t\t\t\t\t\t\t\t\t\tissueCount={filteredIssues.length}\n\t\t\t\t\t\t\t\t\t\t\ttotalIssues={errorIssues.length}\n\t\t\t\t\t\t\t\t\t\t\tfilterOptionCounts={filterOptionCounts}\n\t\t\t\t\t\t\t\t\t\t\tbookmarkedCount={bookmarkedCount}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"lg:col-span-4\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-end mb-3\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleAddAllToRemediation(errorIssues)}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-secondary text-sm\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tAdd all to remediation ({errorIssues.length})\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<IssuesList\n\t\t\t\t\t\t\t\t\t\tissues={filteredIssues}\n\t\t\t\t\t\t\t\t\t\tgroupedByFile={\n\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n\t\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t\t: Object.fromEntries(sortedGroupedIssues)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tnestedGrouping={\n\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n\t\t\t\t\t\t\t\t\t\t\t\t? Object.fromEntries(sortedFileGroups)\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\ttitle=\"Errors\"\n\t\t\t\t\t\t\t\t\t\temptyStateMessage=\"No errors found! Your documentation meets all quality standards.\"\n\t\t\t\t\t\t\t\t\t\tselectedKeys={selectedIssueKeys}\n\t\t\t\t\t\t\t\t\t\tissueKeyMap={issueKeyMap}\n\t\t\t\t\t\t\t\t\t\tonToggleSelection={handleToggleIssueSelection}\n\t\t\t\t\t\t\t\t\t\tonSelectAllInGroup={handleSelectAllInGroup}\n\t\t\t\t\t\t\t\t\t\tfeedbackMap={feedbackMap}\n\t\t\t\t\t\t\t\t\t\tonFeedback={handleFeedback}\n\t\t\t\t\t\t\t\t\t\tbookmarkSet={bookmarkSet}\n\t\t\t\t\t\t\t\t\t\tonBookmarkToggle={handleBookmarkToggle}\n\t\t\t\t\t\t\t\t\t\tassessmentEnabled={assessmentEnabled}\n\t\t\t\t\t\t\t\t\t\tgroupSelectEnabled={groupSelectEnabled}\n\t\t\t\t\t\t\t\t\t\tcloudMode={cloudMode}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Suggestions Tab */}\n\t\t\t\t\t\t<TabPanel id=\"suggestions\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-5 gap-6\">\n\t\t\t\t\t\t\t\t<div className=\"lg:col-span-1\">\n\t\t\t\t\t\t\t\t\t<div className=\"sticky top-20 max-h-[calc(100vh-6rem)] overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t<FilterPanel\n\t\t\t\t\t\t\t\t\t\t\tfilters={filters}\n\t\t\t\t\t\t\t\t\t\t\tonFilterChange={setFilters}\n\t\t\t\t\t\t\t\t\t\t\tavailableCategories={availableCategories}\n\t\t\t\t\t\t\t\t\t\t\tissueCount={filteredIssues.length}\n\t\t\t\t\t\t\t\t\t\t\ttotalIssues={suggestionIssues.length}\n\t\t\t\t\t\t\t\t\t\t\tfilterOptionCounts={filterOptionCounts}\n\t\t\t\t\t\t\t\t\t\t\tbookmarkedCount={bookmarkedCount}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"lg:col-span-4\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-end mb-3\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\thandleAddAllToRemediation(suggestionIssues)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-secondary text-sm\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tAdd all to remediation ({suggestionIssues.length})\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<IssuesList\n\t\t\t\t\t\t\t\t\t\tissues={filteredIssues}\n\t\t\t\t\t\t\t\t\t\tgroupedByFile={\n\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n\t\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t\t: Object.fromEntries(sortedGroupedIssues)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tnestedGrouping={\n\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n\t\t\t\t\t\t\t\t\t\t\t\t? Object.fromEntries(sortedFileGroups)\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\ttitle=\"Suggestions\"\n\t\t\t\t\t\t\t\t\t\temptyStateMessage=\"No suggestions available. Your documentation is comprehensive.\"\n\t\t\t\t\t\t\t\t\t\tselectedKeys={selectedIssueKeys}\n\t\t\t\t\t\t\t\t\t\tissueKeyMap={issueKeyMap}\n\t\t\t\t\t\t\t\t\t\tonToggleSelection={handleToggleIssueSelection}\n\t\t\t\t\t\t\t\t\t\tonSelectAllInGroup={handleSelectAllInGroup}\n\t\t\t\t\t\t\t\t\t\tfeedbackMap={feedbackMap}\n\t\t\t\t\t\t\t\t\t\tonFeedback={handleFeedback}\n\t\t\t\t\t\t\t\t\t\tbookmarkSet={bookmarkSet}\n\t\t\t\t\t\t\t\t\t\tonBookmarkToggle={handleBookmarkToggle}\n\t\t\t\t\t\t\t\t\t\tassessmentEnabled={assessmentEnabled}\n\t\t\t\t\t\t\t\t\t\tgroupSelectEnabled={groupSelectEnabled}\n\t\t\t\t\t\t\t\t\t\tcloudMode={cloudMode}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Remediate Tab */}\n\t\t\t\t\t\t<TabPanel id=\"remediate\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<RemediateTab\n\t\t\t\t\t\t\t\tevaluationId={currentEvaluationId}\n\t\t\t\t\t\t\t\tevaluationData={evaluationData}\n\t\t\t\t\t\t\t\tselectedIssueKeys={selectedIssueKeys}\n\t\t\t\t\t\t\t\tissueKeyMap={issueKeyMap}\n\t\t\t\t\t\t\t\tonRemoveIssue={handleRemoveIssueFromRemediation}\n\t\t\t\t\t\t\t\tonClearAll={handleClearSelection}\n\t\t\t\t\t\t\t\tcloudMode={cloudMode}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Debugging Tab */}\n\t\t\t\t\t\t<TabPanel id=\"debugging\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<EvaluatorTemplatesPanel evaluationId={currentEvaluationId} />\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Cost Analysis Tab */}\n\t\t\t\t\t\t<TabPanel id=\"cost\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<CostAnalysisPanel metadata={evaluationData.metadata} />\n\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t</div>\n\t\t\t\t) : evaluationMode === \"evaluating\" && progressState ? (\n\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t<ProgressPanel\n\t\t\t\t\t\t\tprogress={progressState}\n\t\t\t\t\t\t\tjobId={currentJobId ?? undefined}\n\t\t\t\t\t\t\tonCancel={handleCancelJob}\n\t\t\t\t\t\t\tonDismiss={handleDismissFailure}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) : evaluationMode === \"idle\" ? (\n\t\t\t\t\t<div className=\"space-y-6\">\n\t\t\t\t\t\t{/* Hero Section - Show first */}\n\t\t\t\t\t\t<EmptyState />\n\n\t\t\t\t\t\t{/* Compact Input Form - Show below */}\n\t\t\t\t\t\t<div className=\"max-w-2xl mx-auto\">\n\t\t\t\t\t\t\t<EvaluationInputPanel\n\t\t\t\t\t\t\t\tonUrlSubmit={handleUrlSubmit}\n\t\t\t\t\t\t\t\tonBatchSubmit={!cloudMode ? handleBatchSubmit : undefined}\n\t\t\t\t\t\t\t\tisLoading={api.isLoading}\n\t\t\t\t\t\t\t\turlError={apiError}\n\t\t\t\t\t\t\t\thasData={false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Experimental Notice - Below form */}\n\t\t\t\t\t\t<div className=\"max-w-2xl mx-auto\">\n\t\t\t\t\t\t\t<ExperimentalNotice />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Cloud Mode Notice */}\n\t\t\t\t\t\t{cloudMode && (\n\t\t\t\t\t\t\t<div className=\"max-w-2xl mx-auto\">\n\t\t\t\t\t\t\t\t<div className=\"info-section text-left\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-start gap-2\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"info-section-icon\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"info-section-header\">Public Instance</p>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"info-section-content\">\n\t\t\t\t\t\t\t\t\t\t\t\tThis is a public instance to illustrate\n\t\t\t\t\t\t\t\t\t\t\t\tcontext-evaluator. You can submit git repository URLs\n\t\t\t\t\t\t\t\t\t\t\t\tfor analysis. All results are public and cannot be\n\t\t\t\t\t\t\t\t\t\t\t\tremoved. For any request, contact{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\thref=\"mailto:support@packmind.com\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-blue-400 hover:text-blue-300 underline\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsupport@packmind.com\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t) : isLoadingFromUrl ? (\n\t\t\t\t\t<div className=\"card text-center py-12\">\n\t\t\t\t\t\t<div className=\"animate-spin w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full mx-auto mb-4\"></div>\n\t\t\t\t\t\t<p className=\"text-slate-400\">Loading evaluation...</p>\n\t\t\t\t\t</div>\n\t\t\t\t) : apiError && urlEvaluationId ? (\n\t\t\t\t\t<div className=\"card border-red-700/50 bg-red-900/20\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-6 h-6 text-red-400 flex-shrink-0\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t\t\t\t<h3 className=\"font-semibold text-red-300\">\n\t\t\t\t\t\t\t\t\tEvaluation Not Found\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t<p className=\"text-sm text-red-400/80\">{apiError}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button onClick={handleClear} className=\"btn-ghost\">\n\t\t\t\t\t\t\t\tGo Home\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t</main>\n\n\t\t\t{/* Footer */}\n\t\t\t<footer className=\"bg-slate-800 border-t border-slate-700 mt-12\">\n\t\t\t\t<div className=\"max-w-[1400px] mx-auto px-6 py-6\">\n\t\t\t\t\t<div className=\"flex flex-col md:flex-row items-center justify-between gap-4\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-semibold text-slate-50\">\n\t\t\t\t\t\t\t\t\tcontext-evaluator\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-400\">v{version}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex flex-wrap items-center justify-center gap-8 text-sm text-slate-300\">\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref=\"https://packmind.com?utm_source=context-evaluator\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\tclassName=\"hover:text-slate-100 transition-colors font-medium text-slate-200\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tPowered by Packmind\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</footer>\n\t\t</div>\n\t);\n}\n\n// Scrolls to top on every route change\nfunction ScrollToTop() {\n\tconst { pathname } = useLocation();\n\t// biome-ignore lint/correctness/useExhaustiveDependencies: re-run scroll on route change\n\tuseEffect(() => {\n\t\twindow.scrollTo(0, 0);\n\t}, [pathname]);\n\treturn null;\n}\n\n// Router wrapper component\nfunction App() {\n\treturn (\n\t\t<FeatureFlagProvider>\n\t\t\t<BrowserRouter>\n\t\t\t\t<ScrollToTop />\n\t\t\t\t<AppRoutes />\n\t\t\t</BrowserRouter>\n\t\t</FeatureFlagProvider>\n\t);\n}\n\n// Routes component with feature flag access\nfunction AppRoutes() {\n\tconst { assessmentEnabled, cloudMode } = useFeatureFlags();\n\n\treturn (\n\t\t<Routes>\n\t\t\t<Route path=\"/\" element={<AppContent />} />\n\t\t\t<Route path=\"/evaluation/:id\" element={<AppContent />} />\n\t\t\t<Route path=\"/recent\" element={<RecentEvaluationsPage />} />\n\t\t\t<Route path=\"/evaluators\" element={<EvaluatorsPage />} />\n\t\t\t<Route path=\"/issues\" element={<IssuesPage />} />\n\t\t\t<Route path=\"/stats\" element={<StatsPage />} />\n\t\t\t<Route path=\"/how-it-works\" element={<HowItWorksPage />} />\n\t\t\t{assessmentEnabled && (\n\t\t\t\t<Route path=\"/assessment\" element={<AssessmentPage />} />\n\t\t\t)}\n\t\t\t{!cloudMode && (\n\t\t\t\t<Route path=\"/batch/:batchId\" element={<BatchStatusPage />} />\n\t\t\t)}\n\t\t</Routes>\n\t);\n}\n\n// Mount the app\nconst root = createRoot(document.getElementById(\"root\")!);\nroot.render(<App />);\n","numLines":2100,"startLine":1,"totalLines":2100}},"sourceToolAssistantUUID":"0425ed79-d5b0-45ef-ac9c-4624d2f008fd"}
{"parentUuid":"1089916a-3821-47c2-a5ee-d785c1a7a403","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01RSbg6vkLNtdQYV7Y95Lxs6","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_016UG7AgSTujZmRZw9w7o2vc","name":"Read","input":{"file_path":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/RepositoryUrlInput.tsx","limit":90}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":14765,"cache_read_input_tokens":16195,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":14765},"output_tokens":2,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66JkR69peFRCzwUbm1q","type":"assistant","uuid":"48a8129f-1e5d-47b1-982c-f25270f8ae3d","timestamp":"2026-02-13T12:46:49.250Z"}
{"parentUuid":"48a8129f-1e5d-47b1-982c-f25270f8ae3d","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_016UG7AgSTujZmRZw9w7o2vc","toolUseID":"toolu_016UG7AgSTujZmRZw9w7o2vc","timestamp":"2026-02-13T12:46:49.259Z","uuid":"330fea4f-b713-4275-8cca-8f53b9e86ca1"}
{"parentUuid":"48a8129f-1e5d-47b1-982c-f25270f8ae3d","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_016UG7AgSTujZmRZw9w7o2vc","type":"tool_result","content":"     1→import React, {\n     2→\tuseCallback,\n     3→\tuseEffect,\n     4→\tuseMemo,\n     5→\tuseRef,\n     6→\tuseState,\n     7→} from \"react\";\n     8→import { useFeatureFlags } from \"../contexts/FeatureFlagContext\";\n     9→import type { ProviderName } from \"../hooks/useEvaluationApi\";\n    10→import { useEvaluatorsApi } from \"../hooks/useEvaluatorsApi\";\n    11→import { useProviderDetection } from \"../hooks/useProviderDetection\";\n    12→import { isValidGitUrl } from \"../lib/url-validation\";\n    13→import type { EvaluatorFilter } from \"../types/evaluation\";\n    14→import type { IEvaluator } from \"../types/evaluator\";\n    15→\n    16→type InputMode = \"single\" | \"batch\";\n    17→\n    18→interface IRepositoryUrlInputProps {\n    19→\tonSubmit: (\n    20→\t\turl: string,\n    21→\t\tevaluators: number,\n    22→\t\tprovider: ProviderName,\n    23→\t\tevaluatorFilter: EvaluatorFilter,\n    24→\t\tconcurrency: number,\n    25→\t\tselectedEvaluators?: string[],\n    26→\t) => Promise<void>;\n    27→\tonBatchSubmit?: (\n    28→\t\turls: string[],\n    29→\t\tevaluators: number,\n    30→\t\tprovider: ProviderName,\n    31→\t\tevaluatorFilter: EvaluatorFilter,\n    32→\t\tconcurrency: number,\n    33→\t\tselectedEvaluators?: string[],\n    34→\t) => Promise<void>;\n    35→\tisLoading: boolean;\n    36→\terror?: string | null;\n    37→\tdisabled?: boolean;\n    38→}\n    39→\n    40→/** Available AI providers */\n    41→const PROVIDERS: { name: ProviderName; displayName: string }[] = [\n    42→\t{ name: \"claude\", displayName: \"Claude Code\" },\n    43→\t{ name: \"codex\", displayName: \"OpenAI Codex\" },\n    44→\t{ name: \"opencode\", displayName: \"OpenCode\" },\n    45→\t{ name: \"cursor\", displayName: \"Cursor Agent\" },\n    46→\t{ name: \"github-copilot\", displayName: \"GitHub Copilot\" },\n    47→];\n    48→\n    49→export const RepositoryUrlInput: React.FC<IRepositoryUrlInputProps> = ({\n    50→\tonSubmit,\n    51→\tonBatchSubmit,\n    52→\tisLoading,\n    53→\terror,\n    54→\tdisabled = false,\n    55→}) => {\n    56→\tconst { cloudMode } = useFeatureFlags();\n    57→\tconst { fetchEvaluatorsList } = useEvaluatorsApi();\n    58→\tconst {\n    59→\t\tdetectProviders,\n    60→\t\tstatus: detectionStatus,\n    61→\t\tgetProviderStatus,\n    62→\t} = useProviderDetection();\n    63→\tconst [url, setUrl] = useState(\"\");\n    64→\tconst [batchText, setBatchText] = useState(\"\");\n    65→\tconst [inputMode, setInputMode] = useState<InputMode>(\"single\");\n    66→\tconst [concurrency, setConcurrency] = useState<number>(3);\n    67→\tconst [totalEvaluators, setTotalEvaluators] = useState<number>(17); // Default fallback\n    68→\tconst [evaluatorsList, setEvaluatorsList] = useState<IEvaluator[]>([]);\n    69→\tconst [selectedEvaluatorIds, setSelectedEvaluatorIds] = useState<Set<string>>(\n    70→\t\tnew Set(),\n    71→\t);\n    72→\tconst [evaluatorDropdownOpen, setEvaluatorDropdownOpen] = useState(false);\n    73→\tconst dropdownRef = useRef<HTMLDivElement>(null);\n    74→\tconst [provider, setProvider] = useState<ProviderName>(\"claude\");\n    75→\tconst [validationError, setValidationError] = useState<string | null>(null);\n    76→\n    77→\t// Parse batch URLs from textarea\n    78→\tconst parsedBatchUrls = useMemo(() => {\n    79→\t\treturn batchText\n    80→\t\t\t.split(\"\\n\")\n    81→\t\t\t.map((line) => line.trim())\n    82→\t\t\t.filter((line) => line.length > 0);\n    83→\t}, [batchText]);\n    84→\n    85→\tconst validBatchUrls = useMemo(() => {\n    86→\t\treturn parsedBatchUrls.filter((u) => isValidGitUrl(u));\n    87→\t}, [parsedBatchUrls]);\n    88→\n    89→\tconst invalidBatchUrls = useMemo(() => {\n    90→\t\treturn parsedBatchUrls.filter((u) => !isValidGitUrl(u));"}]},"uuid":"be555c23-8b6d-4e20-b126-c69030a5c771","timestamp":"2026-02-13T12:46:49.258Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/RepositoryUrlInput.tsx","content":"import React, {\n\tuseCallback,\n\tuseEffect,\n\tuseMemo,\n\tuseRef,\n\tuseState,\n} from \"react\";\nimport { useFeatureFlags } from \"../contexts/FeatureFlagContext\";\nimport type { ProviderName } from \"../hooks/useEvaluationApi\";\nimport { useEvaluatorsApi } from \"../hooks/useEvaluatorsApi\";\nimport { useProviderDetection } from \"../hooks/useProviderDetection\";\nimport { isValidGitUrl } from \"../lib/url-validation\";\nimport type { EvaluatorFilter } from \"../types/evaluation\";\nimport type { IEvaluator } from \"../types/evaluator\";\n\ntype InputMode = \"single\" | \"batch\";\n\ninterface IRepositoryUrlInputProps {\n\tonSubmit: (\n\t\turl: string,\n\t\tevaluators: number,\n\t\tprovider: ProviderName,\n\t\tevaluatorFilter: EvaluatorFilter,\n\t\tconcurrency: number,\n\t\tselectedEvaluators?: string[],\n\t) => Promise<void>;\n\tonBatchSubmit?: (\n\t\turls: string[],\n\t\tevaluators: number,\n\t\tprovider: ProviderName,\n\t\tevaluatorFilter: EvaluatorFilter,\n\t\tconcurrency: number,\n\t\tselectedEvaluators?: string[],\n\t) => Promise<void>;\n\tisLoading: boolean;\n\terror?: string | null;\n\tdisabled?: boolean;\n}\n\n/** Available AI providers */\nconst PROVIDERS: { name: ProviderName; displayName: string }[] = [\n\t{ name: \"claude\", displayName: \"Claude Code\" },\n\t{ name: \"codex\", displayName: \"OpenAI Codex\" },\n\t{ name: \"opencode\", displayName: \"OpenCode\" },\n\t{ name: \"cursor\", displayName: \"Cursor Agent\" },\n\t{ name: \"github-copilot\", displayName: \"GitHub Copilot\" },\n];\n\nexport const RepositoryUrlInput: React.FC<IRepositoryUrlInputProps> = ({\n\tonSubmit,\n\tonBatchSubmit,\n\tisLoading,\n\terror,\n\tdisabled = false,\n}) => {\n\tconst { cloudMode } = useFeatureFlags();\n\tconst { fetchEvaluatorsList } = useEvaluatorsApi();\n\tconst {\n\t\tdetectProviders,\n\t\tstatus: detectionStatus,\n\t\tgetProviderStatus,\n\t} = useProviderDetection();\n\tconst [url, setUrl] = useState(\"\");\n\tconst [batchText, setBatchText] = useState(\"\");\n\tconst [inputMode, setInputMode] = useState<InputMode>(\"single\");\n\tconst [concurrency, setConcurrency] = useState<number>(3);\n\tconst [totalEvaluators, setTotalEvaluators] = useState<number>(17); // Default fallback\n\tconst [evaluatorsList, setEvaluatorsList] = useState<IEvaluator[]>([]);\n\tconst [selectedEvaluatorIds, setSelectedEvaluatorIds] = useState<Set<string>>(\n\t\tnew Set(),\n\t);\n\tconst [evaluatorDropdownOpen, setEvaluatorDropdownOpen] = useState(false);\n\tconst dropdownRef = useRef<HTMLDivElement>(null);\n\tconst [provider, setProvider] = useState<ProviderName>(\"claude\");\n\tconst [validationError, setValidationError] = useState<string | null>(null);\n\n\t// Parse batch URLs from textarea\n\tconst parsedBatchUrls = useMemo(() => {\n\t\treturn batchText\n\t\t\t.split(\"\\n\")\n\t\t\t.map((line) => line.trim())\n\t\t\t.filter((line) => line.length > 0);\n\t}, [batchText]);\n\n\tconst validBatchUrls = useMemo(() => {\n\t\treturn parsedBatchUrls.filter((u) => isValidGitUrl(u));\n\t}, [parsedBatchUrls]);\n\n\tconst invalidBatchUrls = useMemo(() => {\n\t\treturn parsedBatchUrls.filter((u) => !isValidGitUrl(u));","numLines":90,"startLine":1,"totalLines":997}},"sourceToolAssistantUUID":"48a8129f-1e5d-47b1-982c-f25270f8ae3d"}
{"parentUuid":"be555c23-8b6d-4e20-b126-c69030a5c771","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01RSbg6vkLNtdQYV7Y95Lxs6","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_013pWF3p6JZAGNTZQj4yfLfW","name":"Read","input":{"file_path":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/hooks/useEvaluationApi.ts","limit":30}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":14765,"cache_read_input_tokens":16195,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":14765},"output_tokens":2,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66JkR69peFRCzwUbm1q","type":"assistant","uuid":"ff74bc1f-50a9-4c05-bb6e-384c45455e7c","timestamp":"2026-02-13T12:46:49.905Z"}
{"parentUuid":"ff74bc1f-50a9-4c05-bb6e-384c45455e7c","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_013pWF3p6JZAGNTZQj4yfLfW","toolUseID":"toolu_013pWF3p6JZAGNTZQj4yfLfW","timestamp":"2026-02-13T12:46:49.923Z","uuid":"f1598943-1893-4c0c-ad55-6c448b5e64b0"}
{"parentUuid":"ff74bc1f-50a9-4c05-bb6e-384c45455e7c","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_013pWF3p6JZAGNTZQj4yfLfW","type":"tool_result","content":"     1→import { useCallback, useMemo, useState } from \"react\";\n     2→import type { EvaluatorFilter, Issue } from \"../types/evaluation\";\n     3→import type {\n     4→\tIBatchEvaluateResponse,\n     5→\tIBatchStatusResponse,\n     6→\tIEvaluateResponse,\n     7→\tIJobStatusResponse,\n     8→} from \"../types/job\";\n     9→import type { RemediationResult } from \"../types/remediation\";\n    10→\n    11→/** Supported AI provider names */\n    12→export type ProviderName =\n    13→\t| \"claude\"\n    14→\t| \"codex\"\n    15→\t| \"opencode\"\n    16→\t| \"cursor\"\n    17→\t| \"github-copilot\"\n    18→\t| \"random\";\n    19→\n    20→export interface RemediationPromptsResponse {\n    21→\terrorFixPrompt: string;\n    22→\tsuggestionEnrichPrompt: string;\n    23→\terrorCount: number;\n    24→\tsuggestionCount: number;\n    25→}\n    26→\n    27→export interface ExecuteRemediationResponse {\n    28→\tremediationId: string;\n    29→\tsseUrl: string;\n    30→\tstatus: string;"}]},"uuid":"bd74b123-13e6-43e1-942f-abc3f8b22c3d","timestamp":"2026-02-13T12:46:49.921Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/hooks/useEvaluationApi.ts","content":"import { useCallback, useMemo, useState } from \"react\";\nimport type { EvaluatorFilter, Issue } from \"../types/evaluation\";\nimport type {\n\tIBatchEvaluateResponse,\n\tIBatchStatusResponse,\n\tIEvaluateResponse,\n\tIJobStatusResponse,\n} from \"../types/job\";\nimport type { RemediationResult } from \"../types/remediation\";\n\n/** Supported AI provider names */\nexport type ProviderName =\n\t| \"claude\"\n\t| \"codex\"\n\t| \"opencode\"\n\t| \"cursor\"\n\t| \"github-copilot\"\n\t| \"random\";\n\nexport interface RemediationPromptsResponse {\n\terrorFixPrompt: string;\n\tsuggestionEnrichPrompt: string;\n\terrorCount: number;\n\tsuggestionCount: number;\n}\n\nexport interface ExecuteRemediationResponse {\n\tremediationId: string;\n\tsseUrl: string;\n\tstatus: string;","numLines":30,"startLine":1,"totalLines":525}},"sourceToolAssistantUUID":"ff74bc1f-50a9-4c05-bb6e-384c45455e7c"}
{"parentUuid":"bd74b123-13e6-43e1-942f-abc3f8b22c3d","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01FYZPhtRwShE2fU7kC1sENT","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"Now I have a clear picture of all the files. Let me implement the changes:\n\n1. **Summary.tsx**: Add `onReRun` prop, `ProviderName` import, PROVIDERS constant, `reRunProvider` state, and the re-run UI in the header section.\n\n2. **App.tsx**: Add `ProviderName` import, fix provider types, add `handleReRun` callback, pass `onReRun` to Summary.\n\nLet me make these changes now.","signature":"EpwECkYICxgCKkDTJHDC56whxQwdKKEX3VLaJuW5cHjDu05c+5am1TjeFOKwSpn8zEd9bat1jrsBeOQx06ONV82zlOCpmihvkL7lEgwPpBjfwAmHMKg1EccaDA4RwbunU2e5JOgkMyIwQ38hr9LhjCHpczDLnQUuUHnkEeqRx1u1jocHULjLjZyVkdjlsY50n+J7gFf8WD8AKoMDMPttIaBmy8Tuou3j6aVBm8kyvPgzf+OSvSvdu2KePvLHbo/JrPAu0gvmu0DRosRdKlh6iavmzS4M1bB2qQhzR1mlrrL8zp2F5Fdw5U/och86dEBr5K1GXbd+NdiPsKGkKdipQvQNaAr592biz0eLaNHMRG7Zw590yHrtGLUXT/4CpjoqPJy5wC5XaLAfvG7YOILErFJRk6uvxik4mFXvC+UU9BgbSq+0VufmsAhEPVwRmN/G+9xN/c0Cm7BBdozPbZmz1bYPB0rjg7AtHdD54v2CgZG9Rmto0yj4TmhKSD4/7t0bphrF1pXrfkpzq7iVOmU3D8vsgHivGk6fNqyhXlSqjwHn2/50E8iuSp7tCzm4NV+mrqEpSC0GUpKnTlPwaRiVRkE2jA5Q8aKORWBBZ5bnfhFPLcBQ7PsRbFNG30pLGn7W/bFYaVy3FFU+t2yc8a0smyVBS1AVnLtW0GElpTkT6t4Bfp/++OHDNMCCdnVjex9yzWd0SWJeCiJpMjwQfohKGAE="}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":49591,"cache_read_input_tokens":30960,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":49591},"output_tokens":8,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66K7svhd65o1wTDsCAf","type":"assistant","uuid":"7100f24c-b526-4bd6-a50e-1458295ae8e2","timestamp":"2026-02-13T12:46:55.582Z"}
{"parentUuid":"7100f24c-b526-4bd6-a50e-1458295ae8e2","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01FYZPhtRwShE2fU7kC1sENT","type":"message","role":"assistant","content":[{"type":"text","text":"Now I have a clear picture of all the files. Let me implement both changes."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":49591,"cache_read_input_tokens":30960,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":49591},"output_tokens":8,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66K7svhd65o1wTDsCAf","type":"assistant","uuid":"33e64d3c-41cc-4c1d-9ee9-9ffb8aa22795","timestamp":"2026-02-13T12:46:56.048Z"}
{"parentUuid":"33e64d3c-41cc-4c1d-9ee9-9ffb8aa22795","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01FYZPhtRwShE2fU7kC1sENT","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01FDWfnBbiSzzZco15TfBRR8","name":"Edit","input":{"replace_all":false,"file_path":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx","old_string":"import React, { useState } from \"react\";\nimport { useFeatureFlags } from \"../contexts/FeatureFlagContext\";\nimport { extractRepoName, formatCost, formatDuration } from \"../lib/formatters\";","new_string":"import React, { useState } from \"react\";\nimport { useFeatureFlags } from \"../contexts/FeatureFlagContext\";\nimport type { ProviderName } from \"../hooks/useEvaluationApi\";\nimport { extractRepoName, formatCost, formatDuration } from \"../lib/formatters\";"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":49591,"cache_read_input_tokens":30960,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":49591},"output_tokens":8,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66K7svhd65o1wTDsCAf","type":"assistant","uuid":"c643f4d0-dbe6-4afd-8a37-02fcbbfd56f3","timestamp":"2026-02-13T12:46:58.842Z"}
{"type":"file-history-snapshot","messageId":"c643f4d0-dbe6-4afd-8a37-02fcbbfd56f3","snapshot":{"messageId":"786c985a-b492-4267-a622-fd74bf90537c","trackedFileBackups":{"frontend/src/components/Summary.tsx":{"backupFileName":"3dfda6a17ea33c6c@v1","version":1,"backupTime":"2026-02-13T12:47:03.857Z"}},"timestamp":"2026-02-13T12:46:44.812Z"},"isSnapshotUpdate":true}
{"parentUuid":"c643f4d0-dbe6-4afd-8a37-02fcbbfd56f3","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_01FDWfnBbiSzzZco15TfBRR8","toolUseID":"toolu_01FDWfnBbiSzzZco15TfBRR8","timestamp":"2026-02-13T12:47:03.866Z","uuid":"7a3c790f-9e71-40df-84bd-2c31e1e28bc2"}
{"parentUuid":"c643f4d0-dbe6-4afd-8a37-02fcbbfd56f3","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01FDWfnBbiSzzZco15TfBRR8","type":"tool_result","content":"The file /Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx has been updated successfully."}]},"uuid":"bb9039bd-7e2e-495a-a931-19f6bef60d10","timestamp":"2026-02-13T12:47:03.865Z","toolUseResult":{"filePath":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx","oldString":"import React, { useState } from \"react\";\nimport { useFeatureFlags } from \"../contexts/FeatureFlagContext\";\nimport { extractRepoName, formatCost, formatDuration } from \"../lib/formatters\";","newString":"import React, { useState } from \"react\";\nimport { useFeatureFlags } from \"../contexts/FeatureFlagContext\";\nimport type { ProviderName } from \"../hooks/useEvaluationApi\";\nimport { extractRepoName, formatCost, formatDuration } from \"../lib/formatters\";","originalFile":"import React, { useState } from \"react\";\nimport { useFeatureFlags } from \"../contexts/FeatureFlagContext\";\nimport { extractRepoName, formatCost, formatDuration } from \"../lib/formatters\";\nimport type {\n\tICuratedIssue,\n\tICurationSummary,\n\tMetadata,\n} from \"../types/evaluation\";\nimport { StatCard } from \"./shared\";\nimport { ContextFilesBrowserModal } from \"./shared/ContextFilesBrowserModal\";\nimport { LinkedDocsBrowserModal } from \"./shared/LinkedDocsBrowserModal\";\nimport { SkillsBrowserModal } from \"./shared/SkillsBrowserModal\";\nimport { ContextScoreCard } from \"./summary/ContextScoreCard\";\n\n// Log entry type for activity logs\ninterface LogEntry {\n\ttimestamp: Date;\n\ttype: string;\n\tmessage: string;\n}\n\ninterface SummaryProps {\n\tmetadata: Metadata;\n\trepositoryUrl?: string | null;\n\tactualIssueCount?: number;\n\tactualPerFileIssueCount?: number;\n\tactualCrossFileIssueCount?: number;\n\tactualHighCount?: number;\n\tactualMediumCount?: number;\n\tactualLowCount?: number;\n\tactualErrorCount?: number;\n\tactualSuggestionCount?: number;\n\tcurationSummary?: ICurationSummary | null;\n\tcuratedCount?: number;\n\tevaluationId?: string;\n\tonDelete?: () => void;\n\tcuration?: {\n\t\terrors?: {\n\t\t\tcuratedIssues: ICuratedIssue[];\n\t\t\tsummary: ICurationSummary;\n\t\t};\n\t\tsuggestions?: {\n\t\t\tcuratedIssues: ICuratedIssue[];\n\t\t\tsummary: ICurationSummary;\n\t\t};\n\t};\n\tevaluationLogs?: LogEntry[];\n}\n\nexport const Summary: React.FC<SummaryProps> = ({\n\tmetadata,\n\trepositoryUrl,\n\tactualIssueCount,\n\tactualPerFileIssueCount,\n\tactualCrossFileIssueCount,\n\tactualHighCount,\n\tactualMediumCount,\n\tactualLowCount,\n\tactualErrorCount,\n\tactualSuggestionCount,\n\tcurationSummary: _curationSummary,\n\tcuratedCount,\n\tevaluationId,\n\tonDelete,\n\tcuration,\n\tevaluationLogs,\n}) => {\n\tconst { cloudMode } = useFeatureFlags();\n\tconst [showRawContext, setShowRawContext] = useState(false);\n\tconst [copied, setCopied] = useState(false);\n\tconst [showSkillsModal, setShowSkillsModal] = useState(false);\n\tconst [showLinkedDocsModal, setShowLinkedDocsModal] = useState(false);\n\tconst [contextFilesModalType, setContextFilesModalType] = useState<\n\t\t\"agents\" | \"claude\" | \"copilot\" | \"rules\" | \"claude-code\" | null\n\t>(null);\n\tconst [showActivityLog, setShowActivityLog] = useState(false);\n\tconst formattedDate = new Date(metadata.generatedAt).toLocaleString();\n\tconst shareUrl = evaluationId\n\t\t? `${window.location.origin}/evaluation/${evaluationId}`\n\t\t: null;\n\n\t// Sort files alphabetically by directory hierarchy\n\tconst sortedFiles = metadata.filesEvaluated\n\t\t? [...metadata.filesEvaluated].sort((a, b) => a.localeCompare(b))\n\t\t: [];\n\n\tconst handleCopyLink = () => {\n\t\tif (evaluationId) {\n\t\t\tconst shareUrl = `${window.location.origin}/evaluation/${evaluationId}`;\n\t\t\tnavigator.clipboard.writeText(shareUrl).then(() => {\n\t\t\t\tsetCopied(true);\n\t\t\t\tsetTimeout(() => setCopied(false), 2000);\n\t\t\t});\n\t\t}\n\t};\n\n\t// Use actual counts if provided, otherwise fall back to metadata\n\tconst totalIssues = actualIssueCount ?? metadata.totalIssues ?? 0;\n\tconst perFileIssues = actualPerFileIssueCount ?? metadata.perFileIssues ?? 0;\n\tconst crossFileIssues =\n\t\tactualCrossFileIssueCount ?? metadata.crossFileIssues ?? 0;\n\tconst highCount = actualHighCount ?? metadata.highCount ?? 0;\n\tconst mediumCount = actualMediumCount ?? metadata.mediumCount ?? 0;\n\tconst lowCount = actualLowCount ?? metadata.lowCount ?? 0;\n\n\t// Context files counting\n\tconst agentsFilePaths = metadata.projectContext?.agentsFilePaths ?? [];\n\tconst contextFilesFromApi = metadata.projectContext?.contextFiles ?? [];\n\n\t// Create fallback context files from agentsFilePaths for backward compatibility\n\t// This allows the browser modal to work with older evaluations that don't have contextFiles\n\tconst contextFiles =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t: agentsFilePaths.map((path) => {\n\t\t\t\t\tconst lowerPath = path.toLowerCase();\n\t\t\t\t\tlet type: \"agents\" | \"claude\" | \"copilot\" = \"agents\";\n\t\t\t\t\tif (lowerPath.includes(\"claude\")) {\n\t\t\t\t\t\ttype = \"claude\";\n\t\t\t\t\t} else if (lowerPath.includes(\"copilot\")) {\n\t\t\t\t\t\ttype = \"copilot\";\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tpath,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tcontent: \"\", // No content available for old evaluations\n\t\t\t\t\t\tsummary: \"Re-run evaluation to load content and summary.\",\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t// Use contextFiles if available, otherwise fall back to agentsFilePaths for backward compatibility\n\tconst agentsMdPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t\t\t.filter((f) => f.type === \"agents\")\n\t\t\t\t\t.map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) => p.toLowerCase().includes(\"agents\"));\n\tconst claudeMdPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t\t\t.filter((f) => f.type === \"claude\")\n\t\t\t\t\t.map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) => p.toLowerCase().includes(\"claude\"));\n\tconst rulesPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi.filter((f) => f.type === \"rules\").map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) => p.includes(\".claude/rules/\"));\n\tconst copilotInstructionsPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t\t\t.filter((f) => f.type === \"copilot\")\n\t\t\t\t\t.map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) =>\n\t\t\t\t\tp.toLowerCase().includes(\"copilot-instructions\"),\n\t\t\t\t);\n\tconst agentsMdCount = agentsMdPaths.length;\n\tconst claudeMdCount = claudeMdPaths.length;\n\tconst rulesCount = rulesPaths.length;\n\tconst copilotInstructionsCount = copilotInstructionsPaths.length;\n\t// Claude Code combines CLAUDE.md and .claude/rules files\n\tconst claudeCodeCount = claudeMdCount + rulesCount;\n\tconst skills = metadata.projectContext?.skills ?? [];\n\tconst skillsCount = skills.length;\n\tconst linkedDocs = metadata.projectContext?.linkedDocs ?? [];\n\tconst linkedDocsCount = linkedDocs.length;\n\n\t// Sort paths, skills, and linked docs alphabetically for display\n\tconst sortedAgentsMdPaths = [...agentsMdPaths].sort((a, b) =>\n\t\ta.localeCompare(b),\n\t);\n\t// Combined Claude Code paths (CLAUDE.md + rules)\n\tconst sortedClaudeCodePaths = [...claudeMdPaths, ...rulesPaths].sort((a, b) =>\n\t\ta.localeCompare(b),\n\t);\n\tconst sortedCopilotInstructionsPaths = [...copilotInstructionsPaths].sort(\n\t\t(a, b) => a.localeCompare(b),\n\t);\n\tconst sortedSkills = [...skills].sort((a, b) => a.name.localeCompare(b.name));\n\tconst sortedLinkedDocs = [...linkedDocs].sort((a, b) =>\n\t\ta.path.localeCompare(b.path),\n\t);\n\tconst hasContextFiles =\n\t\tagentsMdCount > 0 ||\n\t\tclaudeCodeCount > 0 ||\n\t\tcopilotInstructionsCount > 0 ||\n\t\tskillsCount > 0 ||\n\t\tlinkedDocsCount > 0;\n\n\treturn (\n\t\t<div className=\"space-y-4 animate-fade-in\">\n\t\t\t{/* Header */}\n\t\t\t<div className=\"glass-card border border-indigo-500/30 p-4\">\n\t\t\t\t<div className=\"flex items-center justify-between py-3\">\n\t\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t\t{/* Repository Name - Prominent Display */}\n\t\t\t\t\t\t{repositoryUrl && (\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref={repositoryUrl}\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-2 hover:opacity-80 transition-opacity group\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"w-8 h-8 bg-slate-700/60 rounded-lg flex items-center justify-center border border-slate-600/50 group-hover:bg-purple-700/60 transition-colors\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-slate-300\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z\"\n\t\t\t\t\t\t\t\t\t\t\t\tclipRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<span className=\"text-xl md:text-2xl font-bold text-slate-100 group-hover:underline\">\n\t\t\t\t\t\t\t\t\t\t{extractRepoName(repositoryUrl)}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-400\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t<div className=\"w-6 h-6 bg-slate-700/60 rounded-md flex items-center justify-center border border-slate-600/50\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-4 w-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path d=\"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z\" />\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\td=\"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z\"\n\t\t\t\t\t\t\t\t\t\tclipRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h2 className=\"text-base md:text-lg font-semibold text-slate-100\">\n\t\t\t\t\t\t\t\tEvaluation Summary\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex flex-wrap items-center gap-2 text-slate-300 text-xs\">\n\t\t\t\t\t\t\t<span className=\"flex items-center gap-1 bg-slate-700/60 px-2 py-1 rounded-md border border-slate-600/50\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{formattedDate}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"flex items-center gap-1 bg-slate-700/60 px-2 py-1 rounded-md border border-slate-600/50\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{metadata.agent}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-1 bg-slate-700/60 px-2 py-1 rounded-md border border-slate-600/50\"\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\tmetadata.evaluationMode === \"unified\"\n\t\t\t\t\t\t\t\t\t\t? \"Unified mode: All files evaluated together for cross-file analysis\"\n\t\t\t\t\t\t\t\t\t\t: \"Independent mode: Each file evaluated separately\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{metadata.evaluationMode}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n\t\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tonDelete();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n\t\t\t\t\t\t\ttitle=\"Delete evaluation\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Share Report Card - Prominent Display */}\n\t\t\t{shareUrl && (\n\t\t\t\t<div className=\"glass-card p-4 border border-indigo-500/30\">\n\t\t\t\t\t<div className=\"flex items-start gap-3\">\n\t\t\t\t\t\t<div className=\"w-8 h-8 bg-indigo-600/30 rounded-lg flex items-center justify-center shrink-0\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-indigo-400\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex-1 min-w-0\">\n\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-slate-200 mb-1\">\n\t\t\t\t\t\t\t\tShare this report\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<code className=\"text-xs text-slate-300 bg-slate-900/50 px-2 py-1 rounded truncate flex-1 block overflow-hidden\">\n\t\t\t\t\t\t\t\t\t{shareUrl}\n\t\t\t\t\t\t\t\t</code>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={handleCopyLink}\n\t\t\t\t\t\t\t\t\tclassName=\"shrink-0 px-3 py-1.5 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-500 rounded-lg transition-colors flex items-center gap-1.5\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{copied ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M5 13l4 4L19 7\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<span>Copied!</span>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<span>Copy Link</span>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Context Score - Prominent Display */}\n\t\t\t{metadata.contextScore && (\n\t\t\t\t<ContextScoreCard contextScore={metadata.contextScore} />\n\t\t\t)}\n\n\t\t\t{/* Project Context */}\n\t\t\t{metadata.projectContext && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t<span className=\"w-6 h-6 bg-indigo-600 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-white\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tProject Context\n\t\t\t\t\t\t<span className=\"text-xs font-normal text-slate-400 ml-2\">\n\t\t\t\t\t\t\t(auto-detected)\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tLanguages\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.languages}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tFrameworks\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.frameworks}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tArchitecture\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.architecture}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tPatterns\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.patterns}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Raw Context Toggle */}\n\t\t\t\t\t{metadata.projectContext.raw && (\n\t\t\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => setShowRawContext(!showRawContext)}\n\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-2 text-xs text-slate-400 hover:text-slate-200 transition-colors\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName={`w-3 h-3 transition-transform ${showRawContext ? \"rotate-90\" : \"\"}`}\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 5l7 7-7 7\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{showRawContext ? \"Hide\" : \"Show\"} raw context\n\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t{showRawContext && (\n\t\t\t\t\t\t\t\t<div className=\"mt-2 bg-slate-900/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t\t\t<pre className=\"text-xs text-slate-300 whitespace-pre-wrap font-mono overflow-x-auto\">\n\t\t\t\t\t\t\t\t\t\t{metadata.projectContext.raw}\n\t\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{metadata.contextIdentificationCostUsd !== undefined &&\n\t\t\t\t\t\tmetadata.contextIdentificationDurationMs !== undefined && (\n\t\t\t\t\t\t\t<div className=\"mt-3 pt-3 border-t border-slate-700/50 flex items-center gap-4 text-xs text-slate-400\">\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\tContext analysis:{\" \"}\n\t\t\t\t\t\t\t\t\t{formatCost(metadata.contextIdentificationCostUsd)}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{formatDuration(metadata.contextIdentificationDurationMs)}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Context Files */}\n\t\t\t{hasContextFiles && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tClaude Code\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3\">\n\t\t\t\t\t\t{/* AGENTS.md Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tAGENTS.md\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{agentsMdCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{agentsMdCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedAgentsMdPaths.map((path, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-slate-400 flex items-start gap-1.5\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-0.5\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{path}</span>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setContextFilesModalType(\"agents\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Browse</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Claude Code Card (CLAUDE.md + Rules combined) */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tCLAUDE.md + Rules\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{claudeCodeCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{claudeCodeCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedClaudeCodePaths.map((path, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-slate-400 flex items-start gap-1.5\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-0.5\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{path}</span>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setContextFilesModalType(\"claude-code\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Browse</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Github Copilot Instructions Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tCopilot Instructions\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{copilotInstructionsCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{copilotInstructionsCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedCopilotInstructionsPaths.map((path, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-slate-400 flex items-start gap-1.5\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-0.5\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{path}</span>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setContextFilesModalType(\"copilot\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Browse</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Skills Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tSkills\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{skillsCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{skillsCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1.5 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedSkills.map((skill, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li key={index} className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-300 font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{skill.name}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 ml-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t({skill.directory})\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t{skill.description && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-slate-500 mt-0.5 truncate\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={skill.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{skill.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setShowSkillsModal(true)}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Display all</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Linked Docs Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tLinked Docs\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{linkedDocsCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{linkedDocsCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1.5 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedLinkedDocs.map((doc, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li key={index} className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-slate-300 font-medium break-all\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{doc.path}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-slate-500 text-xs mt-0.5\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tfrom {doc.linkedFrom}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{doc.summary && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-slate-500 mt-0.5 line-clamp-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={doc.summary}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{doc.summary}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setShowLinkedDocsModal(true)}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Display all</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Main Stats Grid */}\n\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n\t\t\t\t<StatCard\n\t\t\t\t\tlabel=\"Total Files\"\n\t\t\t\t\tvalue={metadata.totalFiles}\n\t\t\t\t\ticon={\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"h-8 w-8\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t}\n\t\t\t\t\ttooltip={\n\t\t\t\t\t\tsortedFiles.length > 0 && (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide mb-2\">\n\t\t\t\t\t\t\t\t\tFiles Evaluated\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<ul className=\"space-y-1\">\n\t\t\t\t\t\t\t\t\t{sortedFiles.map((file, index) => (\n\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-sm text-slate-300 flex items-start gap-2\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-1\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{file}</span>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<StatCard\n\t\t\t\t\tlabel=\"Total Issues\"\n\t\t\t\t\tvalue={totalIssues}\n\t\t\t\t\ticon={\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"h-8 w-8\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<StatCard label=\"Per-File Issues\" value={perFileIssues} />\n\t\t\t\t<StatCard label=\"Cross-File Issues\" value={crossFileIssues} />\n\t\t\t</div>\n\n\t\t\t{/* Severity & Issue Type Breakdown - Side by Side */}\n\t\t\t{(highCount > 0 ||\n\t\t\t\tmediumCount > 0 ||\n\t\t\t\tlowCount > 0 ||\n\t\t\t\t(actualErrorCount ?? 0) > 0 ||\n\t\t\t\t(actualSuggestionCount ?? 0) > 0) && (\n\t\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n\t\t\t\t\t{/* Severity Breakdown */}\n\t\t\t\t\t{(highCount > 0 || mediumCount > 0 || lowCount > 0) && (\n\t\t\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\tSeverity Breakdown\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-3 gap-3\">\n\t\t\t\t\t\t\t\t{highCount > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover stat-card-high rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"severity-dot severity-dot-high w-4 h-4\" />\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tHigh\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-orange-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{highCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{mediumCount > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover stat-card-medium rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"severity-dot severity-dot-medium w-4 h-4\" />\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tMedium\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-yellow-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{mediumCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{lowCount > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover stat-card-low rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"severity-dot severity-dot-low w-4 h-4\" />\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tLow\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{lowCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Issue Type Breakdown */}\n\t\t\t\t\t{((actualErrorCount ?? 0) > 0 ||\n\t\t\t\t\t\t(actualSuggestionCount ?? 0) > 0) && (\n\t\t\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M4 6h16M4 12h16M4 18h7\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\tIssue Type Breakdown\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-3\">\n\t\t\t\t\t\t\t\t{(actualErrorCount ?? 0) > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-red-400\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tErrors\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{actualErrorCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tProblems to fix\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{(actualSuggestionCount ?? 0) > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-indigo-400\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tSuggestions\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{actualSuggestionCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tOpportunities to improve\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Curated Issues Breakdown - Dual Curation */}\n\t\t\t{curation && (curatedCount ?? 0) > 0 && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M13 10V3L4 14h7v7l9-11h-7z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tCurated Issues Breakdown\n\t\t\t\t\t\t<span className=\"text-xs font-normal text-slate-400 ml-2\">\n\t\t\t\t\t\t\t(AI-selected high-impact issues)\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n\t\t\t\t\t\t{/* Curated Errors */}\n\t\t\t\t\t\t{curation.errors && (\n\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-red-400\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\tTop Errors\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t{curation.errors.curatedIssues.length}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\tfrom {curation.errors.summary.totalIssuesReviewed}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\treviewed\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* Curated Suggestions */}\n\t\t\t\t\t\t{curation.suggestions && (\n\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-indigo-400\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\tTop Suggestions\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t{curation.suggestions.curatedIssues.length}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\tfrom {curation.suggestions.summary.totalIssuesReviewed}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\treviewed\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Activity Log - Collapsible */}\n\t\t\t{evaluationLogs && evaluationLogs.length > 0 && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={() => setShowActivityLog(!showActivityLog)}\n\t\t\t\t\t\tclassName=\"w-full flex items-center justify-between text-left\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 flex items-center gap-2\">\n\t\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\tActivity Log\n\t\t\t\t\t\t\t<span className=\"text-xs font-normal text-slate-400 ml-2\">\n\t\t\t\t\t\t\t\t({evaluationLogs.length} entries)\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName={`w-5 h-5 text-slate-400 transition-transform ${showActivityLog ? \"rotate-180\" : \"\"}`}\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M19 9l-7 7-7-7\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t{showActivityLog && (\n\t\t\t\t\t\t<div className=\"mt-4 bg-slate-900/50 rounded-lg p-4 max-h-64 overflow-y-auto custom-scrollbar border border-slate-700/30\">\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t{evaluationLogs\n\t\t\t\t\t\t\t\t\t.slice()\n\t\t\t\t\t\t\t\t\t.reverse()\n\t\t\t\t\t\t\t\t\t.map((log, index) => (\n\t\t\t\t\t\t\t\t\t\t<div key={index} className=\"flex items-start gap-3 text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 shrink-0 font-mono\">\n\t\t\t\t\t\t\t\t\t\t\t\t{log.timestamp instanceof Date\n\t\t\t\t\t\t\t\t\t\t\t\t\t? log.timestamp.toLocaleTimeString()\n\t\t\t\t\t\t\t\t\t\t\t\t\t: new Date(log.timestamp).toLocaleTimeString()}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"success\" ? \"text-green-400\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"error\" ? \"text-red-400\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"warning\" ? \"text-yellow-400\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"info\" ? \"text-slate-300\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{log.message}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Skills Browser Modal */}\n\t\t\t<SkillsBrowserModal\n\t\t\t\tisOpen={showSkillsModal}\n\t\t\t\tonClose={() => setShowSkillsModal(false)}\n\t\t\t\tskills={skills}\n\t\t\t/>\n\n\t\t\t{/* Context Files Browser Modal */}\n\t\t\t<ContextFilesBrowserModal\n\t\t\t\tisOpen={contextFilesModalType !== null}\n\t\t\t\tonClose={() => setContextFilesModalType(null)}\n\t\t\t\tcontextFiles={contextFiles}\n\t\t\t\tfilterType={contextFilesModalType ?? undefined}\n\t\t\t/>\n\n\t\t\t{/* Linked Docs Browser Modal */}\n\t\t\t<LinkedDocsBrowserModal\n\t\t\t\tisOpen={showLinkedDocsModal}\n\t\t\t\tonClose={() => setShowLinkedDocsModal(false)}\n\t\t\t\tlinkedDocs={linkedDocs}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","structuredPatch":[{"oldStart":1,"oldLines":5,"newStart":1,"newLines":6,"lines":[" import React, { useState } from \"react\";"," import { useFeatureFlags } from \"../contexts/FeatureFlagContext\";","+import type { ProviderName } from \"../hooks/useEvaluationApi\";"," import { extractRepoName, formatCost, formatDuration } from \"../lib/formatters\";"," import type {","   ICuratedIssue,"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"c643f4d0-dbe6-4afd-8a37-02fcbbfd56f3"}
{"parentUuid":"bb9039bd-7e2e-495a-a931-19f6bef60d10","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01GeyBoEjL6XMCE7Z6jyVANm","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_011gfv7T4MD3NodtVKVF7kgX","name":"Edit","input":{"replace_all":false,"file_path":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx","old_string":"\tonDelete?: () => void;\n\tcuration?: {","new_string":"\tonDelete?: () => void;\n\tonReRun?: (provider: ProviderName) => void;\n\tcuration?: {"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":445,"cache_read_input_tokens":80551,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":445},"output_tokens":24,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66L9WgFkoDy2KpGbd37","type":"assistant","uuid":"662dacea-b8df-46c3-8978-f350062cacb6","timestamp":"2026-02-13T12:47:07.405Z"}
{"parentUuid":"662dacea-b8df-46c3-8978-f350062cacb6","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_011gfv7T4MD3NodtVKVF7kgX","toolUseID":"toolu_011gfv7T4MD3NodtVKVF7kgX","timestamp":"2026-02-13T12:47:12.451Z","uuid":"cfcb073f-7b6c-4cef-bc38-8ad3532fc534"}
{"parentUuid":"662dacea-b8df-46c3-8978-f350062cacb6","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_011gfv7T4MD3NodtVKVF7kgX","type":"tool_result","content":"The file /Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx has been updated successfully."}]},"uuid":"de7dd123-9f20-4cf4-bfb0-4ccf02ddc764","timestamp":"2026-02-13T12:47:12.449Z","toolUseResult":{"filePath":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx","oldString":"\tonDelete?: () => void;\n\tcuration?: {","newString":"\tonDelete?: () => void;\n\tonReRun?: (provider: ProviderName) => void;\n\tcuration?: {","originalFile":"import React, { useState } from \"react\";\nimport { useFeatureFlags } from \"../contexts/FeatureFlagContext\";\nimport type { ProviderName } from \"../hooks/useEvaluationApi\";\nimport { extractRepoName, formatCost, formatDuration } from \"../lib/formatters\";\nimport type {\n\tICuratedIssue,\n\tICurationSummary,\n\tMetadata,\n} from \"../types/evaluation\";\nimport { StatCard } from \"./shared\";\nimport { ContextFilesBrowserModal } from \"./shared/ContextFilesBrowserModal\";\nimport { LinkedDocsBrowserModal } from \"./shared/LinkedDocsBrowserModal\";\nimport { SkillsBrowserModal } from \"./shared/SkillsBrowserModal\";\nimport { ContextScoreCard } from \"./summary/ContextScoreCard\";\n\n// Log entry type for activity logs\ninterface LogEntry {\n\ttimestamp: Date;\n\ttype: string;\n\tmessage: string;\n}\n\ninterface SummaryProps {\n\tmetadata: Metadata;\n\trepositoryUrl?: string | null;\n\tactualIssueCount?: number;\n\tactualPerFileIssueCount?: number;\n\tactualCrossFileIssueCount?: number;\n\tactualHighCount?: number;\n\tactualMediumCount?: number;\n\tactualLowCount?: number;\n\tactualErrorCount?: number;\n\tactualSuggestionCount?: number;\n\tcurationSummary?: ICurationSummary | null;\n\tcuratedCount?: number;\n\tevaluationId?: string;\n\tonDelete?: () => void;\n\tcuration?: {\n\t\terrors?: {\n\t\t\tcuratedIssues: ICuratedIssue[];\n\t\t\tsummary: ICurationSummary;\n\t\t};\n\t\tsuggestions?: {\n\t\t\tcuratedIssues: ICuratedIssue[];\n\t\t\tsummary: ICurationSummary;\n\t\t};\n\t};\n\tevaluationLogs?: LogEntry[];\n}\n\nexport const Summary: React.FC<SummaryProps> = ({\n\tmetadata,\n\trepositoryUrl,\n\tactualIssueCount,\n\tactualPerFileIssueCount,\n\tactualCrossFileIssueCount,\n\tactualHighCount,\n\tactualMediumCount,\n\tactualLowCount,\n\tactualErrorCount,\n\tactualSuggestionCount,\n\tcurationSummary: _curationSummary,\n\tcuratedCount,\n\tevaluationId,\n\tonDelete,\n\tcuration,\n\tevaluationLogs,\n}) => {\n\tconst { cloudMode } = useFeatureFlags();\n\tconst [showRawContext, setShowRawContext] = useState(false);\n\tconst [copied, setCopied] = useState(false);\n\tconst [showSkillsModal, setShowSkillsModal] = useState(false);\n\tconst [showLinkedDocsModal, setShowLinkedDocsModal] = useState(false);\n\tconst [contextFilesModalType, setContextFilesModalType] = useState<\n\t\t\"agents\" | \"claude\" | \"copilot\" | \"rules\" | \"claude-code\" | null\n\t>(null);\n\tconst [showActivityLog, setShowActivityLog] = useState(false);\n\tconst formattedDate = new Date(metadata.generatedAt).toLocaleString();\n\tconst shareUrl = evaluationId\n\t\t? `${window.location.origin}/evaluation/${evaluationId}`\n\t\t: null;\n\n\t// Sort files alphabetically by directory hierarchy\n\tconst sortedFiles = metadata.filesEvaluated\n\t\t? [...metadata.filesEvaluated].sort((a, b) => a.localeCompare(b))\n\t\t: [];\n\n\tconst handleCopyLink = () => {\n\t\tif (evaluationId) {\n\t\t\tconst shareUrl = `${window.location.origin}/evaluation/${evaluationId}`;\n\t\t\tnavigator.clipboard.writeText(shareUrl).then(() => {\n\t\t\t\tsetCopied(true);\n\t\t\t\tsetTimeout(() => setCopied(false), 2000);\n\t\t\t});\n\t\t}\n\t};\n\n\t// Use actual counts if provided, otherwise fall back to metadata\n\tconst totalIssues = actualIssueCount ?? metadata.totalIssues ?? 0;\n\tconst perFileIssues = actualPerFileIssueCount ?? metadata.perFileIssues ?? 0;\n\tconst crossFileIssues =\n\t\tactualCrossFileIssueCount ?? metadata.crossFileIssues ?? 0;\n\tconst highCount = actualHighCount ?? metadata.highCount ?? 0;\n\tconst mediumCount = actualMediumCount ?? metadata.mediumCount ?? 0;\n\tconst lowCount = actualLowCount ?? metadata.lowCount ?? 0;\n\n\t// Context files counting\n\tconst agentsFilePaths = metadata.projectContext?.agentsFilePaths ?? [];\n\tconst contextFilesFromApi = metadata.projectContext?.contextFiles ?? [];\n\n\t// Create fallback context files from agentsFilePaths for backward compatibility\n\t// This allows the browser modal to work with older evaluations that don't have contextFiles\n\tconst contextFiles =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t: agentsFilePaths.map((path) => {\n\t\t\t\t\tconst lowerPath = path.toLowerCase();\n\t\t\t\t\tlet type: \"agents\" | \"claude\" | \"copilot\" = \"agents\";\n\t\t\t\t\tif (lowerPath.includes(\"claude\")) {\n\t\t\t\t\t\ttype = \"claude\";\n\t\t\t\t\t} else if (lowerPath.includes(\"copilot\")) {\n\t\t\t\t\t\ttype = \"copilot\";\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tpath,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tcontent: \"\", // No content available for old evaluations\n\t\t\t\t\t\tsummary: \"Re-run evaluation to load content and summary.\",\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t// Use contextFiles if available, otherwise fall back to agentsFilePaths for backward compatibility\n\tconst agentsMdPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t\t\t.filter((f) => f.type === \"agents\")\n\t\t\t\t\t.map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) => p.toLowerCase().includes(\"agents\"));\n\tconst claudeMdPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t\t\t.filter((f) => f.type === \"claude\")\n\t\t\t\t\t.map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) => p.toLowerCase().includes(\"claude\"));\n\tconst rulesPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi.filter((f) => f.type === \"rules\").map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) => p.includes(\".claude/rules/\"));\n\tconst copilotInstructionsPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t\t\t.filter((f) => f.type === \"copilot\")\n\t\t\t\t\t.map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) =>\n\t\t\t\t\tp.toLowerCase().includes(\"copilot-instructions\"),\n\t\t\t\t);\n\tconst agentsMdCount = agentsMdPaths.length;\n\tconst claudeMdCount = claudeMdPaths.length;\n\tconst rulesCount = rulesPaths.length;\n\tconst copilotInstructionsCount = copilotInstructionsPaths.length;\n\t// Claude Code combines CLAUDE.md and .claude/rules files\n\tconst claudeCodeCount = claudeMdCount + rulesCount;\n\tconst skills = metadata.projectContext?.skills ?? [];\n\tconst skillsCount = skills.length;\n\tconst linkedDocs = metadata.projectContext?.linkedDocs ?? [];\n\tconst linkedDocsCount = linkedDocs.length;\n\n\t// Sort paths, skills, and linked docs alphabetically for display\n\tconst sortedAgentsMdPaths = [...agentsMdPaths].sort((a, b) =>\n\t\ta.localeCompare(b),\n\t);\n\t// Combined Claude Code paths (CLAUDE.md + rules)\n\tconst sortedClaudeCodePaths = [...claudeMdPaths, ...rulesPaths].sort((a, b) =>\n\t\ta.localeCompare(b),\n\t);\n\tconst sortedCopilotInstructionsPaths = [...copilotInstructionsPaths].sort(\n\t\t(a, b) => a.localeCompare(b),\n\t);\n\tconst sortedSkills = [...skills].sort((a, b) => a.name.localeCompare(b.name));\n\tconst sortedLinkedDocs = [...linkedDocs].sort((a, b) =>\n\t\ta.path.localeCompare(b.path),\n\t);\n\tconst hasContextFiles =\n\t\tagentsMdCount > 0 ||\n\t\tclaudeCodeCount > 0 ||\n\t\tcopilotInstructionsCount > 0 ||\n\t\tskillsCount > 0 ||\n\t\tlinkedDocsCount > 0;\n\n\treturn (\n\t\t<div className=\"space-y-4 animate-fade-in\">\n\t\t\t{/* Header */}\n\t\t\t<div className=\"glass-card border border-indigo-500/30 p-4\">\n\t\t\t\t<div className=\"flex items-center justify-between py-3\">\n\t\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t\t{/* Repository Name - Prominent Display */}\n\t\t\t\t\t\t{repositoryUrl && (\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref={repositoryUrl}\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-2 hover:opacity-80 transition-opacity group\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"w-8 h-8 bg-slate-700/60 rounded-lg flex items-center justify-center border border-slate-600/50 group-hover:bg-purple-700/60 transition-colors\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-slate-300\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z\"\n\t\t\t\t\t\t\t\t\t\t\t\tclipRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<span className=\"text-xl md:text-2xl font-bold text-slate-100 group-hover:underline\">\n\t\t\t\t\t\t\t\t\t\t{extractRepoName(repositoryUrl)}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-400\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t<div className=\"w-6 h-6 bg-slate-700/60 rounded-md flex items-center justify-center border border-slate-600/50\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-4 w-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path d=\"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z\" />\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\td=\"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z\"\n\t\t\t\t\t\t\t\t\t\tclipRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h2 className=\"text-base md:text-lg font-semibold text-slate-100\">\n\t\t\t\t\t\t\t\tEvaluation Summary\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex flex-wrap items-center gap-2 text-slate-300 text-xs\">\n\t\t\t\t\t\t\t<span className=\"flex items-center gap-1 bg-slate-700/60 px-2 py-1 rounded-md border border-slate-600/50\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{formattedDate}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"flex items-center gap-1 bg-slate-700/60 px-2 py-1 rounded-md border border-slate-600/50\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{metadata.agent}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-1 bg-slate-700/60 px-2 py-1 rounded-md border border-slate-600/50\"\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\tmetadata.evaluationMode === \"unified\"\n\t\t\t\t\t\t\t\t\t\t? \"Unified mode: All files evaluated together for cross-file analysis\"\n\t\t\t\t\t\t\t\t\t\t: \"Independent mode: Each file evaluated separately\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{metadata.evaluationMode}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n\t\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tonDelete();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n\t\t\t\t\t\t\ttitle=\"Delete evaluation\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Share Report Card - Prominent Display */}\n\t\t\t{shareUrl && (\n\t\t\t\t<div className=\"glass-card p-4 border border-indigo-500/30\">\n\t\t\t\t\t<div className=\"flex items-start gap-3\">\n\t\t\t\t\t\t<div className=\"w-8 h-8 bg-indigo-600/30 rounded-lg flex items-center justify-center shrink-0\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-indigo-400\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex-1 min-w-0\">\n\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-slate-200 mb-1\">\n\t\t\t\t\t\t\t\tShare this report\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<code className=\"text-xs text-slate-300 bg-slate-900/50 px-2 py-1 rounded truncate flex-1 block overflow-hidden\">\n\t\t\t\t\t\t\t\t\t{shareUrl}\n\t\t\t\t\t\t\t\t</code>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={handleCopyLink}\n\t\t\t\t\t\t\t\t\tclassName=\"shrink-0 px-3 py-1.5 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-500 rounded-lg transition-colors flex items-center gap-1.5\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{copied ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M5 13l4 4L19 7\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<span>Copied!</span>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<span>Copy Link</span>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Context Score - Prominent Display */}\n\t\t\t{metadata.contextScore && (\n\t\t\t\t<ContextScoreCard contextScore={metadata.contextScore} />\n\t\t\t)}\n\n\t\t\t{/* Project Context */}\n\t\t\t{metadata.projectContext && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t<span className=\"w-6 h-6 bg-indigo-600 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-white\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tProject Context\n\t\t\t\t\t\t<span className=\"text-xs font-normal text-slate-400 ml-2\">\n\t\t\t\t\t\t\t(auto-detected)\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tLanguages\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.languages}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tFrameworks\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.frameworks}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tArchitecture\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.architecture}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tPatterns\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.patterns}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Raw Context Toggle */}\n\t\t\t\t\t{metadata.projectContext.raw && (\n\t\t\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => setShowRawContext(!showRawContext)}\n\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-2 text-xs text-slate-400 hover:text-slate-200 transition-colors\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName={`w-3 h-3 transition-transform ${showRawContext ? \"rotate-90\" : \"\"}`}\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 5l7 7-7 7\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{showRawContext ? \"Hide\" : \"Show\"} raw context\n\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t{showRawContext && (\n\t\t\t\t\t\t\t\t<div className=\"mt-2 bg-slate-900/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t\t\t<pre className=\"text-xs text-slate-300 whitespace-pre-wrap font-mono overflow-x-auto\">\n\t\t\t\t\t\t\t\t\t\t{metadata.projectContext.raw}\n\t\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{metadata.contextIdentificationCostUsd !== undefined &&\n\t\t\t\t\t\tmetadata.contextIdentificationDurationMs !== undefined && (\n\t\t\t\t\t\t\t<div className=\"mt-3 pt-3 border-t border-slate-700/50 flex items-center gap-4 text-xs text-slate-400\">\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\tContext analysis:{\" \"}\n\t\t\t\t\t\t\t\t\t{formatCost(metadata.contextIdentificationCostUsd)}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{formatDuration(metadata.contextIdentificationDurationMs)}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Context Files */}\n\t\t\t{hasContextFiles && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tClaude Code\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3\">\n\t\t\t\t\t\t{/* AGENTS.md Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tAGENTS.md\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{agentsMdCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{agentsMdCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedAgentsMdPaths.map((path, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-slate-400 flex items-start gap-1.5\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-0.5\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{path}</span>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setContextFilesModalType(\"agents\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Browse</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Claude Code Card (CLAUDE.md + Rules combined) */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tCLAUDE.md + Rules\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{claudeCodeCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{claudeCodeCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedClaudeCodePaths.map((path, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-slate-400 flex items-start gap-1.5\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-0.5\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{path}</span>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setContextFilesModalType(\"claude-code\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Browse</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Github Copilot Instructions Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tCopilot Instructions\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{copilotInstructionsCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{copilotInstructionsCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedCopilotInstructionsPaths.map((path, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-slate-400 flex items-start gap-1.5\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-0.5\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{path}</span>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setContextFilesModalType(\"copilot\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Browse</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Skills Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tSkills\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{skillsCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{skillsCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1.5 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedSkills.map((skill, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li key={index} className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-300 font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{skill.name}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 ml-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t({skill.directory})\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t{skill.description && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-slate-500 mt-0.5 truncate\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={skill.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{skill.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setShowSkillsModal(true)}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Display all</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Linked Docs Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tLinked Docs\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{linkedDocsCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{linkedDocsCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1.5 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedLinkedDocs.map((doc, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li key={index} className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-slate-300 font-medium break-all\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{doc.path}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-slate-500 text-xs mt-0.5\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tfrom {doc.linkedFrom}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{doc.summary && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-slate-500 mt-0.5 line-clamp-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={doc.summary}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{doc.summary}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setShowLinkedDocsModal(true)}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Display all</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Main Stats Grid */}\n\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n\t\t\t\t<StatCard\n\t\t\t\t\tlabel=\"Total Files\"\n\t\t\t\t\tvalue={metadata.totalFiles}\n\t\t\t\t\ticon={\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"h-8 w-8\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t}\n\t\t\t\t\ttooltip={\n\t\t\t\t\t\tsortedFiles.length > 0 && (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide mb-2\">\n\t\t\t\t\t\t\t\t\tFiles Evaluated\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<ul className=\"space-y-1\">\n\t\t\t\t\t\t\t\t\t{sortedFiles.map((file, index) => (\n\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-sm text-slate-300 flex items-start gap-2\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-1\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{file}</span>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<StatCard\n\t\t\t\t\tlabel=\"Total Issues\"\n\t\t\t\t\tvalue={totalIssues}\n\t\t\t\t\ticon={\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"h-8 w-8\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<StatCard label=\"Per-File Issues\" value={perFileIssues} />\n\t\t\t\t<StatCard label=\"Cross-File Issues\" value={crossFileIssues} />\n\t\t\t</div>\n\n\t\t\t{/* Severity & Issue Type Breakdown - Side by Side */}\n\t\t\t{(highCount > 0 ||\n\t\t\t\tmediumCount > 0 ||\n\t\t\t\tlowCount > 0 ||\n\t\t\t\t(actualErrorCount ?? 0) > 0 ||\n\t\t\t\t(actualSuggestionCount ?? 0) > 0) && (\n\t\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n\t\t\t\t\t{/* Severity Breakdown */}\n\t\t\t\t\t{(highCount > 0 || mediumCount > 0 || lowCount > 0) && (\n\t\t\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\tSeverity Breakdown\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-3 gap-3\">\n\t\t\t\t\t\t\t\t{highCount > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover stat-card-high rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"severity-dot severity-dot-high w-4 h-4\" />\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tHigh\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-orange-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{highCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{mediumCount > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover stat-card-medium rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"severity-dot severity-dot-medium w-4 h-4\" />\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tMedium\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-yellow-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{mediumCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{lowCount > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover stat-card-low rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"severity-dot severity-dot-low w-4 h-4\" />\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tLow\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{lowCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Issue Type Breakdown */}\n\t\t\t\t\t{((actualErrorCount ?? 0) > 0 ||\n\t\t\t\t\t\t(actualSuggestionCount ?? 0) > 0) && (\n\t\t\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M4 6h16M4 12h16M4 18h7\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\tIssue Type Breakdown\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-3\">\n\t\t\t\t\t\t\t\t{(actualErrorCount ?? 0) > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-red-400\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tErrors\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{actualErrorCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tProblems to fix\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{(actualSuggestionCount ?? 0) > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-indigo-400\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tSuggestions\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{actualSuggestionCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tOpportunities to improve\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Curated Issues Breakdown - Dual Curation */}\n\t\t\t{curation && (curatedCount ?? 0) > 0 && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M13 10V3L4 14h7v7l9-11h-7z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tCurated Issues Breakdown\n\t\t\t\t\t\t<span className=\"text-xs font-normal text-slate-400 ml-2\">\n\t\t\t\t\t\t\t(AI-selected high-impact issues)\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n\t\t\t\t\t\t{/* Curated Errors */}\n\t\t\t\t\t\t{curation.errors && (\n\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-red-400\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\tTop Errors\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t{curation.errors.curatedIssues.length}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\tfrom {curation.errors.summary.totalIssuesReviewed}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\treviewed\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* Curated Suggestions */}\n\t\t\t\t\t\t{curation.suggestions && (\n\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-indigo-400\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\tTop Suggestions\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t{curation.suggestions.curatedIssues.length}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\tfrom {curation.suggestions.summary.totalIssuesReviewed}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\treviewed\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Activity Log - Collapsible */}\n\t\t\t{evaluationLogs && evaluationLogs.length > 0 && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={() => setShowActivityLog(!showActivityLog)}\n\t\t\t\t\t\tclassName=\"w-full flex items-center justify-between text-left\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 flex items-center gap-2\">\n\t\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\tActivity Log\n\t\t\t\t\t\t\t<span className=\"text-xs font-normal text-slate-400 ml-2\">\n\t\t\t\t\t\t\t\t({evaluationLogs.length} entries)\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName={`w-5 h-5 text-slate-400 transition-transform ${showActivityLog ? \"rotate-180\" : \"\"}`}\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M19 9l-7 7-7-7\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t{showActivityLog && (\n\t\t\t\t\t\t<div className=\"mt-4 bg-slate-900/50 rounded-lg p-4 max-h-64 overflow-y-auto custom-scrollbar border border-slate-700/30\">\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t{evaluationLogs\n\t\t\t\t\t\t\t\t\t.slice()\n\t\t\t\t\t\t\t\t\t.reverse()\n\t\t\t\t\t\t\t\t\t.map((log, index) => (\n\t\t\t\t\t\t\t\t\t\t<div key={index} className=\"flex items-start gap-3 text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 shrink-0 font-mono\">\n\t\t\t\t\t\t\t\t\t\t\t\t{log.timestamp instanceof Date\n\t\t\t\t\t\t\t\t\t\t\t\t\t? log.timestamp.toLocaleTimeString()\n\t\t\t\t\t\t\t\t\t\t\t\t\t: new Date(log.timestamp).toLocaleTimeString()}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"success\" ? \"text-green-400\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"error\" ? \"text-red-400\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"warning\" ? \"text-yellow-400\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"info\" ? \"text-slate-300\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{log.message}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Skills Browser Modal */}\n\t\t\t<SkillsBrowserModal\n\t\t\t\tisOpen={showSkillsModal}\n\t\t\t\tonClose={() => setShowSkillsModal(false)}\n\t\t\t\tskills={skills}\n\t\t\t/>\n\n\t\t\t{/* Context Files Browser Modal */}\n\t\t\t<ContextFilesBrowserModal\n\t\t\t\tisOpen={contextFilesModalType !== null}\n\t\t\t\tonClose={() => setContextFilesModalType(null)}\n\t\t\t\tcontextFiles={contextFiles}\n\t\t\t\tfilterType={contextFilesModalType ?? undefined}\n\t\t\t/>\n\n\t\t\t{/* Linked Docs Browser Modal */}\n\t\t\t<LinkedDocsBrowserModal\n\t\t\t\tisOpen={showLinkedDocsModal}\n\t\t\t\tonClose={() => setShowLinkedDocsModal(false)}\n\t\t\t\tlinkedDocs={linkedDocs}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","structuredPatch":[{"oldStart":35,"oldLines":6,"newStart":35,"newLines":7,"lines":["   curatedCount?: number;","   evaluationId?: string;","   onDelete?: () => void;","+  onReRun?: (provider: ProviderName) => void;","   curation?: {","     errors?: {","       curatedIssues: ICuratedIssue[];"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"662dacea-b8df-46c3-8978-f350062cacb6"}
{"parentUuid":"de7dd123-9f20-4cf4-bfb0-4ccf02ddc764","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_0192Dd33q35T2jZFPLfPBAje","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_016ndffKycFdEiuTnsNATbJo","name":"Edit","input":{"replace_all":false,"file_path":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx","old_string":"import { ContextScoreCard } from \"./summary/ContextScoreCard\";\n\n// Log entry type for activity logs","new_string":"import { ContextScoreCard } from \"./summary/ContextScoreCard\";\n\n/** Available AI providers */\nconst PROVIDERS: { name: ProviderName; displayName: string }[] = [\n\t{ name: \"claude\", displayName: \"Claude Code\" },\n\t{ name: \"codex\", displayName: \"OpenAI Codex\" },\n\t{ name: \"opencode\", displayName: \"OpenCode\" },\n\t{ name: \"cursor\", displayName: \"Cursor Agent\" },\n\t{ name: \"github-copilot\", displayName: \"GitHub Copilot\" },\n];\n\n// Log entry type for activity logs"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":223,"cache_read_input_tokens":80996,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":223},"output_tokens":24,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66LnRwWeNManjBX95nY","type":"assistant","uuid":"71f79022-fd4e-4af7-a0de-86828d71d250","timestamp":"2026-02-13T12:47:17.206Z"}
{"parentUuid":"71f79022-fd4e-4af7-a0de-86828d71d250","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_016ndffKycFdEiuTnsNATbJo","toolUseID":"toolu_016ndffKycFdEiuTnsNATbJo","timestamp":"2026-02-13T12:47:22.226Z","uuid":"afb60336-4dc1-41c9-b59f-0d95c9ab92a1"}
{"parentUuid":"71f79022-fd4e-4af7-a0de-86828d71d250","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_016ndffKycFdEiuTnsNATbJo","type":"tool_result","content":"The file /Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx has been updated successfully."}]},"uuid":"b23584e0-d784-49a8-a996-1acb513577a3","timestamp":"2026-02-13T12:47:22.225Z","toolUseResult":{"filePath":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx","oldString":"import { ContextScoreCard } from \"./summary/ContextScoreCard\";\n\n// Log entry type for activity logs","newString":"import { ContextScoreCard } from \"./summary/ContextScoreCard\";\n\n/** Available AI providers */\nconst PROVIDERS: { name: ProviderName; displayName: string }[] = [\n\t{ name: \"claude\", displayName: \"Claude Code\" },\n\t{ name: \"codex\", displayName: \"OpenAI Codex\" },\n\t{ name: \"opencode\", displayName: \"OpenCode\" },\n\t{ name: \"cursor\", displayName: \"Cursor Agent\" },\n\t{ name: \"github-copilot\", displayName: \"GitHub Copilot\" },\n];\n\n// Log entry type for activity logs","originalFile":"import React, { useState } from \"react\";\nimport { useFeatureFlags } from \"../contexts/FeatureFlagContext\";\nimport type { ProviderName } from \"../hooks/useEvaluationApi\";\nimport { extractRepoName, formatCost, formatDuration } from \"../lib/formatters\";\nimport type {\n\tICuratedIssue,\n\tICurationSummary,\n\tMetadata,\n} from \"../types/evaluation\";\nimport { StatCard } from \"./shared\";\nimport { ContextFilesBrowserModal } from \"./shared/ContextFilesBrowserModal\";\nimport { LinkedDocsBrowserModal } from \"./shared/LinkedDocsBrowserModal\";\nimport { SkillsBrowserModal } from \"./shared/SkillsBrowserModal\";\nimport { ContextScoreCard } from \"./summary/ContextScoreCard\";\n\n// Log entry type for activity logs\ninterface LogEntry {\n\ttimestamp: Date;\n\ttype: string;\n\tmessage: string;\n}\n\ninterface SummaryProps {\n\tmetadata: Metadata;\n\trepositoryUrl?: string | null;\n\tactualIssueCount?: number;\n\tactualPerFileIssueCount?: number;\n\tactualCrossFileIssueCount?: number;\n\tactualHighCount?: number;\n\tactualMediumCount?: number;\n\tactualLowCount?: number;\n\tactualErrorCount?: number;\n\tactualSuggestionCount?: number;\n\tcurationSummary?: ICurationSummary | null;\n\tcuratedCount?: number;\n\tevaluationId?: string;\n\tonDelete?: () => void;\n\tonReRun?: (provider: ProviderName) => void;\n\tcuration?: {\n\t\terrors?: {\n\t\t\tcuratedIssues: ICuratedIssue[];\n\t\t\tsummary: ICurationSummary;\n\t\t};\n\t\tsuggestions?: {\n\t\t\tcuratedIssues: ICuratedIssue[];\n\t\t\tsummary: ICurationSummary;\n\t\t};\n\t};\n\tevaluationLogs?: LogEntry[];\n}\n\nexport const Summary: React.FC<SummaryProps> = ({\n\tmetadata,\n\trepositoryUrl,\n\tactualIssueCount,\n\tactualPerFileIssueCount,\n\tactualCrossFileIssueCount,\n\tactualHighCount,\n\tactualMediumCount,\n\tactualLowCount,\n\tactualErrorCount,\n\tactualSuggestionCount,\n\tcurationSummary: _curationSummary,\n\tcuratedCount,\n\tevaluationId,\n\tonDelete,\n\tcuration,\n\tevaluationLogs,\n}) => {\n\tconst { cloudMode } = useFeatureFlags();\n\tconst [showRawContext, setShowRawContext] = useState(false);\n\tconst [copied, setCopied] = useState(false);\n\tconst [showSkillsModal, setShowSkillsModal] = useState(false);\n\tconst [showLinkedDocsModal, setShowLinkedDocsModal] = useState(false);\n\tconst [contextFilesModalType, setContextFilesModalType] = useState<\n\t\t\"agents\" | \"claude\" | \"copilot\" | \"rules\" | \"claude-code\" | null\n\t>(null);\n\tconst [showActivityLog, setShowActivityLog] = useState(false);\n\tconst formattedDate = new Date(metadata.generatedAt).toLocaleString();\n\tconst shareUrl = evaluationId\n\t\t? `${window.location.origin}/evaluation/${evaluationId}`\n\t\t: null;\n\n\t// Sort files alphabetically by directory hierarchy\n\tconst sortedFiles = metadata.filesEvaluated\n\t\t? [...metadata.filesEvaluated].sort((a, b) => a.localeCompare(b))\n\t\t: [];\n\n\tconst handleCopyLink = () => {\n\t\tif (evaluationId) {\n\t\t\tconst shareUrl = `${window.location.origin}/evaluation/${evaluationId}`;\n\t\t\tnavigator.clipboard.writeText(shareUrl).then(() => {\n\t\t\t\tsetCopied(true);\n\t\t\t\tsetTimeout(() => setCopied(false), 2000);\n\t\t\t});\n\t\t}\n\t};\n\n\t// Use actual counts if provided, otherwise fall back to metadata\n\tconst totalIssues = actualIssueCount ?? metadata.totalIssues ?? 0;\n\tconst perFileIssues = actualPerFileIssueCount ?? metadata.perFileIssues ?? 0;\n\tconst crossFileIssues =\n\t\tactualCrossFileIssueCount ?? metadata.crossFileIssues ?? 0;\n\tconst highCount = actualHighCount ?? metadata.highCount ?? 0;\n\tconst mediumCount = actualMediumCount ?? metadata.mediumCount ?? 0;\n\tconst lowCount = actualLowCount ?? metadata.lowCount ?? 0;\n\n\t// Context files counting\n\tconst agentsFilePaths = metadata.projectContext?.agentsFilePaths ?? [];\n\tconst contextFilesFromApi = metadata.projectContext?.contextFiles ?? [];\n\n\t// Create fallback context files from agentsFilePaths for backward compatibility\n\t// This allows the browser modal to work with older evaluations that don't have contextFiles\n\tconst contextFiles =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t: agentsFilePaths.map((path) => {\n\t\t\t\t\tconst lowerPath = path.toLowerCase();\n\t\t\t\t\tlet type: \"agents\" | \"claude\" | \"copilot\" = \"agents\";\n\t\t\t\t\tif (lowerPath.includes(\"claude\")) {\n\t\t\t\t\t\ttype = \"claude\";\n\t\t\t\t\t} else if (lowerPath.includes(\"copilot\")) {\n\t\t\t\t\t\ttype = \"copilot\";\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tpath,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tcontent: \"\", // No content available for old evaluations\n\t\t\t\t\t\tsummary: \"Re-run evaluation to load content and summary.\",\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t// Use contextFiles if available, otherwise fall back to agentsFilePaths for backward compatibility\n\tconst agentsMdPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t\t\t.filter((f) => f.type === \"agents\")\n\t\t\t\t\t.map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) => p.toLowerCase().includes(\"agents\"));\n\tconst claudeMdPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t\t\t.filter((f) => f.type === \"claude\")\n\t\t\t\t\t.map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) => p.toLowerCase().includes(\"claude\"));\n\tconst rulesPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi.filter((f) => f.type === \"rules\").map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) => p.includes(\".claude/rules/\"));\n\tconst copilotInstructionsPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t\t\t.filter((f) => f.type === \"copilot\")\n\t\t\t\t\t.map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) =>\n\t\t\t\t\tp.toLowerCase().includes(\"copilot-instructions\"),\n\t\t\t\t);\n\tconst agentsMdCount = agentsMdPaths.length;\n\tconst claudeMdCount = claudeMdPaths.length;\n\tconst rulesCount = rulesPaths.length;\n\tconst copilotInstructionsCount = copilotInstructionsPaths.length;\n\t// Claude Code combines CLAUDE.md and .claude/rules files\n\tconst claudeCodeCount = claudeMdCount + rulesCount;\n\tconst skills = metadata.projectContext?.skills ?? [];\n\tconst skillsCount = skills.length;\n\tconst linkedDocs = metadata.projectContext?.linkedDocs ?? [];\n\tconst linkedDocsCount = linkedDocs.length;\n\n\t// Sort paths, skills, and linked docs alphabetically for display\n\tconst sortedAgentsMdPaths = [...agentsMdPaths].sort((a, b) =>\n\t\ta.localeCompare(b),\n\t);\n\t// Combined Claude Code paths (CLAUDE.md + rules)\n\tconst sortedClaudeCodePaths = [...claudeMdPaths, ...rulesPaths].sort((a, b) =>\n\t\ta.localeCompare(b),\n\t);\n\tconst sortedCopilotInstructionsPaths = [...copilotInstructionsPaths].sort(\n\t\t(a, b) => a.localeCompare(b),\n\t);\n\tconst sortedSkills = [...skills].sort((a, b) => a.name.localeCompare(b.name));\n\tconst sortedLinkedDocs = [...linkedDocs].sort((a, b) =>\n\t\ta.path.localeCompare(b.path),\n\t);\n\tconst hasContextFiles =\n\t\tagentsMdCount > 0 ||\n\t\tclaudeCodeCount > 0 ||\n\t\tcopilotInstructionsCount > 0 ||\n\t\tskillsCount > 0 ||\n\t\tlinkedDocsCount > 0;\n\n\treturn (\n\t\t<div className=\"space-y-4 animate-fade-in\">\n\t\t\t{/* Header */}\n\t\t\t<div className=\"glass-card border border-indigo-500/30 p-4\">\n\t\t\t\t<div className=\"flex items-center justify-between py-3\">\n\t\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t\t{/* Repository Name - Prominent Display */}\n\t\t\t\t\t\t{repositoryUrl && (\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref={repositoryUrl}\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-2 hover:opacity-80 transition-opacity group\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"w-8 h-8 bg-slate-700/60 rounded-lg flex items-center justify-center border border-slate-600/50 group-hover:bg-purple-700/60 transition-colors\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-slate-300\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z\"\n\t\t\t\t\t\t\t\t\t\t\t\tclipRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<span className=\"text-xl md:text-2xl font-bold text-slate-100 group-hover:underline\">\n\t\t\t\t\t\t\t\t\t\t{extractRepoName(repositoryUrl)}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-400\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t<div className=\"w-6 h-6 bg-slate-700/60 rounded-md flex items-center justify-center border border-slate-600/50\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-4 w-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path d=\"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z\" />\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\td=\"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z\"\n\t\t\t\t\t\t\t\t\t\tclipRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h2 className=\"text-base md:text-lg font-semibold text-slate-100\">\n\t\t\t\t\t\t\t\tEvaluation Summary\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex flex-wrap items-center gap-2 text-slate-300 text-xs\">\n\t\t\t\t\t\t\t<span className=\"flex items-center gap-1 bg-slate-700/60 px-2 py-1 rounded-md border border-slate-600/50\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{formattedDate}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"flex items-center gap-1 bg-slate-700/60 px-2 py-1 rounded-md border border-slate-600/50\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{metadata.agent}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-1 bg-slate-700/60 px-2 py-1 rounded-md border border-slate-600/50\"\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\tmetadata.evaluationMode === \"unified\"\n\t\t\t\t\t\t\t\t\t\t? \"Unified mode: All files evaluated together for cross-file analysis\"\n\t\t\t\t\t\t\t\t\t\t: \"Independent mode: Each file evaluated separately\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{metadata.evaluationMode}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n\t\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tonDelete();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n\t\t\t\t\t\t\ttitle=\"Delete evaluation\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Share Report Card - Prominent Display */}\n\t\t\t{shareUrl && (\n\t\t\t\t<div className=\"glass-card p-4 border border-indigo-500/30\">\n\t\t\t\t\t<div className=\"flex items-start gap-3\">\n\t\t\t\t\t\t<div className=\"w-8 h-8 bg-indigo-600/30 rounded-lg flex items-center justify-center shrink-0\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-indigo-400\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex-1 min-w-0\">\n\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-slate-200 mb-1\">\n\t\t\t\t\t\t\t\tShare this report\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<code className=\"text-xs text-slate-300 bg-slate-900/50 px-2 py-1 rounded truncate flex-1 block overflow-hidden\">\n\t\t\t\t\t\t\t\t\t{shareUrl}\n\t\t\t\t\t\t\t\t</code>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={handleCopyLink}\n\t\t\t\t\t\t\t\t\tclassName=\"shrink-0 px-3 py-1.5 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-500 rounded-lg transition-colors flex items-center gap-1.5\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{copied ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M5 13l4 4L19 7\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<span>Copied!</span>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<span>Copy Link</span>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Context Score - Prominent Display */}\n\t\t\t{metadata.contextScore && (\n\t\t\t\t<ContextScoreCard contextScore={metadata.contextScore} />\n\t\t\t)}\n\n\t\t\t{/* Project Context */}\n\t\t\t{metadata.projectContext && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t<span className=\"w-6 h-6 bg-indigo-600 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-white\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tProject Context\n\t\t\t\t\t\t<span className=\"text-xs font-normal text-slate-400 ml-2\">\n\t\t\t\t\t\t\t(auto-detected)\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tLanguages\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.languages}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tFrameworks\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.frameworks}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tArchitecture\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.architecture}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tPatterns\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.patterns}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Raw Context Toggle */}\n\t\t\t\t\t{metadata.projectContext.raw && (\n\t\t\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => setShowRawContext(!showRawContext)}\n\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-2 text-xs text-slate-400 hover:text-slate-200 transition-colors\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName={`w-3 h-3 transition-transform ${showRawContext ? \"rotate-90\" : \"\"}`}\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 5l7 7-7 7\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{showRawContext ? \"Hide\" : \"Show\"} raw context\n\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t{showRawContext && (\n\t\t\t\t\t\t\t\t<div className=\"mt-2 bg-slate-900/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t\t\t<pre className=\"text-xs text-slate-300 whitespace-pre-wrap font-mono overflow-x-auto\">\n\t\t\t\t\t\t\t\t\t\t{metadata.projectContext.raw}\n\t\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{metadata.contextIdentificationCostUsd !== undefined &&\n\t\t\t\t\t\tmetadata.contextIdentificationDurationMs !== undefined && (\n\t\t\t\t\t\t\t<div className=\"mt-3 pt-3 border-t border-slate-700/50 flex items-center gap-4 text-xs text-slate-400\">\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\tContext analysis:{\" \"}\n\t\t\t\t\t\t\t\t\t{formatCost(metadata.contextIdentificationCostUsd)}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{formatDuration(metadata.contextIdentificationDurationMs)}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Context Files */}\n\t\t\t{hasContextFiles && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tClaude Code\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3\">\n\t\t\t\t\t\t{/* AGENTS.md Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tAGENTS.md\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{agentsMdCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{agentsMdCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedAgentsMdPaths.map((path, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-slate-400 flex items-start gap-1.5\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-0.5\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{path}</span>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setContextFilesModalType(\"agents\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Browse</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Claude Code Card (CLAUDE.md + Rules combined) */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tCLAUDE.md + Rules\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{claudeCodeCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{claudeCodeCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedClaudeCodePaths.map((path, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-slate-400 flex items-start gap-1.5\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-0.5\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{path}</span>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setContextFilesModalType(\"claude-code\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Browse</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Github Copilot Instructions Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tCopilot Instructions\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{copilotInstructionsCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{copilotInstructionsCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedCopilotInstructionsPaths.map((path, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-slate-400 flex items-start gap-1.5\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-0.5\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{path}</span>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setContextFilesModalType(\"copilot\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Browse</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Skills Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tSkills\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{skillsCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{skillsCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1.5 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedSkills.map((skill, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li key={index} className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-300 font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{skill.name}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 ml-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t({skill.directory})\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t{skill.description && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-slate-500 mt-0.5 truncate\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={skill.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{skill.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setShowSkillsModal(true)}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Display all</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Linked Docs Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tLinked Docs\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{linkedDocsCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{linkedDocsCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1.5 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedLinkedDocs.map((doc, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li key={index} className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-slate-300 font-medium break-all\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{doc.path}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-slate-500 text-xs mt-0.5\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tfrom {doc.linkedFrom}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{doc.summary && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-slate-500 mt-0.5 line-clamp-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={doc.summary}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{doc.summary}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setShowLinkedDocsModal(true)}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Display all</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Main Stats Grid */}\n\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n\t\t\t\t<StatCard\n\t\t\t\t\tlabel=\"Total Files\"\n\t\t\t\t\tvalue={metadata.totalFiles}\n\t\t\t\t\ticon={\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"h-8 w-8\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t}\n\t\t\t\t\ttooltip={\n\t\t\t\t\t\tsortedFiles.length > 0 && (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide mb-2\">\n\t\t\t\t\t\t\t\t\tFiles Evaluated\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<ul className=\"space-y-1\">\n\t\t\t\t\t\t\t\t\t{sortedFiles.map((file, index) => (\n\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-sm text-slate-300 flex items-start gap-2\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-1\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{file}</span>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<StatCard\n\t\t\t\t\tlabel=\"Total Issues\"\n\t\t\t\t\tvalue={totalIssues}\n\t\t\t\t\ticon={\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"h-8 w-8\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<StatCard label=\"Per-File Issues\" value={perFileIssues} />\n\t\t\t\t<StatCard label=\"Cross-File Issues\" value={crossFileIssues} />\n\t\t\t</div>\n\n\t\t\t{/* Severity & Issue Type Breakdown - Side by Side */}\n\t\t\t{(highCount > 0 ||\n\t\t\t\tmediumCount > 0 ||\n\t\t\t\tlowCount > 0 ||\n\t\t\t\t(actualErrorCount ?? 0) > 0 ||\n\t\t\t\t(actualSuggestionCount ?? 0) > 0) && (\n\t\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n\t\t\t\t\t{/* Severity Breakdown */}\n\t\t\t\t\t{(highCount > 0 || mediumCount > 0 || lowCount > 0) && (\n\t\t\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\tSeverity Breakdown\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-3 gap-3\">\n\t\t\t\t\t\t\t\t{highCount > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover stat-card-high rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"severity-dot severity-dot-high w-4 h-4\" />\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tHigh\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-orange-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{highCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{mediumCount > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover stat-card-medium rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"severity-dot severity-dot-medium w-4 h-4\" />\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tMedium\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-yellow-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{mediumCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{lowCount > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover stat-card-low rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"severity-dot severity-dot-low w-4 h-4\" />\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tLow\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{lowCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Issue Type Breakdown */}\n\t\t\t\t\t{((actualErrorCount ?? 0) > 0 ||\n\t\t\t\t\t\t(actualSuggestionCount ?? 0) > 0) && (\n\t\t\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M4 6h16M4 12h16M4 18h7\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\tIssue Type Breakdown\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-3\">\n\t\t\t\t\t\t\t\t{(actualErrorCount ?? 0) > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-red-400\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tErrors\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{actualErrorCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tProblems to fix\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{(actualSuggestionCount ?? 0) > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-indigo-400\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tSuggestions\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{actualSuggestionCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tOpportunities to improve\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Curated Issues Breakdown - Dual Curation */}\n\t\t\t{curation && (curatedCount ?? 0) > 0 && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M13 10V3L4 14h7v7l9-11h-7z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tCurated Issues Breakdown\n\t\t\t\t\t\t<span className=\"text-xs font-normal text-slate-400 ml-2\">\n\t\t\t\t\t\t\t(AI-selected high-impact issues)\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n\t\t\t\t\t\t{/* Curated Errors */}\n\t\t\t\t\t\t{curation.errors && (\n\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-red-400\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\tTop Errors\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t{curation.errors.curatedIssues.length}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\tfrom {curation.errors.summary.totalIssuesReviewed}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\treviewed\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* Curated Suggestions */}\n\t\t\t\t\t\t{curation.suggestions && (\n\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-indigo-400\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\tTop Suggestions\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t{curation.suggestions.curatedIssues.length}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\tfrom {curation.suggestions.summary.totalIssuesReviewed}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\treviewed\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Activity Log - Collapsible */}\n\t\t\t{evaluationLogs && evaluationLogs.length > 0 && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={() => setShowActivityLog(!showActivityLog)}\n\t\t\t\t\t\tclassName=\"w-full flex items-center justify-between text-left\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 flex items-center gap-2\">\n\t\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\tActivity Log\n\t\t\t\t\t\t\t<span className=\"text-xs font-normal text-slate-400 ml-2\">\n\t\t\t\t\t\t\t\t({evaluationLogs.length} entries)\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName={`w-5 h-5 text-slate-400 transition-transform ${showActivityLog ? \"rotate-180\" : \"\"}`}\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M19 9l-7 7-7-7\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t{showActivityLog && (\n\t\t\t\t\t\t<div className=\"mt-4 bg-slate-900/50 rounded-lg p-4 max-h-64 overflow-y-auto custom-scrollbar border border-slate-700/30\">\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t{evaluationLogs\n\t\t\t\t\t\t\t\t\t.slice()\n\t\t\t\t\t\t\t\t\t.reverse()\n\t\t\t\t\t\t\t\t\t.map((log, index) => (\n\t\t\t\t\t\t\t\t\t\t<div key={index} className=\"flex items-start gap-3 text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 shrink-0 font-mono\">\n\t\t\t\t\t\t\t\t\t\t\t\t{log.timestamp instanceof Date\n\t\t\t\t\t\t\t\t\t\t\t\t\t? log.timestamp.toLocaleTimeString()\n\t\t\t\t\t\t\t\t\t\t\t\t\t: new Date(log.timestamp).toLocaleTimeString()}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"success\" ? \"text-green-400\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"error\" ? \"text-red-400\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"warning\" ? \"text-yellow-400\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"info\" ? \"text-slate-300\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{log.message}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Skills Browser Modal */}\n\t\t\t<SkillsBrowserModal\n\t\t\t\tisOpen={showSkillsModal}\n\t\t\t\tonClose={() => setShowSkillsModal(false)}\n\t\t\t\tskills={skills}\n\t\t\t/>\n\n\t\t\t{/* Context Files Browser Modal */}\n\t\t\t<ContextFilesBrowserModal\n\t\t\t\tisOpen={contextFilesModalType !== null}\n\t\t\t\tonClose={() => setContextFilesModalType(null)}\n\t\t\t\tcontextFiles={contextFiles}\n\t\t\t\tfilterType={contextFilesModalType ?? undefined}\n\t\t\t/>\n\n\t\t\t{/* Linked Docs Browser Modal */}\n\t\t\t<LinkedDocsBrowserModal\n\t\t\t\tisOpen={showLinkedDocsModal}\n\t\t\t\tonClose={() => setShowLinkedDocsModal(false)}\n\t\t\t\tlinkedDocs={linkedDocs}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","structuredPatch":[{"oldStart":13,"oldLines":6,"newStart":13,"newLines":15,"lines":[" import { SkillsBrowserModal } from \"./shared/SkillsBrowserModal\";"," import { ContextScoreCard } from \"./summary/ContextScoreCard\";"," ","+/** Available AI providers */","+const PROVIDERS: { name: ProviderName; displayName: string }[] = [","+  { name: \"claude\", displayName: \"Claude Code\" },","+  { name: \"codex\", displayName: \"OpenAI Codex\" },","+  { name: \"opencode\", displayName: \"OpenCode\" },","+  { name: \"cursor\", displayName: \"Cursor Agent\" },","+  { name: \"github-copilot\", displayName: \"GitHub Copilot\" },","+];","+"," // Log entry type for activity logs"," interface LogEntry {","   timestamp: Date;"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"71f79022-fd4e-4af7-a0de-86828d71d250"}
{"parentUuid":"b23584e0-d784-49a8-a996-1acb513577a3","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01MVLWuoaJUfcZ4upGZ18UJ8","type":"message","role":"assistant","content":[{"type":"text","text":"Now update the destructured props to include `onReRun`:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":352,"cache_read_input_tokens":81219,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":352},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66MVxX6wgJiNdZqW2LN","type":"assistant","uuid":"16a5fb35-35ca-458a-abee-1a6e88e42328","timestamp":"2026-02-13T12:47:24.465Z"}
{"parentUuid":"16a5fb35-35ca-458a-abee-1a6e88e42328","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01MVLWuoaJUfcZ4upGZ18UJ8","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_011PWZgaN4y36gCiPgxhH6Z9","name":"Edit","input":{"replace_all":false,"file_path":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx","old_string":"\tevaluationId,\n\tonDelete,\n\tcuration,\n\tevaluationLogs,\n}) => {\n\tconst { cloudMode } = useFeatureFlags();","new_string":"\tevaluationId,\n\tonDelete,\n\tonReRun,\n\tcuration,\n\tevaluationLogs,\n}) => {\n\tconst { cloudMode } = useFeatureFlags();"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":352,"cache_read_input_tokens":81219,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":352},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66MVxX6wgJiNdZqW2LN","type":"assistant","uuid":"0b9a067c-f0b7-47c6-a8d0-32554c245348","timestamp":"2026-02-13T12:47:26.356Z"}
{"parentUuid":"0b9a067c-f0b7-47c6-a8d0-32554c245348","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_011PWZgaN4y36gCiPgxhH6Z9","toolUseID":"toolu_011PWZgaN4y36gCiPgxhH6Z9","timestamp":"2026-02-13T12:47:31.392Z","uuid":"c249e625-3ceb-4485-96d7-e068fb17b324"}
{"parentUuid":"0b9a067c-f0b7-47c6-a8d0-32554c245348","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_011PWZgaN4y36gCiPgxhH6Z9","type":"tool_result","content":"The file /Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx has been updated successfully."}]},"uuid":"6ac7ee5f-0e7b-416b-9cde-86c5a03398ca","timestamp":"2026-02-13T12:47:31.388Z","toolUseResult":{"filePath":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx","oldString":"\tevaluationId,\n\tonDelete,\n\tcuration,\n\tevaluationLogs,\n}) => {\n\tconst { cloudMode } = useFeatureFlags();","newString":"\tevaluationId,\n\tonDelete,\n\tonReRun,\n\tcuration,\n\tevaluationLogs,\n}) => {\n\tconst { cloudMode } = useFeatureFlags();","originalFile":"import React, { useState } from \"react\";\nimport { useFeatureFlags } from \"../contexts/FeatureFlagContext\";\nimport type { ProviderName } from \"../hooks/useEvaluationApi\";\nimport { extractRepoName, formatCost, formatDuration } from \"../lib/formatters\";\nimport type {\n\tICuratedIssue,\n\tICurationSummary,\n\tMetadata,\n} from \"../types/evaluation\";\nimport { StatCard } from \"./shared\";\nimport { ContextFilesBrowserModal } from \"./shared/ContextFilesBrowserModal\";\nimport { LinkedDocsBrowserModal } from \"./shared/LinkedDocsBrowserModal\";\nimport { SkillsBrowserModal } from \"./shared/SkillsBrowserModal\";\nimport { ContextScoreCard } from \"./summary/ContextScoreCard\";\n\n/** Available AI providers */\nconst PROVIDERS: { name: ProviderName; displayName: string }[] = [\n\t{ name: \"claude\", displayName: \"Claude Code\" },\n\t{ name: \"codex\", displayName: \"OpenAI Codex\" },\n\t{ name: \"opencode\", displayName: \"OpenCode\" },\n\t{ name: \"cursor\", displayName: \"Cursor Agent\" },\n\t{ name: \"github-copilot\", displayName: \"GitHub Copilot\" },\n];\n\n// Log entry type for activity logs\ninterface LogEntry {\n\ttimestamp: Date;\n\ttype: string;\n\tmessage: string;\n}\n\ninterface SummaryProps {\n\tmetadata: Metadata;\n\trepositoryUrl?: string | null;\n\tactualIssueCount?: number;\n\tactualPerFileIssueCount?: number;\n\tactualCrossFileIssueCount?: number;\n\tactualHighCount?: number;\n\tactualMediumCount?: number;\n\tactualLowCount?: number;\n\tactualErrorCount?: number;\n\tactualSuggestionCount?: number;\n\tcurationSummary?: ICurationSummary | null;\n\tcuratedCount?: number;\n\tevaluationId?: string;\n\tonDelete?: () => void;\n\tonReRun?: (provider: ProviderName) => void;\n\tcuration?: {\n\t\terrors?: {\n\t\t\tcuratedIssues: ICuratedIssue[];\n\t\t\tsummary: ICurationSummary;\n\t\t};\n\t\tsuggestions?: {\n\t\t\tcuratedIssues: ICuratedIssue[];\n\t\t\tsummary: ICurationSummary;\n\t\t};\n\t};\n\tevaluationLogs?: LogEntry[];\n}\n\nexport const Summary: React.FC<SummaryProps> = ({\n\tmetadata,\n\trepositoryUrl,\n\tactualIssueCount,\n\tactualPerFileIssueCount,\n\tactualCrossFileIssueCount,\n\tactualHighCount,\n\tactualMediumCount,\n\tactualLowCount,\n\tactualErrorCount,\n\tactualSuggestionCount,\n\tcurationSummary: _curationSummary,\n\tcuratedCount,\n\tevaluationId,\n\tonDelete,\n\tcuration,\n\tevaluationLogs,\n}) => {\n\tconst { cloudMode } = useFeatureFlags();\n\tconst [showRawContext, setShowRawContext] = useState(false);\n\tconst [copied, setCopied] = useState(false);\n\tconst [showSkillsModal, setShowSkillsModal] = useState(false);\n\tconst [showLinkedDocsModal, setShowLinkedDocsModal] = useState(false);\n\tconst [contextFilesModalType, setContextFilesModalType] = useState<\n\t\t\"agents\" | \"claude\" | \"copilot\" | \"rules\" | \"claude-code\" | null\n\t>(null);\n\tconst [showActivityLog, setShowActivityLog] = useState(false);\n\tconst formattedDate = new Date(metadata.generatedAt).toLocaleString();\n\tconst shareUrl = evaluationId\n\t\t? `${window.location.origin}/evaluation/${evaluationId}`\n\t\t: null;\n\n\t// Sort files alphabetically by directory hierarchy\n\tconst sortedFiles = metadata.filesEvaluated\n\t\t? [...metadata.filesEvaluated].sort((a, b) => a.localeCompare(b))\n\t\t: [];\n\n\tconst handleCopyLink = () => {\n\t\tif (evaluationId) {\n\t\t\tconst shareUrl = `${window.location.origin}/evaluation/${evaluationId}`;\n\t\t\tnavigator.clipboard.writeText(shareUrl).then(() => {\n\t\t\t\tsetCopied(true);\n\t\t\t\tsetTimeout(() => setCopied(false), 2000);\n\t\t\t});\n\t\t}\n\t};\n\n\t// Use actual counts if provided, otherwise fall back to metadata\n\tconst totalIssues = actualIssueCount ?? metadata.totalIssues ?? 0;\n\tconst perFileIssues = actualPerFileIssueCount ?? metadata.perFileIssues ?? 0;\n\tconst crossFileIssues =\n\t\tactualCrossFileIssueCount ?? metadata.crossFileIssues ?? 0;\n\tconst highCount = actualHighCount ?? metadata.highCount ?? 0;\n\tconst mediumCount = actualMediumCount ?? metadata.mediumCount ?? 0;\n\tconst lowCount = actualLowCount ?? metadata.lowCount ?? 0;\n\n\t// Context files counting\n\tconst agentsFilePaths = metadata.projectContext?.agentsFilePaths ?? [];\n\tconst contextFilesFromApi = metadata.projectContext?.contextFiles ?? [];\n\n\t// Create fallback context files from agentsFilePaths for backward compatibility\n\t// This allows the browser modal to work with older evaluations that don't have contextFiles\n\tconst contextFiles =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t: agentsFilePaths.map((path) => {\n\t\t\t\t\tconst lowerPath = path.toLowerCase();\n\t\t\t\t\tlet type: \"agents\" | \"claude\" | \"copilot\" = \"agents\";\n\t\t\t\t\tif (lowerPath.includes(\"claude\")) {\n\t\t\t\t\t\ttype = \"claude\";\n\t\t\t\t\t} else if (lowerPath.includes(\"copilot\")) {\n\t\t\t\t\t\ttype = \"copilot\";\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tpath,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tcontent: \"\", // No content available for old evaluations\n\t\t\t\t\t\tsummary: \"Re-run evaluation to load content and summary.\",\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t// Use contextFiles if available, otherwise fall back to agentsFilePaths for backward compatibility\n\tconst agentsMdPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t\t\t.filter((f) => f.type === \"agents\")\n\t\t\t\t\t.map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) => p.toLowerCase().includes(\"agents\"));\n\tconst claudeMdPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t\t\t.filter((f) => f.type === \"claude\")\n\t\t\t\t\t.map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) => p.toLowerCase().includes(\"claude\"));\n\tconst rulesPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi.filter((f) => f.type === \"rules\").map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) => p.includes(\".claude/rules/\"));\n\tconst copilotInstructionsPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t\t\t.filter((f) => f.type === \"copilot\")\n\t\t\t\t\t.map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) =>\n\t\t\t\t\tp.toLowerCase().includes(\"copilot-instructions\"),\n\t\t\t\t);\n\tconst agentsMdCount = agentsMdPaths.length;\n\tconst claudeMdCount = claudeMdPaths.length;\n\tconst rulesCount = rulesPaths.length;\n\tconst copilotInstructionsCount = copilotInstructionsPaths.length;\n\t// Claude Code combines CLAUDE.md and .claude/rules files\n\tconst claudeCodeCount = claudeMdCount + rulesCount;\n\tconst skills = metadata.projectContext?.skills ?? [];\n\tconst skillsCount = skills.length;\n\tconst linkedDocs = metadata.projectContext?.linkedDocs ?? [];\n\tconst linkedDocsCount = linkedDocs.length;\n\n\t// Sort paths, skills, and linked docs alphabetically for display\n\tconst sortedAgentsMdPaths = [...agentsMdPaths].sort((a, b) =>\n\t\ta.localeCompare(b),\n\t);\n\t// Combined Claude Code paths (CLAUDE.md + rules)\n\tconst sortedClaudeCodePaths = [...claudeMdPaths, ...rulesPaths].sort((a, b) =>\n\t\ta.localeCompare(b),\n\t);\n\tconst sortedCopilotInstructionsPaths = [...copilotInstructionsPaths].sort(\n\t\t(a, b) => a.localeCompare(b),\n\t);\n\tconst sortedSkills = [...skills].sort((a, b) => a.name.localeCompare(b.name));\n\tconst sortedLinkedDocs = [...linkedDocs].sort((a, b) =>\n\t\ta.path.localeCompare(b.path),\n\t);\n\tconst hasContextFiles =\n\t\tagentsMdCount > 0 ||\n\t\tclaudeCodeCount > 0 ||\n\t\tcopilotInstructionsCount > 0 ||\n\t\tskillsCount > 0 ||\n\t\tlinkedDocsCount > 0;\n\n\treturn (\n\t\t<div className=\"space-y-4 animate-fade-in\">\n\t\t\t{/* Header */}\n\t\t\t<div className=\"glass-card border border-indigo-500/30 p-4\">\n\t\t\t\t<div className=\"flex items-center justify-between py-3\">\n\t\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t\t{/* Repository Name - Prominent Display */}\n\t\t\t\t\t\t{repositoryUrl && (\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref={repositoryUrl}\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-2 hover:opacity-80 transition-opacity group\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"w-8 h-8 bg-slate-700/60 rounded-lg flex items-center justify-center border border-slate-600/50 group-hover:bg-purple-700/60 transition-colors\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-slate-300\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z\"\n\t\t\t\t\t\t\t\t\t\t\t\tclipRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<span className=\"text-xl md:text-2xl font-bold text-slate-100 group-hover:underline\">\n\t\t\t\t\t\t\t\t\t\t{extractRepoName(repositoryUrl)}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-400\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t<div className=\"w-6 h-6 bg-slate-700/60 rounded-md flex items-center justify-center border border-slate-600/50\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-4 w-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path d=\"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z\" />\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\td=\"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z\"\n\t\t\t\t\t\t\t\t\t\tclipRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h2 className=\"text-base md:text-lg font-semibold text-slate-100\">\n\t\t\t\t\t\t\t\tEvaluation Summary\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex flex-wrap items-center gap-2 text-slate-300 text-xs\">\n\t\t\t\t\t\t\t<span className=\"flex items-center gap-1 bg-slate-700/60 px-2 py-1 rounded-md border border-slate-600/50\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{formattedDate}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"flex items-center gap-1 bg-slate-700/60 px-2 py-1 rounded-md border border-slate-600/50\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{metadata.agent}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-1 bg-slate-700/60 px-2 py-1 rounded-md border border-slate-600/50\"\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\tmetadata.evaluationMode === \"unified\"\n\t\t\t\t\t\t\t\t\t\t? \"Unified mode: All files evaluated together for cross-file analysis\"\n\t\t\t\t\t\t\t\t\t\t: \"Independent mode: Each file evaluated separately\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{metadata.evaluationMode}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n\t\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tonDelete();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n\t\t\t\t\t\t\ttitle=\"Delete evaluation\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Share Report Card - Prominent Display */}\n\t\t\t{shareUrl && (\n\t\t\t\t<div className=\"glass-card p-4 border border-indigo-500/30\">\n\t\t\t\t\t<div className=\"flex items-start gap-3\">\n\t\t\t\t\t\t<div className=\"w-8 h-8 bg-indigo-600/30 rounded-lg flex items-center justify-center shrink-0\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-indigo-400\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex-1 min-w-0\">\n\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-slate-200 mb-1\">\n\t\t\t\t\t\t\t\tShare this report\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<code className=\"text-xs text-slate-300 bg-slate-900/50 px-2 py-1 rounded truncate flex-1 block overflow-hidden\">\n\t\t\t\t\t\t\t\t\t{shareUrl}\n\t\t\t\t\t\t\t\t</code>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={handleCopyLink}\n\t\t\t\t\t\t\t\t\tclassName=\"shrink-0 px-3 py-1.5 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-500 rounded-lg transition-colors flex items-center gap-1.5\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{copied ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M5 13l4 4L19 7\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<span>Copied!</span>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<span>Copy Link</span>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Context Score - Prominent Display */}\n\t\t\t{metadata.contextScore && (\n\t\t\t\t<ContextScoreCard contextScore={metadata.contextScore} />\n\t\t\t)}\n\n\t\t\t{/* Project Context */}\n\t\t\t{metadata.projectContext && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t<span className=\"w-6 h-6 bg-indigo-600 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-white\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tProject Context\n\t\t\t\t\t\t<span className=\"text-xs font-normal text-slate-400 ml-2\">\n\t\t\t\t\t\t\t(auto-detected)\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tLanguages\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.languages}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tFrameworks\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.frameworks}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tArchitecture\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.architecture}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tPatterns\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.patterns}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Raw Context Toggle */}\n\t\t\t\t\t{metadata.projectContext.raw && (\n\t\t\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => setShowRawContext(!showRawContext)}\n\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-2 text-xs text-slate-400 hover:text-slate-200 transition-colors\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName={`w-3 h-3 transition-transform ${showRawContext ? \"rotate-90\" : \"\"}`}\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 5l7 7-7 7\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{showRawContext ? \"Hide\" : \"Show\"} raw context\n\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t{showRawContext && (\n\t\t\t\t\t\t\t\t<div className=\"mt-2 bg-slate-900/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t\t\t<pre className=\"text-xs text-slate-300 whitespace-pre-wrap font-mono overflow-x-auto\">\n\t\t\t\t\t\t\t\t\t\t{metadata.projectContext.raw}\n\t\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{metadata.contextIdentificationCostUsd !== undefined &&\n\t\t\t\t\t\tmetadata.contextIdentificationDurationMs !== undefined && (\n\t\t\t\t\t\t\t<div className=\"mt-3 pt-3 border-t border-slate-700/50 flex items-center gap-4 text-xs text-slate-400\">\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\tContext analysis:{\" \"}\n\t\t\t\t\t\t\t\t\t{formatCost(metadata.contextIdentificationCostUsd)}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{formatDuration(metadata.contextIdentificationDurationMs)}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Context Files */}\n\t\t\t{hasContextFiles && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tClaude Code\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3\">\n\t\t\t\t\t\t{/* AGENTS.md Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tAGENTS.md\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{agentsMdCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{agentsMdCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedAgentsMdPaths.map((path, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-slate-400 flex items-start gap-1.5\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-0.5\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{path}</span>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setContextFilesModalType(\"agents\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Browse</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Claude Code Card (CLAUDE.md + Rules combined) */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tCLAUDE.md + Rules\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{claudeCodeCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{claudeCodeCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedClaudeCodePaths.map((path, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-slate-400 flex items-start gap-1.5\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-0.5\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{path}</span>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setContextFilesModalType(\"claude-code\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Browse</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Github Copilot Instructions Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tCopilot Instructions\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{copilotInstructionsCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{copilotInstructionsCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedCopilotInstructionsPaths.map((path, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-slate-400 flex items-start gap-1.5\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-0.5\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{path}</span>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setContextFilesModalType(\"copilot\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Browse</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Skills Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tSkills\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{skillsCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{skillsCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1.5 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedSkills.map((skill, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li key={index} className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-300 font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{skill.name}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 ml-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t({skill.directory})\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t{skill.description && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-slate-500 mt-0.5 truncate\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={skill.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{skill.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setShowSkillsModal(true)}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Display all</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Linked Docs Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tLinked Docs\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{linkedDocsCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{linkedDocsCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1.5 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedLinkedDocs.map((doc, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li key={index} className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-slate-300 font-medium break-all\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{doc.path}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-slate-500 text-xs mt-0.5\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tfrom {doc.linkedFrom}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{doc.summary && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-slate-500 mt-0.5 line-clamp-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={doc.summary}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{doc.summary}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setShowLinkedDocsModal(true)}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Display all</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Main Stats Grid */}\n\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n\t\t\t\t<StatCard\n\t\t\t\t\tlabel=\"Total Files\"\n\t\t\t\t\tvalue={metadata.totalFiles}\n\t\t\t\t\ticon={\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"h-8 w-8\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t}\n\t\t\t\t\ttooltip={\n\t\t\t\t\t\tsortedFiles.length > 0 && (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide mb-2\">\n\t\t\t\t\t\t\t\t\tFiles Evaluated\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<ul className=\"space-y-1\">\n\t\t\t\t\t\t\t\t\t{sortedFiles.map((file, index) => (\n\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-sm text-slate-300 flex items-start gap-2\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-1\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{file}</span>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<StatCard\n\t\t\t\t\tlabel=\"Total Issues\"\n\t\t\t\t\tvalue={totalIssues}\n\t\t\t\t\ticon={\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"h-8 w-8\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<StatCard label=\"Per-File Issues\" value={perFileIssues} />\n\t\t\t\t<StatCard label=\"Cross-File Issues\" value={crossFileIssues} />\n\t\t\t</div>\n\n\t\t\t{/* Severity & Issue Type Breakdown - Side by Side */}\n\t\t\t{(highCount > 0 ||\n\t\t\t\tmediumCount > 0 ||\n\t\t\t\tlowCount > 0 ||\n\t\t\t\t(actualErrorCount ?? 0) > 0 ||\n\t\t\t\t(actualSuggestionCount ?? 0) > 0) && (\n\t\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n\t\t\t\t\t{/* Severity Breakdown */}\n\t\t\t\t\t{(highCount > 0 || mediumCount > 0 || lowCount > 0) && (\n\t\t\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\tSeverity Breakdown\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-3 gap-3\">\n\t\t\t\t\t\t\t\t{highCount > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover stat-card-high rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"severity-dot severity-dot-high w-4 h-4\" />\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tHigh\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-orange-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{highCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{mediumCount > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover stat-card-medium rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"severity-dot severity-dot-medium w-4 h-4\" />\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tMedium\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-yellow-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{mediumCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{lowCount > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover stat-card-low rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"severity-dot severity-dot-low w-4 h-4\" />\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tLow\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{lowCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Issue Type Breakdown */}\n\t\t\t\t\t{((actualErrorCount ?? 0) > 0 ||\n\t\t\t\t\t\t(actualSuggestionCount ?? 0) > 0) && (\n\t\t\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M4 6h16M4 12h16M4 18h7\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\tIssue Type Breakdown\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-3\">\n\t\t\t\t\t\t\t\t{(actualErrorCount ?? 0) > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-red-400\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tErrors\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{actualErrorCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tProblems to fix\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{(actualSuggestionCount ?? 0) > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-indigo-400\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tSuggestions\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{actualSuggestionCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tOpportunities to improve\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Curated Issues Breakdown - Dual Curation */}\n\t\t\t{curation && (curatedCount ?? 0) > 0 && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M13 10V3L4 14h7v7l9-11h-7z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tCurated Issues Breakdown\n\t\t\t\t\t\t<span className=\"text-xs font-normal text-slate-400 ml-2\">\n\t\t\t\t\t\t\t(AI-selected high-impact issues)\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n\t\t\t\t\t\t{/* Curated Errors */}\n\t\t\t\t\t\t{curation.errors && (\n\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-red-400\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\tTop Errors\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t{curation.errors.curatedIssues.length}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\tfrom {curation.errors.summary.totalIssuesReviewed}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\treviewed\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* Curated Suggestions */}\n\t\t\t\t\t\t{curation.suggestions && (\n\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-indigo-400\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\tTop Suggestions\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t{curation.suggestions.curatedIssues.length}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\tfrom {curation.suggestions.summary.totalIssuesReviewed}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\treviewed\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Activity Log - Collapsible */}\n\t\t\t{evaluationLogs && evaluationLogs.length > 0 && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={() => setShowActivityLog(!showActivityLog)}\n\t\t\t\t\t\tclassName=\"w-full flex items-center justify-between text-left\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 flex items-center gap-2\">\n\t\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\tActivity Log\n\t\t\t\t\t\t\t<span className=\"text-xs font-normal text-slate-400 ml-2\">\n\t\t\t\t\t\t\t\t({evaluationLogs.length} entries)\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName={`w-5 h-5 text-slate-400 transition-transform ${showActivityLog ? \"rotate-180\" : \"\"}`}\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M19 9l-7 7-7-7\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t{showActivityLog && (\n\t\t\t\t\t\t<div className=\"mt-4 bg-slate-900/50 rounded-lg p-4 max-h-64 overflow-y-auto custom-scrollbar border border-slate-700/30\">\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t{evaluationLogs\n\t\t\t\t\t\t\t\t\t.slice()\n\t\t\t\t\t\t\t\t\t.reverse()\n\t\t\t\t\t\t\t\t\t.map((log, index) => (\n\t\t\t\t\t\t\t\t\t\t<div key={index} className=\"flex items-start gap-3 text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 shrink-0 font-mono\">\n\t\t\t\t\t\t\t\t\t\t\t\t{log.timestamp instanceof Date\n\t\t\t\t\t\t\t\t\t\t\t\t\t? log.timestamp.toLocaleTimeString()\n\t\t\t\t\t\t\t\t\t\t\t\t\t: new Date(log.timestamp).toLocaleTimeString()}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"success\" ? \"text-green-400\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"error\" ? \"text-red-400\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"warning\" ? \"text-yellow-400\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"info\" ? \"text-slate-300\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{log.message}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Skills Browser Modal */}\n\t\t\t<SkillsBrowserModal\n\t\t\t\tisOpen={showSkillsModal}\n\t\t\t\tonClose={() => setShowSkillsModal(false)}\n\t\t\t\tskills={skills}\n\t\t\t/>\n\n\t\t\t{/* Context Files Browser Modal */}\n\t\t\t<ContextFilesBrowserModal\n\t\t\t\tisOpen={contextFilesModalType !== null}\n\t\t\t\tonClose={() => setContextFilesModalType(null)}\n\t\t\t\tcontextFiles={contextFiles}\n\t\t\t\tfilterType={contextFilesModalType ?? undefined}\n\t\t\t/>\n\n\t\t\t{/* Linked Docs Browser Modal */}\n\t\t\t<LinkedDocsBrowserModal\n\t\t\t\tisOpen={showLinkedDocsModal}\n\t\t\t\tonClose={() => setShowLinkedDocsModal(false)}\n\t\t\t\tlinkedDocs={linkedDocs}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","structuredPatch":[{"oldStart":73,"oldLines":6,"newStart":73,"newLines":7,"lines":["   curatedCount,","   evaluationId,","   onDelete,","+  onReRun,","   curation,","   evaluationLogs,"," }) => {"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"0b9a067c-f0b7-47c6-a8d0-32554c245348"}
{"parentUuid":"6ac7ee5f-0e7b-416b-9cde-86c5a03398ca","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01X4wgueAeewVmuiTyLiDAAZ","type":"message","role":"assistant","content":[{"type":"text","text":"Now add the `reRunProvider` state after the existing state declarations:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":388,"cache_read_input_tokens":81571,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":388},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66NBKdBVqyRw4W7rnQ7","type":"assistant","uuid":"39e2c892-8299-4d2c-9515-46fb255292e8","timestamp":"2026-02-13T12:47:34.518Z"}
{"parentUuid":"39e2c892-8299-4d2c-9515-46fb255292e8","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01X4wgueAeewVmuiTyLiDAAZ","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01J7yQiGXBh3YnE8BU1s2fJY","name":"Edit","input":{"replace_all":false,"file_path":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx","old_string":"\tconst [showActivityLog, setShowActivityLog] = useState(false);\n\tconst formattedDate = new Date(metadata.generatedAt).toLocaleString();","new_string":"\tconst [showActivityLog, setShowActivityLog] = useState(false);\n\tconst [reRunProvider, setReRunProvider] = useState<ProviderName>(\n\t\tmetadata.agent === \"random\" ? \"claude\" : (metadata.agent as ProviderName),\n\t);\n\tconst formattedDate = new Date(metadata.generatedAt).toLocaleString();"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":388,"cache_read_input_tokens":81571,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":388},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66NBKdBVqyRw4W7rnQ7","type":"assistant","uuid":"44d995fc-b7af-42bd-a8b3-fbdce43219b4","timestamp":"2026-02-13T12:47:36.956Z"}
{"parentUuid":"44d995fc-b7af-42bd-a8b3-fbdce43219b4","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_01J7yQiGXBh3YnE8BU1s2fJY","toolUseID":"toolu_01J7yQiGXBh3YnE8BU1s2fJY","timestamp":"2026-02-13T12:47:41.999Z","uuid":"ebd5b395-a682-41b8-b976-a09fff2a30c3"}
{"parentUuid":"44d995fc-b7af-42bd-a8b3-fbdce43219b4","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01J7yQiGXBh3YnE8BU1s2fJY","type":"tool_result","content":"The file /Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx has been updated successfully."}]},"uuid":"c1d4b98a-17ae-4f70-9b05-7b67edb7b03e","timestamp":"2026-02-13T12:47:41.998Z","toolUseResult":{"filePath":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx","oldString":"\tconst [showActivityLog, setShowActivityLog] = useState(false);\n\tconst formattedDate = new Date(metadata.generatedAt).toLocaleString();","newString":"\tconst [showActivityLog, setShowActivityLog] = useState(false);\n\tconst [reRunProvider, setReRunProvider] = useState<ProviderName>(\n\t\tmetadata.agent === \"random\" ? \"claude\" : (metadata.agent as ProviderName),\n\t);\n\tconst formattedDate = new Date(metadata.generatedAt).toLocaleString();","originalFile":"import React, { useState } from \"react\";\nimport { useFeatureFlags } from \"../contexts/FeatureFlagContext\";\nimport type { ProviderName } from \"../hooks/useEvaluationApi\";\nimport { extractRepoName, formatCost, formatDuration } from \"../lib/formatters\";\nimport type {\n\tICuratedIssue,\n\tICurationSummary,\n\tMetadata,\n} from \"../types/evaluation\";\nimport { StatCard } from \"./shared\";\nimport { ContextFilesBrowserModal } from \"./shared/ContextFilesBrowserModal\";\nimport { LinkedDocsBrowserModal } from \"./shared/LinkedDocsBrowserModal\";\nimport { SkillsBrowserModal } from \"./shared/SkillsBrowserModal\";\nimport { ContextScoreCard } from \"./summary/ContextScoreCard\";\n\n/** Available AI providers */\nconst PROVIDERS: { name: ProviderName; displayName: string }[] = [\n\t{ name: \"claude\", displayName: \"Claude Code\" },\n\t{ name: \"codex\", displayName: \"OpenAI Codex\" },\n\t{ name: \"opencode\", displayName: \"OpenCode\" },\n\t{ name: \"cursor\", displayName: \"Cursor Agent\" },\n\t{ name: \"github-copilot\", displayName: \"GitHub Copilot\" },\n];\n\n// Log entry type for activity logs\ninterface LogEntry {\n\ttimestamp: Date;\n\ttype: string;\n\tmessage: string;\n}\n\ninterface SummaryProps {\n\tmetadata: Metadata;\n\trepositoryUrl?: string | null;\n\tactualIssueCount?: number;\n\tactualPerFileIssueCount?: number;\n\tactualCrossFileIssueCount?: number;\n\tactualHighCount?: number;\n\tactualMediumCount?: number;\n\tactualLowCount?: number;\n\tactualErrorCount?: number;\n\tactualSuggestionCount?: number;\n\tcurationSummary?: ICurationSummary | null;\n\tcuratedCount?: number;\n\tevaluationId?: string;\n\tonDelete?: () => void;\n\tonReRun?: (provider: ProviderName) => void;\n\tcuration?: {\n\t\terrors?: {\n\t\t\tcuratedIssues: ICuratedIssue[];\n\t\t\tsummary: ICurationSummary;\n\t\t};\n\t\tsuggestions?: {\n\t\t\tcuratedIssues: ICuratedIssue[];\n\t\t\tsummary: ICurationSummary;\n\t\t};\n\t};\n\tevaluationLogs?: LogEntry[];\n}\n\nexport const Summary: React.FC<SummaryProps> = ({\n\tmetadata,\n\trepositoryUrl,\n\tactualIssueCount,\n\tactualPerFileIssueCount,\n\tactualCrossFileIssueCount,\n\tactualHighCount,\n\tactualMediumCount,\n\tactualLowCount,\n\tactualErrorCount,\n\tactualSuggestionCount,\n\tcurationSummary: _curationSummary,\n\tcuratedCount,\n\tevaluationId,\n\tonDelete,\n\tonReRun,\n\tcuration,\n\tevaluationLogs,\n}) => {\n\tconst { cloudMode } = useFeatureFlags();\n\tconst [showRawContext, setShowRawContext] = useState(false);\n\tconst [copied, setCopied] = useState(false);\n\tconst [showSkillsModal, setShowSkillsModal] = useState(false);\n\tconst [showLinkedDocsModal, setShowLinkedDocsModal] = useState(false);\n\tconst [contextFilesModalType, setContextFilesModalType] = useState<\n\t\t\"agents\" | \"claude\" | \"copilot\" | \"rules\" | \"claude-code\" | null\n\t>(null);\n\tconst [showActivityLog, setShowActivityLog] = useState(false);\n\tconst formattedDate = new Date(metadata.generatedAt).toLocaleString();\n\tconst shareUrl = evaluationId\n\t\t? `${window.location.origin}/evaluation/${evaluationId}`\n\t\t: null;\n\n\t// Sort files alphabetically by directory hierarchy\n\tconst sortedFiles = metadata.filesEvaluated\n\t\t? [...metadata.filesEvaluated].sort((a, b) => a.localeCompare(b))\n\t\t: [];\n\n\tconst handleCopyLink = () => {\n\t\tif (evaluationId) {\n\t\t\tconst shareUrl = `${window.location.origin}/evaluation/${evaluationId}`;\n\t\t\tnavigator.clipboard.writeText(shareUrl).then(() => {\n\t\t\t\tsetCopied(true);\n\t\t\t\tsetTimeout(() => setCopied(false), 2000);\n\t\t\t});\n\t\t}\n\t};\n\n\t// Use actual counts if provided, otherwise fall back to metadata\n\tconst totalIssues = actualIssueCount ?? metadata.totalIssues ?? 0;\n\tconst perFileIssues = actualPerFileIssueCount ?? metadata.perFileIssues ?? 0;\n\tconst crossFileIssues =\n\t\tactualCrossFileIssueCount ?? metadata.crossFileIssues ?? 0;\n\tconst highCount = actualHighCount ?? metadata.highCount ?? 0;\n\tconst mediumCount = actualMediumCount ?? metadata.mediumCount ?? 0;\n\tconst lowCount = actualLowCount ?? metadata.lowCount ?? 0;\n\n\t// Context files counting\n\tconst agentsFilePaths = metadata.projectContext?.agentsFilePaths ?? [];\n\tconst contextFilesFromApi = metadata.projectContext?.contextFiles ?? [];\n\n\t// Create fallback context files from agentsFilePaths for backward compatibility\n\t// This allows the browser modal to work with older evaluations that don't have contextFiles\n\tconst contextFiles =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t: agentsFilePaths.map((path) => {\n\t\t\t\t\tconst lowerPath = path.toLowerCase();\n\t\t\t\t\tlet type: \"agents\" | \"claude\" | \"copilot\" = \"agents\";\n\t\t\t\t\tif (lowerPath.includes(\"claude\")) {\n\t\t\t\t\t\ttype = \"claude\";\n\t\t\t\t\t} else if (lowerPath.includes(\"copilot\")) {\n\t\t\t\t\t\ttype = \"copilot\";\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tpath,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tcontent: \"\", // No content available for old evaluations\n\t\t\t\t\t\tsummary: \"Re-run evaluation to load content and summary.\",\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t// Use contextFiles if available, otherwise fall back to agentsFilePaths for backward compatibility\n\tconst agentsMdPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t\t\t.filter((f) => f.type === \"agents\")\n\t\t\t\t\t.map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) => p.toLowerCase().includes(\"agents\"));\n\tconst claudeMdPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t\t\t.filter((f) => f.type === \"claude\")\n\t\t\t\t\t.map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) => p.toLowerCase().includes(\"claude\"));\n\tconst rulesPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi.filter((f) => f.type === \"rules\").map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) => p.includes(\".claude/rules/\"));\n\tconst copilotInstructionsPaths =\n\t\tcontextFilesFromApi.length > 0\n\t\t\t? contextFilesFromApi\n\t\t\t\t\t.filter((f) => f.type === \"copilot\")\n\t\t\t\t\t.map((f) => f.path)\n\t\t\t: agentsFilePaths.filter((p) =>\n\t\t\t\t\tp.toLowerCase().includes(\"copilot-instructions\"),\n\t\t\t\t);\n\tconst agentsMdCount = agentsMdPaths.length;\n\tconst claudeMdCount = claudeMdPaths.length;\n\tconst rulesCount = rulesPaths.length;\n\tconst copilotInstructionsCount = copilotInstructionsPaths.length;\n\t// Claude Code combines CLAUDE.md and .claude/rules files\n\tconst claudeCodeCount = claudeMdCount + rulesCount;\n\tconst skills = metadata.projectContext?.skills ?? [];\n\tconst skillsCount = skills.length;\n\tconst linkedDocs = metadata.projectContext?.linkedDocs ?? [];\n\tconst linkedDocsCount = linkedDocs.length;\n\n\t// Sort paths, skills, and linked docs alphabetically for display\n\tconst sortedAgentsMdPaths = [...agentsMdPaths].sort((a, b) =>\n\t\ta.localeCompare(b),\n\t);\n\t// Combined Claude Code paths (CLAUDE.md + rules)\n\tconst sortedClaudeCodePaths = [...claudeMdPaths, ...rulesPaths].sort((a, b) =>\n\t\ta.localeCompare(b),\n\t);\n\tconst sortedCopilotInstructionsPaths = [...copilotInstructionsPaths].sort(\n\t\t(a, b) => a.localeCompare(b),\n\t);\n\tconst sortedSkills = [...skills].sort((a, b) => a.name.localeCompare(b.name));\n\tconst sortedLinkedDocs = [...linkedDocs].sort((a, b) =>\n\t\ta.path.localeCompare(b.path),\n\t);\n\tconst hasContextFiles =\n\t\tagentsMdCount > 0 ||\n\t\tclaudeCodeCount > 0 ||\n\t\tcopilotInstructionsCount > 0 ||\n\t\tskillsCount > 0 ||\n\t\tlinkedDocsCount > 0;\n\n\treturn (\n\t\t<div className=\"space-y-4 animate-fade-in\">\n\t\t\t{/* Header */}\n\t\t\t<div className=\"glass-card border border-indigo-500/30 p-4\">\n\t\t\t\t<div className=\"flex items-center justify-between py-3\">\n\t\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t\t{/* Repository Name - Prominent Display */}\n\t\t\t\t\t\t{repositoryUrl && (\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref={repositoryUrl}\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-2 hover:opacity-80 transition-opacity group\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"w-8 h-8 bg-slate-700/60 rounded-lg flex items-center justify-center border border-slate-600/50 group-hover:bg-purple-700/60 transition-colors\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-slate-300\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z\"\n\t\t\t\t\t\t\t\t\t\t\t\tclipRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<span className=\"text-xl md:text-2xl font-bold text-slate-100 group-hover:underline\">\n\t\t\t\t\t\t\t\t\t\t{extractRepoName(repositoryUrl)}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-400\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t<div className=\"w-6 h-6 bg-slate-700/60 rounded-md flex items-center justify-center border border-slate-600/50\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-4 w-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path d=\"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z\" />\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\td=\"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z\"\n\t\t\t\t\t\t\t\t\t\tclipRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h2 className=\"text-base md:text-lg font-semibold text-slate-100\">\n\t\t\t\t\t\t\t\tEvaluation Summary\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex flex-wrap items-center gap-2 text-slate-300 text-xs\">\n\t\t\t\t\t\t\t<span className=\"flex items-center gap-1 bg-slate-700/60 px-2 py-1 rounded-md border border-slate-600/50\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{formattedDate}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"flex items-center gap-1 bg-slate-700/60 px-2 py-1 rounded-md border border-slate-600/50\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{metadata.agent}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-1 bg-slate-700/60 px-2 py-1 rounded-md border border-slate-600/50\"\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\tmetadata.evaluationMode === \"unified\"\n\t\t\t\t\t\t\t\t\t\t? \"Unified mode: All files evaluated together for cross-file analysis\"\n\t\t\t\t\t\t\t\t\t\t: \"Independent mode: Each file evaluated separately\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{metadata.evaluationMode}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n\t\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tonDelete();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n\t\t\t\t\t\t\ttitle=\"Delete evaluation\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Share Report Card - Prominent Display */}\n\t\t\t{shareUrl && (\n\t\t\t\t<div className=\"glass-card p-4 border border-indigo-500/30\">\n\t\t\t\t\t<div className=\"flex items-start gap-3\">\n\t\t\t\t\t\t<div className=\"w-8 h-8 bg-indigo-600/30 rounded-lg flex items-center justify-center shrink-0\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-indigo-400\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex-1 min-w-0\">\n\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-slate-200 mb-1\">\n\t\t\t\t\t\t\t\tShare this report\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<code className=\"text-xs text-slate-300 bg-slate-900/50 px-2 py-1 rounded truncate flex-1 block overflow-hidden\">\n\t\t\t\t\t\t\t\t\t{shareUrl}\n\t\t\t\t\t\t\t\t</code>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={handleCopyLink}\n\t\t\t\t\t\t\t\t\tclassName=\"shrink-0 px-3 py-1.5 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-500 rounded-lg transition-colors flex items-center gap-1.5\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{copied ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M5 13l4 4L19 7\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<span>Copied!</span>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<span>Copy Link</span>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Context Score - Prominent Display */}\n\t\t\t{metadata.contextScore && (\n\t\t\t\t<ContextScoreCard contextScore={metadata.contextScore} />\n\t\t\t)}\n\n\t\t\t{/* Project Context */}\n\t\t\t{metadata.projectContext && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t<span className=\"w-6 h-6 bg-indigo-600 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-white\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tProject Context\n\t\t\t\t\t\t<span className=\"text-xs font-normal text-slate-400 ml-2\">\n\t\t\t\t\t\t\t(auto-detected)\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tLanguages\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.languages}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tFrameworks\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.frameworks}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tArchitecture\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.architecture}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide block mb-1\">\n\t\t\t\t\t\t\t\tPatterns\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-slate-200\">\n\t\t\t\t\t\t\t\t{metadata.projectContext.patterns}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Raw Context Toggle */}\n\t\t\t\t\t{metadata.projectContext.raw && (\n\t\t\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => setShowRawContext(!showRawContext)}\n\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-2 text-xs text-slate-400 hover:text-slate-200 transition-colors\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName={`w-3 h-3 transition-transform ${showRawContext ? \"rotate-90\" : \"\"}`}\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 5l7 7-7 7\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{showRawContext ? \"Hide\" : \"Show\"} raw context\n\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t{showRawContext && (\n\t\t\t\t\t\t\t\t<div className=\"mt-2 bg-slate-900/50 rounded-lg p-3 border border-slate-700/50\">\n\t\t\t\t\t\t\t\t\t<pre className=\"text-xs text-slate-300 whitespace-pre-wrap font-mono overflow-x-auto\">\n\t\t\t\t\t\t\t\t\t\t{metadata.projectContext.raw}\n\t\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{metadata.contextIdentificationCostUsd !== undefined &&\n\t\t\t\t\t\tmetadata.contextIdentificationDurationMs !== undefined && (\n\t\t\t\t\t\t\t<div className=\"mt-3 pt-3 border-t border-slate-700/50 flex items-center gap-4 text-xs text-slate-400\">\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\tContext analysis:{\" \"}\n\t\t\t\t\t\t\t\t\t{formatCost(metadata.contextIdentificationCostUsd)}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{formatDuration(metadata.contextIdentificationDurationMs)}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Context Files */}\n\t\t\t{hasContextFiles && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tClaude Code\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3\">\n\t\t\t\t\t\t{/* AGENTS.md Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tAGENTS.md\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{agentsMdCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{agentsMdCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedAgentsMdPaths.map((path, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-slate-400 flex items-start gap-1.5\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-0.5\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{path}</span>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setContextFilesModalType(\"agents\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Browse</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Claude Code Card (CLAUDE.md + Rules combined) */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tCLAUDE.md + Rules\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{claudeCodeCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{claudeCodeCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedClaudeCodePaths.map((path, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-slate-400 flex items-start gap-1.5\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-0.5\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{path}</span>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setContextFilesModalType(\"claude-code\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Browse</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Github Copilot Instructions Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tCopilot Instructions\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{copilotInstructionsCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{copilotInstructionsCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedCopilotInstructionsPaths.map((path, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs text-slate-400 flex items-start gap-1.5\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-0.5\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{path}</span>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setContextFilesModalType(\"copilot\")}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Browse</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Skills Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tSkills\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{skillsCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{skillsCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1.5 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedSkills.map((skill, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li key={index} className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-300 font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{skill.name}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 ml-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t({skill.directory})\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t{skill.description && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-slate-500 mt-0.5 truncate\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={skill.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{skill.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setShowSkillsModal(true)}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Display all</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Linked Docs Card */}\n\t\t\t\t\t\t<div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-slate-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\tLinked Docs\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100 mb-2\">\n\t\t\t\t\t\t\t\t{linkedDocsCount}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{linkedDocsCount > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"space-y-1.5 max-h-32 overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t{sortedLinkedDocs.map((doc, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li key={index} className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-slate-300 font-medium break-all\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{doc.path}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-slate-500 text-xs mt-0.5\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tfrom {doc.linkedFrom}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{doc.summary && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-slate-500 mt-0.5 line-clamp-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={doc.summary}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{doc.summary}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setShowLinkedDocsModal(true)}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>Display all</span>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-3 h-3\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Main Stats Grid */}\n\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n\t\t\t\t<StatCard\n\t\t\t\t\tlabel=\"Total Files\"\n\t\t\t\t\tvalue={metadata.totalFiles}\n\t\t\t\t\ticon={\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"h-8 w-8\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t}\n\t\t\t\t\ttooltip={\n\t\t\t\t\t\tsortedFiles.length > 0 && (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide mb-2\">\n\t\t\t\t\t\t\t\t\tFiles Evaluated\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<ul className=\"space-y-1\">\n\t\t\t\t\t\t\t\t\t{sortedFiles.map((file, index) => (\n\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-sm text-slate-300 flex items-start gap-2\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 mt-1\">•</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"break-all\">{file}</span>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<StatCard\n\t\t\t\t\tlabel=\"Total Issues\"\n\t\t\t\t\tvalue={totalIssues}\n\t\t\t\t\ticon={\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"h-8 w-8\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<StatCard label=\"Per-File Issues\" value={perFileIssues} />\n\t\t\t\t<StatCard label=\"Cross-File Issues\" value={crossFileIssues} />\n\t\t\t</div>\n\n\t\t\t{/* Severity & Issue Type Breakdown - Side by Side */}\n\t\t\t{(highCount > 0 ||\n\t\t\t\tmediumCount > 0 ||\n\t\t\t\tlowCount > 0 ||\n\t\t\t\t(actualErrorCount ?? 0) > 0 ||\n\t\t\t\t(actualSuggestionCount ?? 0) > 0) && (\n\t\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n\t\t\t\t\t{/* Severity Breakdown */}\n\t\t\t\t\t{(highCount > 0 || mediumCount > 0 || lowCount > 0) && (\n\t\t\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\tSeverity Breakdown\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-3 gap-3\">\n\t\t\t\t\t\t\t\t{highCount > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover stat-card-high rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"severity-dot severity-dot-high w-4 h-4\" />\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tHigh\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-orange-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{highCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{mediumCount > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover stat-card-medium rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"severity-dot severity-dot-medium w-4 h-4\" />\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tMedium\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-yellow-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{mediumCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{lowCount > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover stat-card-low rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"severity-dot severity-dot-low w-4 h-4\" />\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tLow\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{lowCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Issue Type Breakdown */}\n\t\t\t\t\t{((actualErrorCount ?? 0) > 0 ||\n\t\t\t\t\t\t(actualSuggestionCount ?? 0) > 0) && (\n\t\t\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M4 6h16M4 12h16M4 18h7\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\tIssue Type Breakdown\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-3\">\n\t\t\t\t\t\t\t\t{(actualErrorCount ?? 0) > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-red-400\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tErrors\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{actualErrorCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tProblems to fix\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{(actualSuggestionCount ?? 0) > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4 group\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-indigo-400\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tSuggestions\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{actualSuggestionCount}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tOpportunities to improve\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Curated Issues Breakdown - Dual Curation */}\n\t\t\t{curation && (curatedCount ?? 0) > 0 && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M13 10V3L4 14h7v7l9-11h-7z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tCurated Issues Breakdown\n\t\t\t\t\t\t<span className=\"text-xs font-normal text-slate-400 ml-2\">\n\t\t\t\t\t\t\t(AI-selected high-impact issues)\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n\t\t\t\t\t\t{/* Curated Errors */}\n\t\t\t\t\t\t{curation.errors && (\n\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-red-400\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\tTop Errors\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t{curation.errors.curatedIssues.length}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\tfrom {curation.errors.summary.totalIssuesReviewed}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\treviewed\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* Curated Suggestions */}\n\t\t\t\t\t\t{curation.suggestions && (\n\t\t\t\t\t\t\t<div className=\"card-hover bg-slate-800/80 border border-slate-700/60 rounded-lg p-4\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-indigo-400\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide\">\n\t\t\t\t\t\t\t\t\t\t\tTop Suggestions\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-slate-100\">\n\t\t\t\t\t\t\t\t\t\t\t{curation.suggestions.curatedIssues.length}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\tfrom {curation.suggestions.summary.totalIssuesReviewed}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\treviewed\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Activity Log - Collapsible */}\n\t\t\t{evaluationLogs && evaluationLogs.length > 0 && (\n\t\t\t\t<div className=\"glass-card p-6\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={() => setShowActivityLog(!showActivityLog)}\n\t\t\t\t\t\tclassName=\"w-full flex items-center justify-between text-left\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<h3 className=\"text-base font-bold text-slate-100 flex items-center gap-2\">\n\t\t\t\t\t\t\t<span className=\"w-6 h-6 bg-slate-700 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 text-slate-300\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\tActivity Log\n\t\t\t\t\t\t\t<span className=\"text-xs font-normal text-slate-400 ml-2\">\n\t\t\t\t\t\t\t\t({evaluationLogs.length} entries)\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName={`w-5 h-5 text-slate-400 transition-transform ${showActivityLog ? \"rotate-180\" : \"\"}`}\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M19 9l-7 7-7-7\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t{showActivityLog && (\n\t\t\t\t\t\t<div className=\"mt-4 bg-slate-900/50 rounded-lg p-4 max-h-64 overflow-y-auto custom-scrollbar border border-slate-700/30\">\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t{evaluationLogs\n\t\t\t\t\t\t\t\t\t.slice()\n\t\t\t\t\t\t\t\t\t.reverse()\n\t\t\t\t\t\t\t\t\t.map((log, index) => (\n\t\t\t\t\t\t\t\t\t\t<div key={index} className=\"flex items-start gap-3 text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-slate-500 shrink-0 font-mono\">\n\t\t\t\t\t\t\t\t\t\t\t\t{log.timestamp instanceof Date\n\t\t\t\t\t\t\t\t\t\t\t\t\t? log.timestamp.toLocaleTimeString()\n\t\t\t\t\t\t\t\t\t\t\t\t\t: new Date(log.timestamp).toLocaleTimeString()}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"success\" ? \"text-green-400\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"error\" ? \"text-red-400\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"warning\" ? \"text-yellow-400\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${log.type === \"info\" ? \"text-slate-300\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{log.message}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Skills Browser Modal */}\n\t\t\t<SkillsBrowserModal\n\t\t\t\tisOpen={showSkillsModal}\n\t\t\t\tonClose={() => setShowSkillsModal(false)}\n\t\t\t\tskills={skills}\n\t\t\t/>\n\n\t\t\t{/* Context Files Browser Modal */}\n\t\t\t<ContextFilesBrowserModal\n\t\t\t\tisOpen={contextFilesModalType !== null}\n\t\t\t\tonClose={() => setContextFilesModalType(null)}\n\t\t\t\tcontextFiles={contextFiles}\n\t\t\t\tfilterType={contextFilesModalType ?? undefined}\n\t\t\t/>\n\n\t\t\t{/* Linked Docs Browser Modal */}\n\t\t\t<LinkedDocsBrowserModal\n\t\t\t\tisOpen={showLinkedDocsModal}\n\t\t\t\tonClose={() => setShowLinkedDocsModal(false)}\n\t\t\t\tlinkedDocs={linkedDocs}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","structuredPatch":[{"oldStart":86,"oldLines":6,"newStart":86,"newLines":9,"lines":["     \"agents\" | \"claude\" | \"copilot\" | \"rules\" | \"claude-code\" | null","   >(null);","   const [showActivityLog, setShowActivityLog] = useState(false);","+  const [reRunProvider, setReRunProvider] = useState<ProviderName>(","+    metadata.agent === \"random\" ? \"claude\" : (metadata.agent as ProviderName),","+  );","   const formattedDate = new Date(metadata.generatedAt).toLocaleString();","   const shareUrl = evaluationId","     ? `${window.location.origin}/evaluation/${evaluationId}`"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"44d995fc-b7af-42bd-a8b3-fbdce43219b4"}
{"parentUuid":"c1d4b98a-17ae-4f70-9b05-7b67edb7b03e","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01A8N9kCUDgdGdoDcMAmtheM","type":"message","role":"assistant","content":[{"type":"text","text":"Now replace the header action area (the delete button section) with the re-run UI + delete button:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":319,"cache_read_input_tokens":81959,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":319},"output_tokens":2,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66NxYTfv9PP1zPVTb9e","type":"assistant","uuid":"9181aef9-b715-4be6-93cf-40721a443dd9","timestamp":"2026-02-13T12:47:44.549Z"}
{"parentUuid":"9181aef9-b715-4be6-93cf-40721a443dd9","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01A8N9kCUDgdGdoDcMAmtheM","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01BVwNZKk576qwtEFnTHASLX","name":"Edit","input":{"replace_all":false,"file_path":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx","old_string":"\t\t\t\t</div>\n\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tonDelete();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n\t\t\t\t\t\ttitle=\"Delete evaluation\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>","new_string":"\t\t\t\t</div>\n\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t{/* Re-run Button */}\n\t\t\t\t\t{onReRun && (\n\t\t\t\t\t\t<div className=\"flex items-center gap-1.5\">\n\t\t\t\t\t\t\t{!cloudMode && (\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tvalue={reRunProvider}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\tsetReRunProvider(e.target.value as ProviderName)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tclassName=\"bg-slate-700/60 border border-slate-600/50 text-slate-200 text-xs rounded-md px-2 py-1.5 focus:outline-none focus:ring-1 focus:ring-indigo-500\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{PROVIDERS.map((p) => (\n\t\t\t\t\t\t\t\t\t\t<option key={p.name} value={p.name}>\n\t\t\t\t\t\t\t\t\t\t\t{p.displayName}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\tonReRun(cloudMode ? \"random\" : reRunProvider)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-white bg-indigo-600 hover:bg-indigo-500 rounded-lg transition-colors\"\n\t\t\t\t\t\t\t\ttitle=\"Re-run evaluation\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-3.5 h-3.5\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\tRe-run\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n\t\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tconfirm(\n\t\t\t\t\t\t\t\t\t\t\"Are you sure you want to delete this evaluation?\",\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tonDelete();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n\t\t\t\t\t\t\ttitle=\"Delete evaluation\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":319,"cache_read_input_tokens":81959,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":319},"output_tokens":2,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66NxYTfv9PP1zPVTb9e","type":"assistant","uuid":"4cb665be-090b-4fd9-a349-ac3ef7a69df3","timestamp":"2026-02-13T12:47:56.379Z"}
{"parentUuid":"4cb665be-090b-4fd9-a349-ac3ef7a69df3","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"type":"tool_result","content":"<tool_use_error>String to replace not found in file.\nString: \t\t\t\t</div>\n\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tonDelete();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n\t\t\t\t\t\ttitle=\"Delete evaluation\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div></tool_use_error>","is_error":true,"tool_use_id":"toolu_01BVwNZKk576qwtEFnTHASLX"}]},"uuid":"ad3c256b-bd27-409b-be9c-5bae8901c85a","timestamp":"2026-02-13T12:47:56.380Z","toolUseResult":"Error: String to replace not found in file.\nString: \t\t\t\t</div>\n\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tonDelete();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n\t\t\t\t\t\ttitle=\"Delete evaluation\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>","sourceToolAssistantUUID":"4cb665be-090b-4fd9-a349-ac3ef7a69df3"}
{"parentUuid":"ad3c256b-bd27-409b-be9c-5bae8901c85a","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01QaHxd2xiqaq2aB6QhfNscg","type":"message","role":"assistant","content":[{"type":"text","text":"Let me re-read the relevant section to get the exact indentation:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1686,"cache_read_input_tokens":82278,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":1686},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66Q2MBeZBzkdZFnArY2","type":"assistant","uuid":"26ef2785-599a-44d9-83a6-57aa041f944a","timestamp":"2026-02-13T12:47:59.130Z"}
{"parentUuid":"26ef2785-599a-44d9-83a6-57aa041f944a","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01QaHxd2xiqaq2aB6QhfNscg","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01B1ykqM3kjKNxC8NnpghcDV","name":"Read","input":{"file_path":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx","offset":318,"limit":50}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1686,"cache_read_input_tokens":82278,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":1686},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66Q2MBeZBzkdZFnArY2","type":"assistant","uuid":"f4410962-8b47-4319-91a6-cfacc9a561c9","timestamp":"2026-02-13T12:47:59.909Z"}
{"parentUuid":"f4410962-8b47-4319-91a6-cfacc9a561c9","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_01B1ykqM3kjKNxC8NnpghcDV","toolUseID":"toolu_01B1ykqM3kjKNxC8NnpghcDV","timestamp":"2026-02-13T12:47:59.929Z","uuid":"e6867f93-6019-44de-abba-8616eed3d3ae"}
{"parentUuid":"f4410962-8b47-4319-91a6-cfacc9a561c9","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01B1ykqM3kjKNxC8NnpghcDV","type":"tool_result","content":"   318→\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   319→\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   320→\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   321→\t\t\t\t\t\t\t\t\t\td=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"\n   322→\t\t\t\t\t\t\t\t\t/>\n   323→\t\t\t\t\t\t\t\t\t<path\n   324→\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   325→\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   326→\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   327→\t\t\t\t\t\t\t\t\t\td=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n   328→\t\t\t\t\t\t\t\t\t/>\n   329→\t\t\t\t\t\t\t\t</svg>\n   330→\t\t\t\t\t\t\t\t{metadata.evaluationMode}\n   331→\t\t\t\t\t\t\t</span>\n   332→\t\t\t\t\t\t</div>\n   333→\t\t\t\t\t</div>\n   334→\t\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n   335→\t\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n   336→\t\t\t\t\t\t<button\n   337→\t\t\t\t\t\t\tonClick={() => {\n   338→\t\t\t\t\t\t\t\tif (\n   339→\t\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n   340→\t\t\t\t\t\t\t\t) {\n   341→\t\t\t\t\t\t\t\t\tonDelete();\n   342→\t\t\t\t\t\t\t\t}\n   343→\t\t\t\t\t\t\t}}\n   344→\t\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n   345→\t\t\t\t\t\t\ttitle=\"Delete evaluation\"\n   346→\t\t\t\t\t\t>\n   347→\t\t\t\t\t\t\t<svg\n   348→\t\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n   349→\t\t\t\t\t\t\t\tfill=\"none\"\n   350→\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   351→\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   352→\t\t\t\t\t\t\t>\n   353→\t\t\t\t\t\t\t\t<path\n   354→\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   355→\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   356→\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   357→\t\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n   358→\t\t\t\t\t\t\t\t/>\n   359→\t\t\t\t\t\t\t</svg>\n   360→\t\t\t\t\t\t</button>\n   361→\t\t\t\t\t)}\n   362→\t\t\t\t</div>\n   363→\t\t\t</div>\n   364→\n   365→\t\t\t{/* Share Report Card - Prominent Display */}\n   366→\t\t\t{shareUrl && (\n   367→\t\t\t\t<div className=\"glass-card p-4 border border-indigo-500/30\">"}]},"uuid":"c9b01120-2bc8-4a0d-a16f-817d667c9bb2","timestamp":"2026-02-13T12:47:59.925Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx","content":"\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{metadata.evaluationMode}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n\t\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tonDelete();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n\t\t\t\t\t\t\ttitle=\"Delete evaluation\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Share Report Card - Prominent Display */}\n\t\t\t{shareUrl && (\n\t\t\t\t<div className=\"glass-card p-4 border border-indigo-500/30\">","numLines":50,"startLine":318,"totalLines":1312}},"sourceToolAssistantUUID":"f4410962-8b47-4319-91a6-cfacc9a561c9"}
{"parentUuid":"c9b01120-2bc8-4a0d-a16f-817d667c9bb2","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01T23qUATPMAR2yDE7tbzD88","type":"message","role":"assistant","content":[{"type":"text","text":"Now I can see the exact content. The indentation uses tabs:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1112,"cache_read_input_tokens":83964,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":1112},"output_tokens":7,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66QHW1T8TKUTkbKm2Y5","type":"assistant","uuid":"51109724-f641-4c93-8785-bb3bb19e66e7","timestamp":"2026-02-13T12:48:02.589Z"}
{"parentUuid":"51109724-f641-4c93-8785-bb3bb19e66e7","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01T23qUATPMAR2yDE7tbzD88","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_0135h1ZVwGMF4JsiL3nupL28","name":"Edit","input":{"replace_all":false,"file_path":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx","old_string":"\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tonDelete();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n\t\t\t\t\t\ttitle=\"Delete evaluation\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t)}","new_string":"\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t{/* Re-run Button */}\n\t\t\t\t\t{onReRun && (\n\t\t\t\t\t\t<div className=\"flex items-center gap-1.5\">\n\t\t\t\t\t\t\t{!cloudMode && (\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tvalue={reRunProvider}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\tsetReRunProvider(e.target.value as ProviderName)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tclassName=\"bg-slate-700/60 border border-slate-600/50 text-slate-200 text-xs rounded-md px-2 py-1.5 focus:outline-none focus:ring-1 focus:ring-indigo-500\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{PROVIDERS.map((p) => (\n\t\t\t\t\t\t\t\t\t\t<option key={p.name} value={p.name}>\n\t\t\t\t\t\t\t\t\t\t\t{p.displayName}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\tonReRun(cloudMode ? \"random\" : reRunProvider)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-white bg-indigo-600 hover:bg-indigo-500 rounded-lg transition-colors\"\n\t\t\t\t\t\t\t\ttitle=\"Re-run evaluation\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-3.5 h-3.5\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\tRe-run\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n\t\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tconfirm(\n\t\t\t\t\t\t\t\t\t\t\"Are you sure you want to delete this evaluation?\",\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tonDelete();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n\t\t\t\t\t\t\ttitle=\"Delete evaluation\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1112,"cache_read_input_tokens":83964,"output_tokens":1290,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":1112,"ephemeral_5m_input_tokens":0},"inference_geo":"","iterations":[],"speed":"standard"}},"requestId":"req_011CY66QHW1T8TKUTkbKm2Y5","type":"assistant","uuid":"0fd60275-7056-44a1-a022-ac0ecd062534","timestamp":"2026-02-13T12:48:11.739Z"}
{"parentUuid":"0fd60275-7056-44a1-a022-ac0ecd062534","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"type":"tool_result","content":"<tool_use_error>String to replace not found in file.\nString: \t\t\t\t{/* Delete Button - hidden in cloud mode */}\n\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tonDelete();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n\t\t\t\t\t\ttitle=\"Delete evaluation\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t)}</tool_use_error>","is_error":true,"tool_use_id":"toolu_0135h1ZVwGMF4JsiL3nupL28"}]},"uuid":"c266731d-1082-4d40-aab2-377baa39e1ad","timestamp":"2026-02-13T12:48:11.741Z","toolUseResult":"Error: String to replace not found in file.\nString: \t\t\t\t{/* Delete Button - hidden in cloud mode */}\n\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tonDelete();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n\t\t\t\t\t\ttitle=\"Delete evaluation\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t)}","sourceToolAssistantUUID":"0fd60275-7056-44a1-a022-ac0ecd062534"}
{"parentUuid":"c266731d-1082-4d40-aab2-377baa39e1ad","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01U5AM4Ht6Z1GsAFKDCQHRs4","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"The issue might be with tabs vs spaces. Let me use Bash to see the actual characters in that section of the file.","signature":"EpoCCkYICxgCKkDL8+4eNJBjLgiwlI60T5PiCrk+dsOHYHqXamJ8ambF+dUW/H8Obwi+fFw5DwPGvDQ9g3MQX6pzA605iopANB6TEgzxZ2+CqSbCgdrbPXUaDDzC6YdpaXMDuHqqiiIwDk72oupbOtjX8b7JZHNDXGW9OFC/nOT/sVmGDUNOZi0eOgo+t65xLNc73yaMvNAMKoEBDB6K/NLDGUS1CaX1qZnEads9F4+zYzeLp3o/1FhRSJpwg+oZVvgHm+je0qB+yK1ZHn6+7H4AWlqjf+aWWR0QHM/U0tQPveI8EpQNeK7sIZhPtuVNifepCT+eQji8OZM4RDVBn7gbycCIyUUwyMnvj4Ig0h79hk07qzo/bROwVA83GAE="}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1650,"cache_read_input_tokens":85076,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":1650},"output_tokens":8,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66R9gVVYdNVq68H1mYw","type":"assistant","uuid":"10b040df-4535-4ffa-b860-3fc6ed91a3ce","timestamp":"2026-02-13T12:48:14.789Z"}
{"parentUuid":"10b040df-4535-4ffa-b860-3fc6ed91a3ce","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01U5AM4Ht6Z1GsAFKDCQHRs4","type":"message","role":"assistant","content":[{"type":"text","text":"Let me check the actual whitespace in this file:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1650,"cache_read_input_tokens":85076,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":1650},"output_tokens":8,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66R9gVVYdNVq68H1mYw","type":"assistant","uuid":"7b134b0d-e0a9-4c44-b4b4-cfe237a1499e","timestamp":"2026-02-13T12:48:15.170Z"}
{"parentUuid":"7b134b0d-e0a9-4c44-b4b4-cfe237a1499e","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01U5AM4Ht6Z1GsAFKDCQHRs4","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01RsYWLL29W5S6wcNALVFyts","name":"Bash","input":{"command":"sed -n '334,361p' /Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx | cat -A | head -30","description":"Show whitespace characters in Summary.tsx lines 334-361"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1650,"cache_read_input_tokens":85076,"output_tokens":176,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":1650,"ephemeral_5m_input_tokens":0},"inference_geo":"","iterations":[],"speed":"standard"}},"requestId":"req_011CY66R9gVVYdNVq68H1mYw","type":"assistant","uuid":"7e73e94c-bfb7-44cd-9d6f-2d78bb482c87","timestamp":"2026-02-13T12:48:16.267Z"}
{"parentUuid":"7e73e94c-bfb7-44cd-9d6f-2d78bb482c87","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01RsYWLL29W5S6wcNALVFyts","type":"tool_result","content":"cat: illegal option -- A\nusage: cat [-belnstuv] [file ...]","is_error":false}]},"uuid":"2f0cc052-a1a6-4ebd-b24b-8f9ab03ec2dc","timestamp":"2026-02-13T12:48:21.277Z","toolUseResult":{"stdout":"cat: illegal option -- A\nusage: cat [-belnstuv] [file ...]","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"7e73e94c-bfb7-44cd-9d6f-2d78bb482c87"}
{"parentUuid":"2f0cc052-a1a6-4ebd-b24b-8f9ab03ec2dc","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01AJszgttSxQZbGTiLs1JyFt","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01HHL786CQscMFDpgWSk1k5d","name":"Bash","input":{"command":"sed -n '334,361p' /Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx | cat -vet | head -30","description":"Show whitespace in Summary.tsx"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":318,"cache_read_input_tokens":86726,"output_tokens":118,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":318,"ephemeral_5m_input_tokens":0},"inference_geo":"","iterations":[],"speed":"standard"}},"requestId":"req_011CY66RrQCT6xRjfh7WGefn","type":"assistant","uuid":"2b01c4ba-d8d9-426e-8060-fb1abfa2f1a5","timestamp":"2026-02-13T12:48:24.082Z"}
{"parentUuid":"2b01c4ba-d8d9-426e-8060-fb1abfa2f1a5","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01HHL786CQscMFDpgWSk1k5d","type":"tool_result","content":"^I^I^I^I^I{/* Delete Button - hidden in cloud mode */}$\n^I^I^I^I^I{evaluationId && onDelete && !cloudMode && ($\n^I^I^I^I^I^I<button$\n^I^I^I^I^I^I^IonClick={() => {$\n^I^I^I^I^I^I^I^Iif ($\n^I^I^I^I^I^I^I^I^Iconfirm(\"Are you sure you want to delete this evaluation?\")$\n^I^I^I^I^I^I^I^I) {$\n^I^I^I^I^I^I^I^I^IonDelete();$\n^I^I^I^I^I^I^I^I}$\n^I^I^I^I^I^I^I}}$\n^I^I^I^I^I^I^IclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"$\n^I^I^I^I^I^I^Ititle=\"Delete evaluation\"$\n^I^I^I^I^I^I>$\n^I^I^I^I^I^I^I<svg$\n^I^I^I^I^I^I^I^IclassName=\"w-6 h-6\"$\n^I^I^I^I^I^I^I^Ifill=\"none\"$\n^I^I^I^I^I^I^I^Istroke=\"currentColor\"$\n^I^I^I^I^I^I^I^IviewBox=\"0 0 24 24\"$\n^I^I^I^I^I^I^I>$\n^I^I^I^I^I^I^I^I<path$\n^I^I^I^I^I^I^I^I^IstrokeLinecap=\"round\"$\n^I^I^I^I^I^I^I^I^IstrokeLinejoin=\"round\"$\n^I^I^I^I^I^I^I^I^IstrokeWidth={2}$\n^I^I^I^I^I^I^I^I^Id=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"$\n^I^I^I^I^I^I^I^I/>$\n^I^I^I^I^I^I^I</svg>$\n^I^I^I^I^I^I</button>$\n^I^I^I^I^I)}$","is_error":false}]},"uuid":"68367da1-c49e-420c-a974-95f1b33bc710","timestamp":"2026-02-13T12:48:31.798Z","toolUseResult":{"stdout":"^I^I^I^I^I{/* Delete Button - hidden in cloud mode */}$\n^I^I^I^I^I{evaluationId && onDelete && !cloudMode && ($\n^I^I^I^I^I^I<button$\n^I^I^I^I^I^I^IonClick={() => {$\n^I^I^I^I^I^I^I^Iif ($\n^I^I^I^I^I^I^I^I^Iconfirm(\"Are you sure you want to delete this evaluation?\")$\n^I^I^I^I^I^I^I^I) {$\n^I^I^I^I^I^I^I^I^IonDelete();$\n^I^I^I^I^I^I^I^I}$\n^I^I^I^I^I^I^I}}$\n^I^I^I^I^I^I^IclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"$\n^I^I^I^I^I^I^Ititle=\"Delete evaluation\"$\n^I^I^I^I^I^I>$\n^I^I^I^I^I^I^I<svg$\n^I^I^I^I^I^I^I^IclassName=\"w-6 h-6\"$\n^I^I^I^I^I^I^I^Ifill=\"none\"$\n^I^I^I^I^I^I^I^Istroke=\"currentColor\"$\n^I^I^I^I^I^I^I^IviewBox=\"0 0 24 24\"$\n^I^I^I^I^I^I^I>$\n^I^I^I^I^I^I^I^I<path$\n^I^I^I^I^I^I^I^I^IstrokeLinecap=\"round\"$\n^I^I^I^I^I^I^I^I^IstrokeLinejoin=\"round\"$\n^I^I^I^I^I^I^I^I^IstrokeWidth={2}$\n^I^I^I^I^I^I^I^I^Id=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"$\n^I^I^I^I^I^I^I^I/>$\n^I^I^I^I^I^I^I</svg>$\n^I^I^I^I^I^I</button>$\n^I^I^I^I^I)}$","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"2b01c4ba-d8d9-426e-8060-fb1abfa2f1a5"}
{"parentUuid":"68367da1-c49e-420c-a974-95f1b33bc710","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_011cgUttLPBN35h1z5XRzkiH","type":"message","role":"assistant","content":[{"type":"text","text":"The file uses tabs. My edit strings were using spaces. Let me write the file section directly with correct tab indentation. Let me read the whole file first and write it back:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":877,"cache_read_input_tokens":87044,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":877},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66SdPQ1xhQAYYX6onLM","type":"assistant","uuid":"ee0c361f-4a33-405e-aa16-a8fefefc99f8","timestamp":"2026-02-13T12:48:35.125Z"}
{"parentUuid":"ee0c361f-4a33-405e-aa16-a8fefefc99f8","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_011cgUttLPBN35h1z5XRzkiH","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01XAhWQQKb3Xm6st4eXrM3Zw","name":"Read","input":{"file_path":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx","offset":330,"limit":35}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":877,"cache_read_input_tokens":87044,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":877},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66SdPQ1xhQAYYX6onLM","type":"assistant","uuid":"84ca1d0b-a337-49af-be9e-1cda659a52b6","timestamp":"2026-02-13T12:48:35.911Z"}
{"parentUuid":"84ca1d0b-a337-49af-be9e-1cda659a52b6","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_01XAhWQQKb3Xm6st4eXrM3Zw","toolUseID":"toolu_01XAhWQQKb3Xm6st4eXrM3Zw","timestamp":"2026-02-13T12:48:35.934Z","uuid":"fffc85e5-11ba-4edb-98c1-007f3fb71c0c"}
{"parentUuid":"84ca1d0b-a337-49af-be9e-1cda659a52b6","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01XAhWQQKb3Xm6st4eXrM3Zw","type":"tool_result","content":"   330→\t\t\t\t\t\t\t\t{metadata.evaluationMode}\n   331→\t\t\t\t\t\t\t</span>\n   332→\t\t\t\t\t\t</div>\n   333→\t\t\t\t\t</div>\n   334→\t\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n   335→\t\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n   336→\t\t\t\t\t\t<button\n   337→\t\t\t\t\t\t\tonClick={() => {\n   338→\t\t\t\t\t\t\t\tif (\n   339→\t\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n   340→\t\t\t\t\t\t\t\t) {\n   341→\t\t\t\t\t\t\t\t\tonDelete();\n   342→\t\t\t\t\t\t\t\t}\n   343→\t\t\t\t\t\t\t}}\n   344→\t\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n   345→\t\t\t\t\t\t\ttitle=\"Delete evaluation\"\n   346→\t\t\t\t\t\t>\n   347→\t\t\t\t\t\t\t<svg\n   348→\t\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n   349→\t\t\t\t\t\t\t\tfill=\"none\"\n   350→\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   351→\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   352→\t\t\t\t\t\t\t>\n   353→\t\t\t\t\t\t\t\t<path\n   354→\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   355→\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   356→\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   357→\t\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n   358→\t\t\t\t\t\t\t\t/>\n   359→\t\t\t\t\t\t\t</svg>\n   360→\t\t\t\t\t\t</button>\n   361→\t\t\t\t\t)}\n   362→\t\t\t\t</div>\n   363→\t\t\t</div>\n   364→"}]},"uuid":"b958658b-85c9-4310-b24d-cca09414e7c7","timestamp":"2026-02-13T12:48:35.932Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx","content":"\t\t\t\t\t\t\t\t{metadata.evaluationMode}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n\t\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tonDelete();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n\t\t\t\t\t\t\ttitle=\"Delete evaluation\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n","numLines":35,"startLine":330,"totalLines":1312}},"sourceToolAssistantUUID":"84ca1d0b-a337-49af-be9e-1cda659a52b6"}
{"parentUuid":"b958658b-85c9-4310-b24d-cca09414e7c7","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01HiHY8mpSTYma1qy5qV2FYo","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"The Read tool strips the tabs and replaces them with spaces in the display. The file has tabs. Let me try using Bash to get the exact content for the edit, or use a different approach.\n\nActually, looking at the Edit tool's documentation more carefully:\n> When editing text from Read tool output, ensure you preserve the exact indentation (tabs/spaces) as it appears AFTER the line number prefix. The line number prefix format is: spaces + line number + tab. Everything after that tab is the actual file content to match.\n\nSo the Read tool output shows: `   334→\t{/* Delete Button...` - the `→` character is a tab, and everything after that tab is the actual file content. So the actual content starts with a tab character.\n\n\nI see the discrepancy now—the cat output shows 5 literal tabs at the start of line 334, but my editor might be converting them to spaces when I paste them into the Edit tool. I should try using sed through Bash to handle the replacement directly, or construct a longer, more distinctive string that won't have ambiguous whitespace issues. I think the real problem is that I've been using spaces in my old_string when the file actually contains tabs, which is why the Edit tool can't find a match. Let me try using actual tab characters this time, or switch to a bash approach with sed to handle the replacement more reliably.","signature":"EsAZCkYICxgCKkCJQ2vfLvjILG4S5RVF8eNXSUvBIHPmu5PJS2NRJrcngdcg9F64ZDoVk/1KNyhkQSZo9eTdIsRMPOJswLhUbqMGEgx/NBOtRRueM3/ha9kaDBnykLx9OkQNjiSffyIwUQsjMfUHCs4mal4wN8a6S5uLFArpr3BcigqsVG/XroLUiXKg3lWWRPXLKTo2DXVbKqcY9C5WThEG4pG9azoYxvDSbkyBJYcp5Y0tcoTqw7r1Py1JeWCldc4Au49kQa/q5o667Z1hviQ3Im48enVr+jCMemXwXadVzKlrotbtgSxBoxFDmiQFU3PnLJf6stjb01eewMmj3Eyq4l83PBD6TKfROADHFiThX9VfEdFVl8w9VGtLF+Gti1czJF3+/6/f2+8eigdzpJ5PlYPxvDniqwBs2PgHuxEwmSj63x5mYHDeYcWxSPLHdKs+T3hx7TQZEaQi6NO1OHsTHKSfm4UfIGamnMivvnAEmBauLwV1ofQmUCXr7uriqgnpt0egGRZILIDkFqwQ/6oX/uM6G3iCMUE2lFQqEbFbf5v/U5ni3w/asWmZAWH1/FFqDcenbHViHIMUdF8CSHlJgY+BAVGgOFvWvxcI4vKpabmSiY3/Bfr04fscgYWN3MvfG+yb7PWs1EHQAOVLprWnPsAX/s2BSIbSPdkFMVMHhhu76vFuwwXtaZ5R2JxZEbwqvbO3h9okvWrRkfWiCaqQrGeu/3+jeF4BTQm2B3+hWHZTJB+X26jERXs/K3SuW/qGGbV64nW9mUpzEo5dtB7bGN+Q0AE/GODXTW2sXcWFNXd1sJPdEUhEzVFNpH0bd1dDbwbnKQ06P4RTQnwJHgMBVx7LwrR9d/dM/wB1fE8VDmJ5i2douP0vfh1mxon/MknIiVerutOFlfz4XDHO+RpscfRUDcGwTfCxARILmAnPhOfR3lQ22QFLyIfcwpxmcKrkDffBLbvPms/m2xOdWnmWOUs78MeXE79epJT9iqjDmC6RqGqQGv/VqGz8SOxkiY8dJ4CgpN1Kdn/dWd+QNynJu15FzDHDgN5U3YFLfj/5QQjucCQZRQrMYxpN/QNMijdrub5asRuAVD5SPkw6iq5ouE4GvFIq+s3zpkE8bxZum0jkyDQz7vLVxYP72XrlvMk56w1gN47+38w/c7Qma2E1HNxfFMfP0IXvw8aiS3YWbj4317GZOtpxSSrRKCy+4bugrSObzcGwoqMIeQBMjMeiwBdKWTCDjt2XCWkxb7zd4js31VpwALvT1ryKXwI7VMpF9MQdViKA1YwLXl4KGqfCDEAjNnGjqWPq2OaeayefBNtomj68cm+BAwRfx11PQ+CJGAu9EDGT9HdDxtUxbQgcxDy+174todPVQ45O2ppv5KkNn/ozw9LY0SPue/A2FiItl389Yxi4NVeUR2hnzT2lTVrWyILBRXMLyhYULypxh4QfgrmlmvGYBbDDu/lX8ZESLZ3Tczj5kBHqNScvIIH3lkX7yvtMUBM/pQB3g5VL/9bEgk/BESweF9XPJhawTYtqbcN++rRK7YylLhxIB53EC0i1ktRYzuKC/sCKVwEiPUHPsqbfidVjkjMYg7DfVkylExBnWHO8qIcvD8cIp1eycRKJMp4EynIvKXJWN3AYkksWTOF7Zes+mnwbKyWD8wbvKJCKJTUH7zwGIQXzlR9ag1Y1gRSNpzitOMxow3vKTGuyi5oymDZGI25ncM0FxbiZwbhnGVwATxd3DNAJbXrVju1sTuzVQO8/OHJLSUGOMse228KZU4Y8CAkUXWh8gZ6X3b16NWi/Z/5JwFuRfYya/B55Xzcc51ZMEAdG/vU4yQg6WTJJD44wsWHDRjnJxw/Z5PTN0tGuSR7Y9fpsHMOpT49SVEFx7SA1+groiGkjrNCChEPprwC5/JEE47/rNlS/sV+OZ9aPKoNtUfKKfUb/9suQgvR8c/ZYV6ZJ/Bh130s8GAjm9gQiA0I6hx2E+JuCEXF2jFZmPzraNWbFqvNj1nxSW/wuwObUm6N5DiPd/t/pYHKh16sxplYNZhK/Jx1z1euWUoH4Txt+G4Pz5VH7VY8KhitsVK3/rQk3VQBfaQ0Hqe5VuwnopdLuMfdilee1qpYhSjC/r1n3zRnF5JSOPRSVDFjUzrf5N0pH1mt8jpqC85AZGJhwwLXde1AVBVSbG//XnGXH5WgKOo16xF/WLmIKyW+J/Dak8QL8A6rgSYl4qVzBNOT+1Qy753SFjQ6Wkj3mYuFGp/uTnDHfvywJa+dvNNbWJhPN0jqQUNA+aDwhTrNLE5ZwZXmYEGtHBd0RSIKY3ocV9KzZb5eVw790nERLvXej2pNmHO6vw4yDq4GBBhw78F8idD9GPP2y8PN+OkEFbS63h5HB/Wjly28cqTTEIXJnVT02THw+6yUc7npRMP/NAUVYz7lE+olmnd+gvQLRjuGvnIC9K2qh1p567DqJBjMKArKjRgjyAT6OpN8TRtjitE1Mmz9GmtWKv8N7zgIylG1XpMPL+s979HUtf6Anh2PXOp31uqBE10Rjdsr8sv/L1EL2o/uvxT5uzOLa/wk7V8/wYdBY162+Mpr41mOmg0O10LCwAfQ25BZC2vDYQlGfhSWVyD89UVdBL22KnCkTUE20x33/0gmnPP5uZbH9vqNPnOq5H1fKT7DfITIPeBn12xdruYdtneBpPxbfSmwJv3MQuPXthPNSG3ivVEhvcginNUdXLoYz0vpzo5d2iyKQwTHTSjwGuPy4dkKFYLAG6eInvDnPhx7FQ9yqJX+w32t0iLU7MnI7HsBmq89MGWsk03OSzaM58OYb5pxqyfeKxi42RgzsZ1EqK3m8ESTt2qPQRLpPp9y++uvPR3vCOyTcyw+fm54jJ7cwmPw92AtPQbH/dfZSok8vtNx4Vg29suK77UmM1i/23FVYZS6rDRYLw1zGdxL930ivU36+Q7oF37j8e4ZuMdthbUainakrdQN8bt2do0Ngbd1/pXbXfh6OekyKUh24qUgfnLXX5QJ2EKBqKILE4KRzrFu5nZjKF+Joo+PiKBootpUBL3rfWJXhPzHsAcGklmMuRJfTOi2Q13z3SnGJYT57hCYSnzt3GYlm1/jhOlH53bkdL+LV5M2FBEzEuxY5V6c/7F7vzsuvA9N62tfYKX8VnC2Uqoal7Gz00nlDKEGW8QDaky5NQqClVxV7UDBTcdtuz8BuIDQUcODbQXWVgHVJe4ygfVp41eff3nv1Tar3q2tkUAyXb6IY9Z3+xB/S9gNyP0BkPLLCf1dznrRqO2ThZo8nUXkfBZaKFXcnVZN4R+RvZinhL8gXBihQok5LBxiD7J821keZU6HkYXlCNdZcDKkp0AcxHSE0zl4QiyeB9KQfrhjGn9zi8jyuqLMdbpUX68brmmSlWuzYoDpeAo7eJfE93tPYkgcsWKblElSKsiYG6U/b4jphTA0REUVmRgH2wEB0vMjiG9jbiMB5eMIgAXRH9v+PWrEB3+XP6QOK6ul50gdObZE3t6H36+DjjYtIpLIxKRtBh7WvIOKUV2EIj8hA98Z8c1iwVOgkKS3IeaTgbxFEsbQ3Ui1Z/2UOWTwG5P8utOM8SLDnK5kOJ1uUuXMMrZcEFtX8ywddEoveLJoc0GW8dOmH0kg7OkLcY1lS4bGCDOp9ESSJn/1qOhON+mp2H/JmDkaSZjXhx2XF4Ds2OSORQ/V+FFOZbo9icnlaacwBUaQ4Twn8aAPZ6vrMXBy5Ts+pEfWA0ylGi9bnBympPlmefFqIvAVlvHBL1NFPK5nr4PtBRpiUirRqy8LXb2ci6HI4nN/cI4KJwpZ7dObzkXgsAVi9OAl4ec5kEN1JAUYUjfKMBxfEm1u/oGM4egmlF2OzAfNOQhI/YDU68HbukKiQ3tnrVBYqsmelaSLJrndBXi1vuN8mFxRcL8GIw1jI/sY0GYDr8Fdh+6I4tECSFf4tsQ2JVXKvjeqpDXlPe6IDt/QOLdSuZlcgs06BijmCP0lOFIwfhdaII1CDtoPAeQcgQ96Qj2RiMQDjrh2Sw7vP0XKS/usl/38d8SuHNBIIwDqcMhyrI/mip2EX3a2AKmlHoG1XGOD8+thR20d/7r/KKFLzVQJOz2Sj3M0nYSniY1jwftOE+6Yeo4ILkWzGOvCjTm9Blkwb63m3RetoxDZucMyfOxywSZA4AXkwM/481h09XVIxR0TVZMYaI8UkqPl72H8nSu1UQ7U5j7eo8V23CjF1b4WqJFWCamRqHOe7iHbo6OD8ecePrAP92k/5Xpy6tI/guSF8xeFaZOlLUYye+viOKBsufuOg7P7ZVa5JH50cprxbsn5xN648B8PqEO0SD3rsrUxjY5zT/j5lI1M6GAE="}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":618,"cache_read_input_tokens":87921,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":618},"output_tokens":8,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66SwS6SnMJFvHDGq13R","type":"assistant","uuid":"5458451c-6390-4e90-a5ab-83446c383517","timestamp":"2026-02-13T12:48:55.095Z"}
{"parentUuid":"5458451c-6390-4e90-a5ab-83446c383517","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01HiHY8mpSTYma1qy5qV2FYo","type":"message","role":"assistant","content":[{"type":"text","text":"The file uses tabs for indentation. Let me use Bash to make this replacement:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":618,"cache_read_input_tokens":87921,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":618},"output_tokens":8,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66SwS6SnMJFvHDGq13R","type":"assistant","uuid":"0d7a2b09-3a4b-4003-b897-0b40b58f6b28","timestamp":"2026-02-13T12:48:55.095Z"}
{"parentUuid":"0d7a2b09-3a4b-4003-b897-0b40b58f6b28","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01HiHY8mpSTYma1qy5qV2FYo","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01MAiEBGw4ZStW3F1GYYRYaN","name":"Bash","input":{"command":"python3 -c \"\nimport re\n\nwith open('frontend/src/components/Summary.tsx', 'r') as f:\n    content = f.read()\n\nold = '''\\t\\t\\t\\t\\t{/* Delete Button - hidden in cloud mode */}\n\\t\\t\\t\\t\\t{evaluationId && onDelete && !cloudMode && (\n\\t\\t\\t\\t\\t\\t<button\n\\t\\t\\t\\t\\t\\t\\tonClick={() => {\n\\t\\t\\t\\t\\t\\t\\t\\tif (\n\\t\\t\\t\\t\\t\\t\\t\\t\\tconfirm(\\\"Are you sure you want to delete this evaluation?\\\")\n\\t\\t\\t\\t\\t\\t\\t\\t) {\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonDelete();\n\\t\\t\\t\\t\\t\\t\\t\\t}\n\\t\\t\\t\\t\\t\\t\\t}}\n\\t\\t\\t\\t\\t\\t\\tclassName=\\\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\\\"\n\\t\\t\\t\\t\\t\\t\\ttitle=\\\"Delete evaluation\\\"\n\\t\\t\\t\\t\\t\\t>\n\\t\\t\\t\\t\\t\\t\\t<svg\n\\t\\t\\t\\t\\t\\t\\t\\tclassName=\\\"w-6 h-6\\\"\n\\t\\t\\t\\t\\t\\t\\t\\tfill=\\\"none\\\"\n\\t\\t\\t\\t\\t\\t\\t\\tstroke=\\\"currentColor\\\"\n\\t\\t\\t\\t\\t\\t\\t\\tviewBox=\\\"0 0 24 24\\\"\n\\t\\t\\t\\t\\t\\t\\t>\n\\t\\t\\t\\t\\t\\t\\t\\t<path\n\\t\\t\\t\\t\\t\\t\\t\\t\\tstrokeLinecap=\\\"round\\\"\n\\t\\t\\t\\t\\t\\t\\t\\t\\tstrokeLinejoin=\\\"round\\\"\n\\t\\t\\t\\t\\t\\t\\t\\t\\tstrokeWidth={2}\n\\t\\t\\t\\t\\t\\t\\t\\t\\td=\\\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\\\"\n\\t\\t\\t\\t\\t\\t\\t\\t/>\n\\t\\t\\t\\t\\t\\t\\t</svg>\n\\t\\t\\t\\t\\t\\t</button>\n\\t\\t\\t\\t\\t)}'''\n\nnew = '''\\t\\t\\t\\t\\t<div className=\\\"flex items-center gap-2\\\">\n\\t\\t\\t\\t\\t\\t{/* Re-run Button */}\n\\t\\t\\t\\t\\t\\t{onReRun && (\n\\t\\t\\t\\t\\t\\t\\t<div className=\\\"flex items-center gap-1.5\\\">\n\\t\\t\\t\\t\\t\\t\\t\\t{!cloudMode && (\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<select\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue={reRunProvider}\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonChange={(e) =>\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tsetReRunProvider(e.target.value as ProviderName)\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t}\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclassName=\\\"bg-slate-700/60 border border-slate-600/50 text-slate-200 text-xs rounded-md px-2 py-1.5 focus:outline-none focus:ring-1 focus:ring-indigo-500\\\"\n\\t\\t\\t\\t\\t\\t\\t\\t\\t>\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{PROVIDERS.map((p) => (\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option key={p.name} value={p.name}>\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{p.displayName}\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</option>\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t))}\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</select>\n\\t\\t\\t\\t\\t\\t\\t\\t)}\n\\t\\t\\t\\t\\t\\t\\t\\t<button\n\\t\\t\\t\\t\\t\\t\\t\\t\\tonClick={() =>\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonReRun(cloudMode ? \\\"random\\\" : reRunProvider)\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\n\\t\\t\\t\\t\\t\\t\\t\\t\\tclassName=\\\"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-white bg-indigo-600 hover:bg-indigo-500 rounded-lg transition-colors\\\"\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttitle=\\\"Re-run evaluation\\\"\n\\t\\t\\t\\t\\t\\t\\t\\t>\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<svg\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclassName=\\\"w-3.5 h-3.5\\\"\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tfill=\\\"none\\\"\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstroke=\\\"currentColor\\\"\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tviewBox=\\\"0 0 24 24\\\"\n\\t\\t\\t\\t\\t\\t\\t\\t\\t>\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<path\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstrokeLinecap=\\\"round\\\"\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstrokeLinejoin=\\\"round\\\"\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstrokeWidth={2}\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\td=\\\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\\\"\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</svg>\n\\t\\t\\t\\t\\t\\t\\t\\t\\tRe-run\n\\t\\t\\t\\t\\t\\t\\t\\t</button>\n\\t\\t\\t\\t\\t\\t\\t</div>\n\\t\\t\\t\\t\\t\\t)}\n\\t\\t\\t\\t\\t\\t{/* Delete Button - hidden in cloud mode */}\n\\t\\t\\t\\t\\t\\t{evaluationId && onDelete && !cloudMode && (\n\\t\\t\\t\\t\\t\\t\\t<button\n\\t\\t\\t\\t\\t\\t\\t\\tonClick={() => {\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tconfirm(\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\\"Are you sure you want to delete this evaluation?\\\",\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)\n\\t\\t\\t\\t\\t\\t\\t\\t\\t) {\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tonDelete();\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\n\\t\\t\\t\\t\\t\\t\\t\\t}}\n\\t\\t\\t\\t\\t\\t\\t\\tclassName=\\\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\\\"\n\\t\\t\\t\\t\\t\\t\\t\\ttitle=\\\"Delete evaluation\\\"\n\\t\\t\\t\\t\\t\\t\\t>\n\\t\\t\\t\\t\\t\\t\\t\\t<svg\n\\t\\t\\t\\t\\t\\t\\t\\t\\tclassName=\\\"w-6 h-6\\\"\n\\t\\t\\t\\t\\t\\t\\t\\t\\tfill=\\\"none\\\"\n\\t\\t\\t\\t\\t\\t\\t\\t\\tstroke=\\\"currentColor\\\"\n\\t\\t\\t\\t\\t\\t\\t\\t\\tviewBox=\\\"0 0 24 24\\\"\n\\t\\t\\t\\t\\t\\t\\t\\t>\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<path\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstrokeLinecap=\\\"round\\\"\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstrokeLinejoin=\\\"round\\\"\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tstrokeWidth={2}\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\td=\\\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\\\"\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\n\\t\\t\\t\\t\\t\\t\\t\\t</svg>\n\\t\\t\\t\\t\\t\\t\\t</button>\n\\t\\t\\t\\t\\t\\t)}\n\\t\\t\\t\\t\\t</div>'''\n\nif old in content:\n    content = content.replace(old, new)\n    with open('frontend/src/components/Summary.tsx', 'w') as f:\n        f.write(content)\n    print('Replacement successful')\nelse:\n    print('ERROR: old string not found')\n\"\n"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":618,"cache_read_input_tokens":87921,"output_tokens":3756,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":618,"ephemeral_5m_input_tokens":0},"inference_geo":"","iterations":[],"speed":"standard"}},"requestId":"req_011CY66SwS6SnMJFvHDGq13R","type":"assistant","uuid":"c066fd57-614f-4963-acb4-c896ddb26097","timestamp":"2026-02-13T12:49:17.497Z"}
{"parentUuid":"c066fd57-614f-4963-acb4-c896ddb26097","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01MAiEBGw4ZStW3F1GYYRYaN","type":"tool_result","content":"Replacement successful","is_error":false}]},"uuid":"4d1e6f7d-6e55-47a4-82c6-d12fab101a9e","timestamp":"2026-02-13T12:49:17.899Z","toolUseResult":{"stdout":"Replacement successful","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"c066fd57-614f-4963-acb4-c896ddb26097"}
{"parentUuid":"4d1e6f7d-6e55-47a4-82c6-d12fab101a9e","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01B8QyKDfCZbaGREpGgQ4Gbv","type":"message","role":"assistant","content":[{"type":"text","text":"Good. Now let me update App.tsx. First, fix the `ProviderName` import and the provider type in `handleUrlSubmit`:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":3748,"cache_read_input_tokens":88539,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":3748},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66W2mACizWfCkRD93yM","type":"assistant","uuid":"e3dc48a1-fd88-4f8f-8819-1639c70faec5","timestamp":"2026-02-13T12:49:20.967Z"}
{"parentUuid":"e3dc48a1-fd88-4f8f-8819-1639c70faec5","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01B8QyKDfCZbaGREpGgQ4Gbv","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_011EBtd1UGtuD49FCWUU9KEP","name":"Edit","input":{"replace_all":false,"file_path":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/App.tsx","old_string":"import { useEvaluationApi } from \"./hooks/useEvaluationApi\";","new_string":"import type { ProviderName } from \"./hooks/useEvaluationApi\";\nimport { useEvaluationApi } from \"./hooks/useEvaluationApi\";"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":3748,"cache_read_input_tokens":88539,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":3748},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66W2mACizWfCkRD93yM","type":"assistant","uuid":"dc3b281b-2a19-43c3-94be-28ccb6d64d11","timestamp":"2026-02-13T12:49:22.958Z"}
{"type":"file-history-snapshot","messageId":"dc3b281b-2a19-43c3-94be-28ccb6d64d11","snapshot":{"messageId":"786c985a-b492-4267-a622-fd74bf90537c","trackedFileBackups":{"frontend/src/components/Summary.tsx":{"backupFileName":"3dfda6a17ea33c6c@v1","version":1,"backupTime":"2026-02-13T12:47:03.857Z"},"frontend/src/App.tsx":{"backupFileName":"a9c3aa9c76b64e9a@v1","version":1,"backupTime":"2026-02-13T12:49:27.974Z"}},"timestamp":"2026-02-13T12:46:44.812Z"},"isSnapshotUpdate":true}
{"parentUuid":"dc3b281b-2a19-43c3-94be-28ccb6d64d11","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_011EBtd1UGtuD49FCWUU9KEP","toolUseID":"toolu_011EBtd1UGtuD49FCWUU9KEP","timestamp":"2026-02-13T12:49:27.978Z","uuid":"9667e597-c10a-4dc4-bc6f-9a6ede1e9c2b"}
{"parentUuid":"dc3b281b-2a19-43c3-94be-28ccb6d64d11","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_011EBtd1UGtuD49FCWUU9KEP","type":"tool_result","content":"The file /Users/cedricteyton/Code/agents-md-evaluator/frontend/src/App.tsx has been updated successfully."}]},"uuid":"b1ba06e2-1169-420a-a5e9-8d6909ee1b54","timestamp":"2026-02-13T12:49:27.977Z","toolUseResult":{"filePath":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/App.tsx","oldString":"import { useEvaluationApi } from \"./hooks/useEvaluationApi\";","newString":"import type { ProviderName } from \"./hooks/useEvaluationApi\";\nimport { useEvaluationApi } from \"./hooks/useEvaluationApi\";","originalFile":"import { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport {\n\tBrowserRouter,\n\tRoute,\n\tRoutes,\n\tuseLocation,\n\tuseNavigate,\n\tuseParams,\n\tuseSearchParams,\n} from \"react-router-dom\";\nimport { AppHeader } from \"./components/AppHeader\";\nimport { AssessmentPage } from \"./components/AssessmentPage\";\nimport { BatchStatusPage } from \"./components/BatchStatusPage\";\nimport { CostAnalysisPanel } from \"./components/CostAnalysisPanel\";\nimport { EmptyState } from \"./components/EmptyState\";\nimport { EvaluationInputPanel } from \"./components/EvaluationInputPanel\";\nimport { EvaluatorFailurePanel } from \"./components/EvaluatorFailurePanel\";\nimport { EvaluatorsPage } from \"./components/EvaluatorsPage\";\nimport { EvaluatorTemplatesPanel } from \"./components/EvaluatorTemplatesPanel\";\nimport { ExperimentalNotice } from \"./components/ExperimentalNotice\";\nimport type { FilterOptionCounts, FilterState } from \"./components/FilterPanel\";\nimport { FilterPanel } from \"./components/FilterPanel\";\nimport { HowItWorksPage } from \"./components/HowItWorksPage\";\nimport { IssuesList } from \"./components/IssuesList\";\nimport { IssuesPage } from \"./components/IssuesPage\";\nimport { ProgressPanel } from \"./components/ProgressPanel\";\nimport { RecentEvaluationsPage } from \"./components/RecentEvaluationsPage\";\nimport { RemediateTab } from \"./components/RemediateTab\";\nimport { SelectionSummaryBar } from \"./components/SelectionSummaryBar\";\nimport { StatsPage } from \"./components/StatsPage\";\nimport { Summary } from \"./components/Summary\";\nimport type { TabItem } from \"./components/Tabs\";\nimport { TabPanel, Tabs } from \"./components/Tabs\";\nimport {\n\tFeatureFlagProvider,\n\tuseFeatureFlags,\n} from \"./contexts/FeatureFlagContext\";\nimport { useBookmarkApi } from \"./hooks/useBookmarkApi\";\nimport { useEvaluationApi } from \"./hooks/useEvaluationApi\";\nimport { useEvaluationHistory } from \"./hooks/useEvaluationHistory\";\nimport { useFeedbackApi } from \"./hooks/useFeedbackApi\";\nimport { useSelectionApi } from \"./hooks/useSelectionApi\";\nimport { useSSE } from \"./hooks/useSSE\";\nimport { useVersion } from \"./hooks/useVersion\";\nimport { getFilteredEvaluatorCount } from \"./lib/formatters\";\nimport { shouldUseNestedGrouping as checkShouldUseNestedGrouping } from \"./lib/grouping-utils\";\nimport { generateIssueHash } from \"./lib/issue-hash\";\nimport { generateIssueKey } from \"./lib/issue-utils\";\nimport type {\n\tCategoryGroup,\n\tEvaluationOutput,\n\tEvaluatorFilter,\n\tIndependentEvaluationOutput,\n\tIssue,\n\tUnifiedEvaluationOutput,\n} from \"./types/evaluation\";\nimport {\n\tgetIssueFile,\n\tgetIssueSeverity,\n\tgetIssueType,\n\tgetMaxCategoryGroupSeverity,\n\tgetMaxIssueSeverity,\n\tgetSeverityLevel,\n\tisIndependentFormat,\n\tisUnifiedFormat,\n\tparseEvaluatorResult,\n} from \"./types/evaluation\";\nimport type {\n\tEvaluationMode,\n\tICloneWarningEvent,\n\tIContextAnalysisEvent,\n\tIContextClocEvent,\n\tIContextFoldersEvent,\n\tIContextWarningEvent,\n\tIDiscoveryCompletedEvent,\n\tIEvaluatorProgressEvent,\n\tIFileStartedEvent,\n\tIJobCompletedEvent,\n\tIJobFailedEvent,\n\tIJobStartedEvent,\n\tIProgressState,\n\tSSEEvent,\n} from \"./types/job\";\n\nfunction AppContent() {\n\t// Feature flags\n\tconst { assessmentEnabled, groupSelectEnabled, cloudMode } =\n\t\tuseFeatureFlags();\n\n\t// URL-based routing\n\tconst navigate = useNavigate();\n\tconst { id: urlEvaluationId } = useParams<{ id: string }>();\n\tconst [searchParams, setSearchParams] = useSearchParams();\n\n\t// Tab state from URL with smart defaults\n\tconst rawTab = searchParams.get(\"tab\");\n\tconst handleTabChange = useCallback(\n\t\t(tabId: string) => {\n\t\t\tsetSearchParams(\n\t\t\t\t(prev) => {\n\t\t\t\t\tprev.set(\"tab\", tabId);\n\t\t\t\t\treturn prev;\n\t\t\t\t},\n\t\t\t\t{ replace: true },\n\t\t\t);\n\t\t},\n\t\t[setSearchParams],\n\t);\n\n\tconst [evaluationData, setEvaluationData] = useState<EvaluationOutput | null>(\n\t\tnull,\n\t);\n\tconst [filters, setFilters] = useState<FilterState>({\n\t\tseverities: new Set(),\n\t\tcategories: new Set(),\n\t\tevaluators: new Set(),\n\t\tsearchText: \"\",\n\t\tbookmarkedOnly: false,\n\t});\n\t// Always show all issues (removed curated toggle)\n\n\t// Evaluation job state\n\tconst [evaluationMode, setEvaluationMode] = useState<EvaluationMode>(\"idle\");\n\tconst [currentJobId, setCurrentJobId] = useState<string | null>(null);\n\tconst [sseUrl, setSSEUrl] = useState<string | null>(null);\n\tconst [progressState, setProgressState] = useState<IProgressState | null>(\n\t\tnull,\n\t);\n\tconst [apiError, setApiError] = useState<string | null>(null);\n\tconst [isLoadingFromUrl, setIsLoadingFromUrl] = useState(false);\n\tconst [currentRepositoryUrl, setCurrentRepositoryUrl] = useState<\n\t\tstring | null\n\t>(null);\n\t// Store evaluation logs to persist after completion\n\tconst [evaluationLogs, setEvaluationLogs] = useState<\n\t\tArray<{ timestamp: Date; type: string; message: string }>\n\t>([]);\n\n\t// Issue selection state\n\tconst [selectedIssueKeys, setSelectedIssueKeys] = useState<Set<string>>(\n\t\tnew Set(),\n\t);\n\tconst [issueKeyMap, setIssueKeyMap] = useState<Map<string, Issue>>(new Map());\n\n\t// Feedback state\n\tconst [feedbackMap, setFeedbackMap] = useState<\n\t\tMap<string, \"like\" | \"dislike\">\n\t>(new Map());\n\tconst feedbackApi = useFeedbackApi();\n\n\t// Bookmark state\n\tconst [bookmarkSet, setBookmarkSet] = useState<Set<string>>(new Set());\n\tconst bookmarkApi = useBookmarkApi();\n\n\t// Selection persistence\n\tconst selectionApi = useSelectionApi();\n\n\t// Derive currentEvaluationId from URL parameter\n\tconst currentEvaluationId = urlEvaluationId || null;\n\n\t// Ref for completion timeout cleanup\n\tconst completionTimeoutRef = useRef<ReturnType<typeof setTimeout> | null>(\n\t\tnull,\n\t);\n\n\t// API hook\n\tconst api = useEvaluationApi();\n\n\t// Evaluation history hook\n\tconst historyApi = useEvaluationHistory();\n\n\t// Version hook\n\tconst { version } = useVersion();\n\n\t// Ref for stable access to API function (avoids dependency array issues)\n\tconst loadEvaluationRef = useRef(historyApi.loadEvaluation);\n\tloadEvaluationRef.current = historyApi.loadEvaluation;\n\n\t// SSE event handler\n\tconst handleProgressEvent = useCallback(\n\t\t(event: SSEEvent) => {\n\t\t\tsetProgressState((prev) => {\n\t\t\t\tif (!prev) return prev;\n\n\t\t\t\tconst newState = { ...prev };\n\n\t\t\t\tswitch (event.type) {\n\t\t\t\t\t// Clone events\n\t\t\t\t\tcase \"clone.started\": {\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: \"Cloning repository...\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"clone.completed\": {\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\tmessage: \"Repository cloned successfully\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"clone.warning\": {\n\t\t\t\t\t\tconst data = (event as ICloneWarningEvent).data;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\t\t\tmessage: data.message,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discovery events\n\t\t\t\t\tcase \"discovery.started\": {\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: \"Discovering context files...\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"discovery.completed\": {\n\t\t\t\t\t\tconst data = (event as IDiscoveryCompletedEvent).data;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\tmessage: `Found ${data.filesFound} context file(s)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Context sub-step events\n\t\t\t\t\tcase \"context.cloc\": {\n\t\t\t\t\t\tconst data = (event as IContextClocEvent).data;\n\t\t\t\t\t\tif (data.status === \"started\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\t\tmessage: \"Analyzing codebase size...\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t} else if (data.status === \"completed\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\t\tmessage: `Codebase: ${data.totalLines?.toLocaleString() || \"?\"} lines across ${data.languageCount || \"?\"} languages`,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"context.folders\": {\n\t\t\t\t\t\tconst data = (event as IContextFoldersEvent).data;\n\t\t\t\t\t\tif (data.status === \"started\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\t\tmessage: \"Analyzing directory structure...\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t} else if (data.status === \"completed\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\t\tmessage: `Structure: ${data.folderCount || \"?\"} key directories`,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"context.analysis\": {\n\t\t\t\t\t\tconst data = (event as IContextAnalysisEvent).data;\n\t\t\t\t\t\tif (data.status === \"started\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\t\tmessage: \"Identifying project context...\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t} else if (data.status === \"completed\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\t\tmessage: \"Project context identified\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"context.warning\": {\n\t\t\t\t\t\tconst data = (event as IContextWarningEvent).data;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\t\t\tmessage: data.message,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"job.started\": {\n\t\t\t\t\t\tconst data = (event as IJobStartedEvent).data;\n\t\t\t\t\t\tnewState.status = \"running\";\n\t\t\t\t\t\tnewState.totalFiles = data.totalFiles || 0;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: `Started evaluation (${data.evaluationMode} mode, ${data.totalFiles} file(s))`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"file.started\": {\n\t\t\t\t\t\tconst data = (event as IFileStartedEvent).data;\n\t\t\t\t\t\tnewState.currentFile = data.filePath;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: `Processing ${data.filePath}`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"file.completed\": {\n\t\t\t\t\t\tnewState.completedFiles = (prev.completedFiles || 0) + 1;\n\t\t\t\t\t\t// Update percentage based on file progress\n\t\t\t\t\t\tif (newState.totalFiles > 0) {\n\t\t\t\t\t\t\tnewState.percentage = Math.round(\n\t\t\t\t\t\t\t\t(newState.completedFiles / newState.totalFiles) * 50,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluator.progress\": {\n\t\t\t\t\t\tconst data = (event as IEvaluatorProgressEvent).data;\n\t\t\t\t\t\tnewState.currentEvaluator = data.evaluatorName;\n\t\t\t\t\t\tnewState.completedEvaluators = data.evaluatorIndex;\n\t\t\t\t\t\tnewState.totalEvaluators = data.totalEvaluators;\n\t\t\t\t\t\t// Update percentage based on evaluator progress\n\t\t\t\t\t\tif (data.totalEvaluators > 0) {\n\t\t\t\t\t\t\tconst evaluatorProgress =\n\t\t\t\t\t\t\t\t(data.evaluatorIndex / data.totalEvaluators) * 50;\n\t\t\t\t\t\t\tnewState.percentage = 50 + Math.round(evaluatorProgress);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Include file context in log message when evaluating multiple files\n\t\t\t\t\t\tconst fileContext = data.currentFile\n\t\t\t\t\t\t\t? ` on ${data.currentFile.split(\"/\").pop()}`\n\t\t\t\t\t\t\t: \"\";\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: `Running ${data.evaluatorName}${fileContext} (${data.evaluatorIndex + 1}/${data.totalEvaluators})`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluator.completed\": {\n\t\t\t\t\t\tnewState.completedEvaluators = (prev.completedEvaluators || 0) + 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluator.retry\": {\n\t\t\t\t\t\tconst data = event.data as {\n\t\t\t\t\t\t\tevaluatorName: string;\n\t\t\t\t\t\t\tattempt: number;\n\t\t\t\t\t\t\tmaxRetries: number;\n\t\t\t\t\t\t\terror: string;\n\t\t\t\t\t\t\tcurrentFile?: string;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tconst retriesRemaining = data.maxRetries - data.attempt;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\t\t\tmessage: `Retry ${data.attempt}/${data.maxRetries} for ${data.evaluatorName}: ${data.error.substring(0, 100)}${data.error.length > 100 ? \"...\" : \"\"} (${retriesRemaining} retries remaining)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluator.timeout\": {\n\t\t\t\t\t\tconst data = event.data as {\n\t\t\t\t\t\t\tevaluatorName: string;\n\t\t\t\t\t\t\telapsedMs: number;\n\t\t\t\t\t\t\ttimeoutMs: number;\n\t\t\t\t\t\t\tcurrentFile?: string;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tconst elapsedSec = Math.round(data.elapsedMs / 1000);\n\t\t\t\t\t\tconst timeoutSec = Math.round(data.timeoutMs / 1000);\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\t\t\tmessage: `Timeout: ${data.evaluatorName} exceeded ${timeoutSec}s limit (elapsed: ${elapsedSec}s)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"curation.started\": {\n\t\t\t\t\t\tconst data = event.data;\n\t\t\t\t\t\tconst typeLabel =\n\t\t\t\t\t\t\tdata.issueType === \"error\"\n\t\t\t\t\t\t\t\t? \"errors\"\n\t\t\t\t\t\t\t\t: data.issueType === \"suggestion\"\n\t\t\t\t\t\t\t\t\t? \"suggestions\"\n\t\t\t\t\t\t\t\t\t: \"issues\";\n\t\t\t\t\t\tnewState.currentEvaluator = `Impact Curation (${typeLabel})`;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: `Curating top ${typeLabel} from ${data.totalIssues} total...`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"curation.completed\": {\n\t\t\t\t\t\tconst data = event.data;\n\t\t\t\t\t\tconst typeLabel =\n\t\t\t\t\t\t\tdata.issueType === \"error\"\n\t\t\t\t\t\t\t\t? \"errors\"\n\t\t\t\t\t\t\t\t: data.issueType === \"suggestion\"\n\t\t\t\t\t\t\t\t\t? \"suggestions\"\n\t\t\t\t\t\t\t\t\t: \"issues\";\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\tmessage: `Impact curation completed for ${typeLabel} (${data.curatedCount} selected)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluation.warning\": {\n\t\t\t\t\t\tconst data = event.data;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\t\t\tmessage: data.message || \"Some evaluators encountered errors\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"job.completed\": {\n\t\t\t\t\t\tconst data = (event as IJobCompletedEvent).data;\n\t\t\t\t\t\tnewState.status = \"completed\";\n\t\t\t\t\t\tnewState.percentage = 100;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\tmessage: `Evaluation completed in ${Math.round(data.duration / 1000)}s`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\t// Preserve logs for display in Summary after completion\n\t\t\t\t\t\tsetEvaluationLogs(newState.logs);\n\t\t\t\t\t\t// Set the evaluation data\n\t\t\t\t\t\tsetEvaluationData(data.result);\n\t\t\t\t\t\tsetEvaluationMode(\"completed\");\n\t\t\t\t\t\t// Reset job state after a short delay (user is already at /evaluation/:jobId)\n\t\t\t\t\t\t// Clear any existing timeout first\n\t\t\t\t\t\tif (completionTimeoutRef.current) {\n\t\t\t\t\t\t\tclearTimeout(completionTimeoutRef.current);\n\t\t\t\t\t\t\tcompletionTimeoutRef.current = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcompletionTimeoutRef.current = setTimeout(() => {\n\t\t\t\t\t\t\tsetCurrentJobId(null);\n\t\t\t\t\t\t\tsetSSEUrl(null);\n\t\t\t\t\t\t\tsetProgressState(null);\n\t\t\t\t\t\t}, 100);\n\t\t\t\t\t\t// Refresh history to show new evaluation\n\t\t\t\t\t\thistoryApi.refresh();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"job.failed\": {\n\t\t\t\t\t\tconst data = (event as IJobFailedEvent).data;\n\t\t\t\t\t\tnewState.status = \"failed\";\n\t\t\t\t\t\tnewState.errorMessage = data.error?.message || \"Unknown error\";\n\t\t\t\t\t\tnewState.errorCode = data.error?.code;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\t\t\tmessage: `Evaluation failed: ${data.error?.message || \"Unknown error\"}`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\t// Keep evaluationMode as 'evaluating' so ProgressPanel stays visible\n\t\t\t\t\t\t// User can dismiss manually with the \"Try Again\" button\n\t\t\t\t\t\t// Refresh history to show failed evaluation\n\t\t\t\t\t\thistoryApi.refresh();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Keep only last 50 logs\n\t\t\t\tif (newState.logs.length > 50) {\n\t\t\t\t\tnewState.logs = newState.logs.slice(-50);\n\t\t\t\t}\n\n\t\t\t\treturn newState;\n\t\t\t});\n\t\t},\n\t\t[historyApi],\n\t);\n\n\t// SSE connection\n\tuseSSE({\n\t\turl: sseUrl,\n\t\tonMessage: handleProgressEvent,\n\t\tonOpen: () => {\n\t\t\tsetProgressState((prev) =>\n\t\t\t\tprev\n\t\t\t\t\t? {\n\t\t\t\t\t\t\t...prev,\n\t\t\t\t\t\t\tlogs: [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\t\tmessage: \"Connected to progress stream\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t}\n\t\t\t\t\t: prev,\n\t\t\t);\n\t\t},\n\t});\n\n\t// Cleanup completion timeout on unmount\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tif (completionTimeoutRef.current) {\n\t\t\t\tclearTimeout(completionTimeoutRef.current);\n\t\t\t\tcompletionTimeoutRef.current = null;\n\t\t\t}\n\t\t};\n\t}, []);\n\n\t// Handle URL submission\n\tconst handleUrlSubmit = useCallback(\n\t\tasync (\n\t\t\turl: string,\n\t\t\tevaluators: number,\n\t\t\tprovider?: \"claude\" | \"opencode\" | \"cursor\" | \"github-copilot\",\n\t\t\tevaluatorFilter?: EvaluatorFilter,\n\t\t\tconcurrency?: number,\n\t\t\tselectedEvaluators?: string[],\n\t\t) => {\n\t\t\tsetEvaluationMode(\"evaluating\");\n\t\t\tsetApiError(null);\n\t\t\tsetCurrentRepositoryUrl(url);\n\t\t\tsetEvaluationLogs([]); // Clear previous logs when starting new evaluation\n\n\t\t\ttry {\n\t\t\t\tconst response = await api.submitJob(\n\t\t\t\t\turl,\n\t\t\t\t\tevaluators,\n\t\t\t\t\tprovider,\n\t\t\t\t\tevaluatorFilter,\n\t\t\t\t\tundefined,\n\t\t\t\t\tconcurrency,\n\t\t\t\t\tselectedEvaluators,\n\t\t\t\t);\n\t\t\t\tsetCurrentJobId(response.jobId);\n\t\t\t\tsetSSEUrl(response.sseUrl);\n\n\t\t\t\t// Initialize progress state\n\t\t\t\tsetProgressState({\n\t\t\t\t\tstatus: \"queued\",\n\t\t\t\t\trepositoryUrl: url,\n\t\t\t\t\ttotalFiles: 0,\n\t\t\t\t\tcompletedFiles: 0,\n\t\t\t\t\ttotalEvaluators: getFilteredEvaluatorCount(\n\t\t\t\t\t\tevaluatorFilter || \"all\",\n\t\t\t\t\t\tevaluators,\n\t\t\t\t\t\tselectedEvaluators?.length,\n\t\t\t\t\t),\n\t\t\t\t\tcompletedEvaluators: 0,\n\t\t\t\t\tpercentage: 0,\n\t\t\t\t\tstartTime: new Date(),\n\t\t\t\t\tlogs: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\tmessage: \"Evaluation job submitted\",\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t});\n\n\t\t\t\t// Navigate immediately to the evaluation URL\n\t\t\t\tnavigate(`/evaluation/${response.jobId}`);\n\t\t\t} catch (error) {\n\t\t\t\tsetEvaluationMode(\"idle\");\n\t\t\t\tsetApiError(\n\t\t\t\t\terror instanceof Error\n\t\t\t\t\t\t? error.message\n\t\t\t\t\t\t: \"Failed to submit evaluation job\",\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[api, navigate],\n\t);\n\n\t// Handle batch URL submission\n\tconst handleBatchSubmit = useCallback(\n\t\tasync (\n\t\t\turls: string[],\n\t\t\t_evaluators: number,\n\t\t\tprovider?: \"claude\" | \"opencode\" | \"cursor\" | \"github-copilot\",\n\t\t\tevaluatorFilter?: EvaluatorFilter,\n\t\t\tconcurrency?: number,\n\t\t\tselectedEvaluators?: string[],\n\t\t) => {\n\t\t\tsetApiError(null);\n\t\t\ttry {\n\t\t\t\tconst response = await api.submitBatch(\n\t\t\t\t\turls,\n\t\t\t\t\tundefined,\n\t\t\t\t\tprovider,\n\t\t\t\t\tevaluatorFilter,\n\t\t\t\t\tundefined,\n\t\t\t\t\tconcurrency,\n\t\t\t\t\tselectedEvaluators,\n\t\t\t\t);\n\t\t\t\tnavigate(`/batch/${response.batchId}`);\n\t\t\t} catch (error) {\n\t\t\t\tsetApiError(\n\t\t\t\t\terror instanceof Error\n\t\t\t\t\t\t? error.message\n\t\t\t\t\t\t: \"Failed to submit batch evaluation\",\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[api, navigate],\n\t);\n\n\t// Handle job cancellation\n\tconst handleCancelJob = useCallback(async () => {\n\t\tif (currentJobId) {\n\t\t\tawait api.cancelJob(currentJobId);\n\t\t}\n\t\tsetEvaluationMode(\"idle\");\n\t\tsetProgressState(null);\n\t\tsetCurrentJobId(null);\n\t\tsetSSEUrl(null);\n\t}, [currentJobId, api]);\n\n\t// Handle dismissing failed evaluation (Try Again)\n\tconst handleDismissFailure = useCallback(() => {\n\t\tsetEvaluationMode(\"idle\");\n\t\tsetProgressState(null);\n\t\tsetCurrentJobId(null);\n\t\tsetSSEUrl(null);\n\t}, []);\n\n\t// Load evaluation from URL on mount or when URL changes\n\t// Handles both active jobs (reconnect SSE) and completed evaluations (load from database)\n\t// biome-ignore lint/correctness/useExhaustiveDependencies: handleFileLoad is intentionally excluded - we want the latest version but don't want it to trigger re-runs\n\tuseEffect(() => {\n\t\tif (!urlEvaluationId) return;\n\t\tif (evaluationData && evaluationMode === \"completed\") return; // Already loaded\n\t\tif (evaluationMode === \"evaluating\") return; // Currently evaluating\n\n\t\tconst loadEvaluationById = async () => {\n\t\t\tsetIsLoadingFromUrl(true);\n\t\t\tsetApiError(null);\n\n\t\t\ttry {\n\t\t\t\t// Step 1: Check if it's an active job\n\t\t\t\tconst jobStatus = await api.getJobStatus(urlEvaluationId);\n\n\t\t\t\tif (jobStatus.status === \"completed\" && jobStatus.result) {\n\t\t\t\t\t// Job completed, result in memory - use it directly\n\t\t\t\t\thandleFileLoad(jobStatus.result);\n\t\t\t\t\tsetCurrentRepositoryUrl(jobStatus.repositoryUrl || null);\n\t\t\t\t\tsetEvaluationMode(\"completed\");\n\t\t\t\t\t// Load feedback, bookmarks, and selections\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst feedback =\n\t\t\t\t\t\t\tawait feedbackApi.getFeedbackForEvaluation(urlEvaluationId);\n\t\t\t\t\t\tsetFeedbackMap(feedback);\n\t\t\t\t\t\tif (!cloudMode) {\n\t\t\t\t\t\t\tconst bookmarks =\n\t\t\t\t\t\t\t\tawait bookmarkApi.getBookmarksForEvaluation(urlEvaluationId);\n\t\t\t\t\t\t\tsetBookmarkSet(bookmarks);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst selections =\n\t\t\t\t\t\t\tawait selectionApi.getSelectionsForEvaluation(urlEvaluationId);\n\t\t\t\t\t\tsetSelectedIssueKeys(selections);\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error(\"Failed to load metadata:\", err);\n\t\t\t\t\t}\n\t\t\t\t\tsetIsLoadingFromUrl(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (jobStatus.status === \"failed\") {\n\t\t\t\t\tsetApiError(jobStatus.error?.message || \"Evaluation failed\");\n\t\t\t\t\tsetIsLoadingFromUrl(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Active job (running or queued) - reconnect SSE\n\t\t\t\tif (jobStatus.status === \"running\" || jobStatus.status === \"queued\") {\n\t\t\t\t\tsetCurrentJobId(urlEvaluationId);\n\t\t\t\t\tconst sseUrlValue = jobStatus.sseUrl?.startsWith(\"/\")\n\t\t\t\t\t\t? `${window.location.origin}${jobStatus.sseUrl}`\n\t\t\t\t\t\t: jobStatus.sseUrl || null;\n\t\t\t\t\tsetSSEUrl(sseUrlValue);\n\t\t\t\t\tsetCurrentRepositoryUrl(jobStatus.repositoryUrl || null);\n\t\t\t\t\tsetEvaluationMode(\"evaluating\");\n\n\t\t\t\t\t// Convert server logs to frontend format, or use default message\n\t\t\t\t\tconst historicalLogs = jobStatus.logs?.length\n\t\t\t\t\t\t? jobStatus.logs.map((log) => ({\n\t\t\t\t\t\t\t\ttimestamp: new Date(log.timestamp),\n\t\t\t\t\t\t\t\ttype: log.type,\n\t\t\t\t\t\t\t\tmessage: log.message,\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\" as const,\n\t\t\t\t\t\t\t\t\tmessage: \"Reconnected to evaluation in progress\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\n\t\t\t\t\t// Calculate progress percentage\n\t\t\t\t\tlet percentage = 0;\n\t\t\t\t\tif (jobStatus.progress?.totalEvaluators) {\n\t\t\t\t\t\tpercentage = Math.round(\n\t\t\t\t\t\t\t((jobStatus.progress.completedEvaluators || 0) /\n\t\t\t\t\t\t\t\tjobStatus.progress.totalEvaluators) *\n\t\t\t\t\t\t\t\t100,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Initialize progress state from job with historical logs\n\t\t\t\t\tsetProgressState({\n\t\t\t\t\t\tstatus: jobStatus.status,\n\t\t\t\t\t\trepositoryUrl: jobStatus.repositoryUrl || \"Unknown\",\n\t\t\t\t\t\ttotalFiles: jobStatus.progress?.totalFiles || 0,\n\t\t\t\t\t\tcompletedFiles: jobStatus.progress?.completedFiles || 0,\n\t\t\t\t\t\ttotalEvaluators: jobStatus.progress?.totalEvaluators || 0,\n\t\t\t\t\t\tcompletedEvaluators: jobStatus.progress?.completedEvaluators || 0,\n\t\t\t\t\t\tcurrentEvaluator: jobStatus.progress?.currentEvaluator,\n\t\t\t\t\t\tpercentage,\n\t\t\t\t\t\tstartTime: new Date(jobStatus.startedAt || jobStatus.createdAt),\n\t\t\t\t\t\tlogs: historicalLogs,\n\t\t\t\t\t});\n\t\t\t\t\tsetIsLoadingFromUrl(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} catch {\n\t\t\t\t// Not an active job - try database\n\t\t\t\tconsole.log(\"[App] Not an active job, trying database\");\n\t\t\t}\n\n\t\t\t// Step 2: Try loading from database\n\t\t\ttry {\n\t\t\t\tconst record = await loadEvaluationRef.current(urlEvaluationId);\n\t\t\t\tif (record?.result) {\n\t\t\t\t\thandleFileLoad(record.result);\n\t\t\t\t\tsetCurrentRepositoryUrl(record.repositoryUrl);\n\t\t\t\t\tsetEvaluationMode(\"completed\");\n\t\t\t\t\t// Load feedback, bookmarks, and selections\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst feedback =\n\t\t\t\t\t\t\tawait feedbackApi.getFeedbackForEvaluation(urlEvaluationId);\n\t\t\t\t\t\tsetFeedbackMap(feedback);\n\t\t\t\t\t\tif (!cloudMode) {\n\t\t\t\t\t\t\tconst bookmarks =\n\t\t\t\t\t\t\t\tawait bookmarkApi.getBookmarksForEvaluation(urlEvaluationId);\n\t\t\t\t\t\t\tsetBookmarkSet(bookmarks);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst selections =\n\t\t\t\t\t\t\tawait selectionApi.getSelectionsForEvaluation(urlEvaluationId);\n\t\t\t\t\t\tsetSelectedIssueKeys(selections);\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error(\"Failed to load metadata:\", err);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsetApiError(\"Evaluation not found\");\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tsetApiError(\n\t\t\t\t\terr instanceof Error ? err.message : \"Failed to load evaluation\",\n\t\t\t\t);\n\t\t\t} finally {\n\t\t\t\tsetIsLoadingFromUrl(false);\n\t\t\t}\n\t\t};\n\n\t\tloadEvaluationById();\n\t}, [\n\t\turlEvaluationId,\n\t\tevaluationData,\n\t\tevaluationMode,\n\t\tapi,\n\t\tfeedbackApi,\n\t\tbookmarkApi,\n\t\tselectionApi,\n\t\tcloudMode,\n\t]);\n\n\t// Parse all issues from evaluation data\n\tconst allIssues = useMemo(() => {\n\t\tif (!evaluationData) return [];\n\n\t\tconst issues: Array<Issue & { evaluatorName?: string }> = [];\n\n\t\tif (isUnifiedFormat(evaluationData)) {\n\t\t\t// Unified format: results array\n\t\t\tconst unifiedData = evaluationData as UnifiedEvaluationOutput;\n\t\t\tfor (const result of unifiedData.results) {\n\t\t\t\tif (result.output && result.output.result) {\n\t\t\t\t\tconst parsedIssues = parseEvaluatorResult(result.output.result);\n\t\t\t\t\tparsedIssues.forEach((issue) => {\n\t\t\t\t\t\tissues.push({ ...issue, evaluatorName: result.evaluator });\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add top-level cross-file issues for unified format\n\t\t\tif (unifiedData.crossFileIssues) {\n\t\t\t\tissues.push(\n\t\t\t\t\t...unifiedData.crossFileIssues.map((issue) => ({\n\t\t\t\t\t\t...issue,\n\t\t\t\t\t\tevaluatorName: \"cross-file\",\n\t\t\t\t\t})),\n\t\t\t\t);\n\t\t\t}\n\t\t} else if (isIndependentFormat(evaluationData)) {\n\t\t\t// Independent format: files object\n\t\t\tconst independentData = evaluationData as IndependentEvaluationOutput;\n\t\t\tfor (const [_filePath, fileResult] of Object.entries(\n\t\t\t\tindependentData.files,\n\t\t\t)) {\n\t\t\t\tfor (const evaluation of fileResult.evaluations) {\n\t\t\t\t\tconst evalWithIssues = evaluation as {\n\t\t\t\t\t\tissues?: Issue[];\n\t\t\t\t\t\tevaluator: string;\n\t\t\t\t\t\toutput?: { result: string };\n\t\t\t\t\t};\n\t\t\t\t\t// Handle both formats:\n\t\t\t\t\t// 1. Backend API format: issues array directly on evaluation\n\t\t\t\t\t// 2. JSON file format: output.result as a string to parse\n\t\t\t\t\tif (\"issues\" in evaluation && Array.isArray(evalWithIssues.issues)) {\n\t\t\t\t\t\t// Backend API format - issues are already parsed\n\t\t\t\t\t\tconst evalIssues = evalWithIssues.issues;\n\t\t\t\t\t\tevalIssues.forEach((issue) => {\n\t\t\t\t\t\t\tissues.push({ ...issue, evaluatorName: evaluation.evaluator });\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (evaluation.output && evaluation.output.result) {\n\t\t\t\t\t\t// JSON file format - need to parse result string\n\t\t\t\t\t\tconst parsedIssues = parseEvaluatorResult(evaluation.output.result);\n\t\t\t\t\t\tparsedIssues.forEach((issue) => {\n\t\t\t\t\t\t\tissues.push({ ...issue, evaluatorName: evaluation.evaluator });\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add cross-file issues\n\t\t\tif (independentData.crossFileIssues) {\n\t\t\t\tissues.push(\n\t\t\t\t\t...independentData.crossFileIssues.map((issue) => ({\n\t\t\t\t\t\t...issue,\n\t\t\t\t\t\tevaluatorName: \"cross-file\",\n\t\t\t\t\t})),\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// Build issue key map for selection tracking\n\t\tconst keyMap = new Map<string, Issue>();\n\t\tissues.forEach((issue, index) => {\n\t\t\tconst key = generateIssueKey(issue, index);\n\t\t\tkeyMap.set(key, issue);\n\t\t});\n\t\tsetIssueKeyMap(keyMap);\n\n\t\treturn issues;\n\t}, [evaluationData]);\n\n\t// Get curated issues from impact curation (if available)\n\tconst curatedIssues = useMemo(() => {\n\t\tif (!evaluationData?.curation) return [];\n\n\t\tconst issues: Issue[] = [];\n\n\t\t// Add curated errors\n\t\tif (evaluationData.curation.errors?.curatedIssues) {\n\t\t\tissues.push(...evaluationData.curation.errors.curatedIssues);\n\t\t}\n\n\t\t// Add curated suggestions\n\t\tif (evaluationData.curation.suggestions?.curatedIssues) {\n\t\t\tissues.push(...evaluationData.curation.suggestions.curatedIssues);\n\t\t}\n\n\t\t// Fallback to legacy format\n\t\tif (issues.length === 0 && evaluationData.curation.curatedIssues) {\n\t\t\tissues.push(...evaluationData.curation.curatedIssues);\n\t\t}\n\n\t\treturn issues;\n\t}, [evaluationData]);\n\n\t// Get curation summary (if available)\n\tconst curationSummary = useMemo(() => {\n\t\treturn evaluationData?.curation?.summary || null;\n\t}, [evaluationData]);\n\n\t// Use curated issues when available, otherwise display all issues\n\tconst displayIssues = useMemo(() => {\n\t\treturn curatedIssues.length > 0 ? curatedIssues : allIssues;\n\t}, [curatedIssues, allIssues]);\n\n\t// Calculate severity counts from displayed issues\n\tconst { highCount, mediumCount } = useMemo(() => {\n\t\tconst counts = { high: 0, medium: 0 };\n\t\tdisplayIssues.forEach((issue) => {\n\t\t\tconst numericSeverity = getIssueSeverity(issue);\n\t\t\tconst level = getSeverityLevel(numericSeverity);\n\t\t\tif (level === \"high\") counts.high++;\n\t\t\telse if (level === \"medium\") counts.medium++;\n\t\t});\n\t\treturn {\n\t\t\thighCount: counts.high,\n\t\t\tmediumCount: counts.medium,\n\t\t};\n\t}, [displayIssues]);\n\n\t// Calculate issue type counts (errors vs suggestions) from displayed issues\n\tconst { errorCount, suggestionCount } = useMemo(() => {\n\t\tconst counts = { error: 0, suggestion: 0 };\n\t\tdisplayIssues.forEach((issue) => {\n\t\t\tconst type = getIssueType(issue);\n\t\t\tcounts[type]++;\n\t\t});\n\t\treturn { errorCount: counts.error, suggestionCount: counts.suggestion };\n\t}, [displayIssues]);\n\n\t// Determine active tab with smart defaults and backward compatibility\n\tconst activeTab = useMemo(() => {\n\t\t// Backward compatibility: redirect \"issues\" to \"errors\"\n\t\tif (rawTab === \"issues\") {\n\t\t\thandleTabChange(\"errors\");\n\t\t\treturn \"errors\";\n\t\t}\n\n\t\t// If tab is specified, use it\n\t\tif (rawTab) {\n\t\t\treturn rawTab;\n\t\t}\n\n\t\t// Smart defaults when no tab is specified\n\t\tif (!evaluationData) {\n\t\t\treturn \"summary\";\n\t\t}\n\n\t\tif (errorCount > 0) {\n\t\t\treturn \"errors\";\n\t\t}\n\n\t\tif (suggestionCount > 0) {\n\t\t\treturn \"suggestions\";\n\t\t}\n\n\t\treturn \"summary\";\n\t}, [rawTab, evaluationData, errorCount, suggestionCount, handleTabChange]);\n\n\t// Split issues by type for tab-aware filtering\n\tconst errorIssues = useMemo(\n\t\t() => allIssues.filter((issue) => getIssueType(issue) === \"error\"),\n\t\t[allIssues],\n\t);\n\n\tconst suggestionIssues = useMemo(\n\t\t() => allIssues.filter((issue) => getIssueType(issue) === \"suggestion\"),\n\t\t[allIssues],\n\t);\n\n\t// Get base issues based on active tab\n\tconst baseIssues = useMemo(() => {\n\t\tif (activeTab === \"errors\") return errorIssues;\n\t\tif (activeTab === \"suggestions\") return suggestionIssues;\n\t\treturn displayIssues; // Fallback for non-issue tabs\n\t}, [activeTab, errorIssues, suggestionIssues, displayIssues]);\n\n\t// Calculate per-file vs cross-file issue counts\n\tconst { perFileIssueCount, crossFileIssueCount } = useMemo(() => {\n\t\tif (!evaluationData)\n\t\t\treturn { perFileIssueCount: 0, crossFileIssueCount: 0 };\n\n\t\tif (isIndependentFormat(evaluationData)) {\n\t\t\tconst independentData = evaluationData as IndependentEvaluationOutput;\n\t\t\tconst crossFile = independentData.crossFileIssues?.length || 0;\n\t\t\tconst perFile = allIssues.length - crossFile;\n\t\t\treturn { perFileIssueCount: perFile, crossFileIssueCount: crossFile };\n\t\t}\n\n\t\t// For unified format, all issues are considered per-file\n\t\treturn { perFileIssueCount: allIssues.length, crossFileIssueCount: 0 };\n\t}, [evaluationData, allIssues]);\n\n\t// Extract unique categories\n\tconst availableCategories = useMemo(() => {\n\t\tconst categories = new Set<string>();\n\n\t\tallIssues.forEach((issue) => {\n\t\t\tif (issue.category) categories.add(issue.category);\n\t\t});\n\n\t\treturn Array.from(categories).sort();\n\t}, [allIssues]);\n\n\t// Calculate counts per filter option (based on baseIssues to respect tab selection)\n\tconst filterOptionCounts = useMemo((): FilterOptionCounts => {\n\t\tconst counts: FilterOptionCounts = {\n\t\t\tseverities: { high: 0, medium: 0, low: 0 },\n\t\t\tcategories: {},\n\t\t};\n\n\t\tbaseIssues.forEach((issue) => {\n\t\t\t// Severity\n\t\t\tconst numericSeverity = getIssueSeverity(issue);\n\t\t\tconst level = getSeverityLevel(numericSeverity);\n\t\t\tif (level === \"high\") counts.severities.high++;\n\t\t\telse if (level === \"medium\") counts.severities.medium++;\n\t\t\telse if (level === \"low\") counts.severities.low++;\n\n\t\t\t// Category\n\t\t\tif (issue.category) {\n\t\t\t\tcounts.categories[issue.category] =\n\t\t\t\t\t(counts.categories[issue.category] || 0) + 1;\n\t\t\t}\n\t\t});\n\n\t\treturn counts;\n\t}, [baseIssues]);\n\n\t// Filter issues based on active filters (using baseIssues which respects tab selection)\n\tconst filteredIssues = useMemo(() => {\n\t\treturn baseIssues.filter((issue) => {\n\t\t\t// Bookmark filter (check first for early return)\n\t\t\tif (filters.bookmarkedOnly) {\n\t\t\t\tconst issueHash = generateIssueHash(issue);\n\t\t\t\tif (!bookmarkSet.has(issueHash)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Severity filter\n\t\t\tif (filters.severities.size > 0) {\n\t\t\t\tconst numericSeverity = getIssueSeverity(issue);\n\t\t\t\tconst severityLevel = getSeverityLevel(numericSeverity);\n\t\t\t\tif (!filters.severities.has(severityLevel)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Category filter\n\t\t\tif (filters.categories.size > 0 && issue.category) {\n\t\t\t\tif (!filters.categories.has(issue.category)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Search text filter\n\t\t\tif (filters.searchText) {\n\t\t\t\tconst searchLower = filters.searchText.toLowerCase();\n\t\t\t\tconst searchableText = [\n\t\t\t\t\tissue.description, // Primary issue description\n\t\t\t\t\tissue.problem, // Fallback issue description\n\t\t\t\t\tissue.title, // Secondary title field\n\t\t\t\t]\n\t\t\t\t\t.filter(Boolean)\n\t\t\t\t\t.join(\" \")\n\t\t\t\t\t.toLowerCase();\n\n\t\t\t\tif (!searchableText.includes(searchLower)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\t}, [baseIssues, filters, bookmarkSet]);\n\n\t// Calculate filtered counts for tab badges\n\tconst filteredErrorsCount = useMemo(() => {\n\t\tif (activeTab !== \"errors\") return errorIssues.length;\n\t\treturn filteredIssues.length;\n\t}, [activeTab, errorIssues.length, filteredIssues.length]);\n\n\tconst filteredSuggestionsCount = useMemo(() => {\n\t\tif (activeTab !== \"suggestions\") return suggestionIssues.length;\n\t\treturn filteredIssues.length;\n\t}, [activeTab, suggestionIssues.length, filteredIssues.length]);\n\n\t// Calculate bookmarked count for FilterPanel badge\n\tconst bookmarkedCount = useMemo(() => {\n\t\treturn baseIssues.filter((issue) => {\n\t\t\tconst issueHash = generateIssueHash(issue);\n\t\t\treturn bookmarkSet.has(issueHash);\n\t\t}).length;\n\t}, [baseIssues, bookmarkSet]);\n\n\t// Group issues by file for display\n\tconst groupedIssues = useMemo(() => {\n\t\tconst grouped: Record<string, Issue[]> = {\n\t\t\t__cross_file__: [], // Special key for cross-file issues\n\t\t};\n\n\t\tfor (const issue of filteredIssues) {\n\t\t\tconst file = getIssueFile(issue);\n\n\t\t\tif (file === null) {\n\t\t\t\t// Cross-file or no-file issue\n\t\t\t\tgrouped.__cross_file__.push(issue);\n\t\t\t} else {\n\t\t\t\tif (!grouped[file]) {\n\t\t\t\t\tgrouped[file] = [];\n\t\t\t\t}\n\t\t\t\tgrouped[file].push(issue);\n\t\t\t}\n\t\t}\n\n\t\t// Remove cross-file section if empty\n\t\tif (grouped.__cross_file__.length === 0) {\n\t\t\tdelete grouped.__cross_file__;\n\t\t}\n\n\t\treturn grouped;\n\t}, [filteredIssues]);\n\n\t// Sort grouped issues: cross-file first, then by max severity, then alphabetically\n\tconst sortedGroupedIssues = useMemo(() => {\n\t\tconst entries = Object.entries(groupedIssues);\n\n\t\t// Separate cross-file from regular files\n\t\tconst crossFileEntry = entries.find(([key]) => key === \"__cross_file__\");\n\t\tconst fileEntries = entries.filter(([key]) => key !== \"__cross_file__\");\n\n\t\t// Sort file entries by max severity desc, then alphabetically\n\t\tfileEntries.sort(([fileA, issuesA], [fileB, issuesB]) => {\n\t\t\tconst maxSeverityA = getMaxIssueSeverity(issuesA);\n\t\t\tconst maxSeverityB = getMaxIssueSeverity(issuesB);\n\n\t\t\tif (maxSeverityA !== maxSeverityB) {\n\t\t\t\treturn maxSeverityB - maxSeverityA;\n\t\t\t}\n\n\t\t\treturn fileA.localeCompare(fileB);\n\t\t});\n\n\t\t// Return cross-file first, then sorted files\n\t\treturn crossFileEntry ? [crossFileEntry, ...fileEntries] : fileEntries;\n\t}, [groupedIssues]);\n\n\t// Determine if we should use nested grouping (file -> evaluator -> issues)\n\t// Only use nested grouping when no filters are active\n\tconst shouldUseNestedGrouping = useMemo(\n\t\t() => checkShouldUseNestedGrouping(filters),\n\t\t[filters],\n\t);\n\n\t// Group issues by file, then by category within each file\n\tconst nestedGroupedIssues = useMemo(() => {\n\t\tif (!shouldUseNestedGrouping) return null;\n\n\t\tconst grouped: Record<string, CategoryGroup[]> = {};\n\n\t\t// First, group by file\n\t\tfor (const issue of filteredIssues) {\n\t\t\tconst file = getIssueFile(issue);\n\t\t\tconst fileKey = file === null ? \"__cross_file__\" : file;\n\n\t\t\tif (!grouped[fileKey]) {\n\t\t\t\tgrouped[fileKey] = [];\n\t\t\t}\n\t\t}\n\n\t\t// Then, within each file, group by category\n\t\tfor (const issue of filteredIssues) {\n\t\t\tconst file = getIssueFile(issue);\n\t\t\tconst fileKey = file === null ? \"__cross_file__\" : file;\n\t\t\tconst categoryName = issue.category || \"Unknown\";\n\n\t\t\t// Find or create category group\n\t\t\tlet categoryGroup = grouped[fileKey].find(\n\t\t\t\t(g) => g.categoryName === categoryName,\n\t\t\t);\n\n\t\t\tif (!categoryGroup) {\n\t\t\t\tcategoryGroup = {\n\t\t\t\t\tcategoryName,\n\t\t\t\t\tissues: [],\n\t\t\t\t\tmaxSeverity: 0,\n\t\t\t\t};\n\t\t\t\tgrouped[fileKey].push(categoryGroup);\n\t\t\t}\n\n\t\t\tcategoryGroup.issues.push(issue);\n\t\t}\n\n\t\t// Calculate max severity for each category group and sort issues\n\t\tfor (const fileKey in grouped) {\n\t\t\tfor (const group of grouped[fileKey]) {\n\t\t\t\tgroup.maxSeverity = getMaxIssueSeverity(group.issues);\n\t\t\t\t// Sort issues within category group by severity (descending)\n\t\t\t\tgroup.issues.sort((a, b) => getIssueSeverity(b) - getIssueSeverity(a));\n\t\t\t}\n\n\t\t\t// Sort category groups by max severity (descending)\n\t\t\tgrouped[fileKey].sort((a, b) => b.maxSeverity - a.maxSeverity);\n\t\t}\n\n\t\t// Remove cross-file section if empty\n\t\tif (grouped.__cross_file__ && grouped.__cross_file__.length === 0) {\n\t\t\tdelete grouped.__cross_file__;\n\t\t}\n\n\t\treturn grouped;\n\t}, [shouldUseNestedGrouping, filteredIssues]);\n\n\t// Sort file groups by max severity across all categories\n\tconst sortedFileGroups = useMemo(() => {\n\t\t// If not using nested grouping, return the existing sorted groups\n\t\tif (!shouldUseNestedGrouping || !nestedGroupedIssues) {\n\t\t\treturn sortedGroupedIssues;\n\t\t}\n\n\t\tconst entries = Object.entries(nestedGroupedIssues);\n\n\t\t// Separate cross-file from regular files\n\t\tconst crossFileEntry = entries.find(([key]) => key === \"__cross_file__\");\n\t\tconst fileEntries = entries.filter(([key]) => key !== \"__cross_file__\");\n\n\t\t// Sort file entries by max severity across all categories\n\t\tfileEntries.sort(([fileA, groupsA], [fileB, groupsB]) => {\n\t\t\tconst maxSeverityA = getMaxCategoryGroupSeverity(groupsA);\n\t\t\tconst maxSeverityB = getMaxCategoryGroupSeverity(groupsB);\n\n\t\t\tif (maxSeverityA !== maxSeverityB) {\n\t\t\t\treturn maxSeverityB - maxSeverityA;\n\t\t\t}\n\n\t\t\treturn fileA.localeCompare(fileB);\n\t\t});\n\n\t\t// Return cross-file first, then sorted files\n\t\treturn crossFileEntry ? [crossFileEntry, ...fileEntries] : fileEntries;\n\t}, [shouldUseNestedGrouping, nestedGroupedIssues, sortedGroupedIssues]);\n\n\tconst handleFileLoad = (data: EvaluationOutput) => {\n\t\t// Aggregate cost and duration data from evaluator results\n\t\tif (isUnifiedFormat(data)) {\n\t\t\tconst unifiedData = data as UnifiedEvaluationOutput;\n\t\t\tlet totalCostUsd = 0;\n\t\t\tlet totalDurationMs = 0;\n\t\t\tlet totalInputTokens = 0;\n\t\t\tlet totalOutputTokens = 0;\n\t\t\tlet totalCacheCreationTokens = 0;\n\t\t\tlet totalCacheReadTokens = 0;\n\n\t\t\tfor (const result of unifiedData.results) {\n\t\t\t\tif (result.output) {\n\t\t\t\t\ttotalCostUsd += result.output.total_cost_usd || 0;\n\t\t\t\t\ttotalDurationMs += result.output.duration_ms || 0;\n\t\t\t\t\ttotalInputTokens += result.output.usage.input_tokens || 0;\n\t\t\t\t\ttotalOutputTokens += result.output.usage.output_tokens || 0;\n\t\t\t\t\ttotalCacheCreationTokens +=\n\t\t\t\t\t\tresult.output.usage.cache_creation_input_tokens || 0;\n\t\t\t\t\ttotalCacheReadTokens +=\n\t\t\t\t\t\tresult.output.usage.cache_read_input_tokens || 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add aggregated data to metadata\n\t\t\tunifiedData.metadata.totalCostUsd = totalCostUsd;\n\t\t\tunifiedData.metadata.totalDurationMs = totalDurationMs;\n\t\t\tunifiedData.metadata.totalInputTokens = totalInputTokens;\n\t\t\tunifiedData.metadata.totalOutputTokens = totalOutputTokens;\n\t\t\tunifiedData.metadata.totalCacheCreationTokens = totalCacheCreationTokens;\n\t\t\tunifiedData.metadata.totalCacheReadTokens = totalCacheReadTokens;\n\t\t}\n\n\t\tsetEvaluationData(data);\n\t\t// Reset filters and selections when new data is loaded\n\t\tsetFilters({\n\t\t\tseverities: new Set(),\n\t\t\tcategories: new Set(),\n\t\t\tevaluators: new Set(),\n\t\t\tsearchText: \"\",\n\t\t\tbookmarkedOnly: false,\n\t\t});\n\t\tsetSelectedIssueKeys(new Set());\n\t};\n\n\tconst handleClear = useCallback(() => {\n\t\t// Clear selections in DB before resetting state\n\t\tif (currentEvaluationId) {\n\t\t\tselectionApi\n\t\t\t\t.clearSelections(currentEvaluationId)\n\t\t\t\t.catch((err) =>\n\t\t\t\t\tconsole.error(\"Failed to clear selections on reset:\", err),\n\t\t\t\t);\n\t\t}\n\t\tsetEvaluationData(null);\n\t\tsetEvaluationMode(\"idle\");\n\t\tsetApiError(null);\n\t\tsetCurrentRepositoryUrl(null);\n\t\tsetEvaluationLogs([]); // Clear logs when clearing\n\t\tsetFilters({\n\t\t\tseverities: new Set(),\n\t\t\tcategories: new Set(),\n\t\t\tevaluators: new Set(),\n\t\t\tsearchText: \"\",\n\t\t\tbookmarkedOnly: false,\n\t\t});\n\t\tsetSelectedIssueKeys(new Set());\n\t\tsetBookmarkSet(new Set());\n\t\t// Navigate to root\n\t\tnavigate(\"/\");\n\t}, [navigate, currentEvaluationId, selectionApi]);\n\n\tconst handleDeleteEvaluation = useCallback(async () => {\n\t\tif (currentEvaluationId) {\n\t\t\tawait historyApi.deleteEvaluation(currentEvaluationId);\n\t\t\thandleClear();\n\t\t}\n\t}, [currentEvaluationId, historyApi, handleClear]);\n\n\t// Issue selection handlers\n\tconst handleToggleIssueSelection = useCallback(\n\t\t(key: string, _issue: Issue) => {\n\t\t\tsetSelectedIssueKeys((prev) => {\n\t\t\t\tconst newSet = new Set(prev);\n\t\t\t\tconst isRemoving = newSet.has(key);\n\t\t\t\tif (isRemoving) {\n\t\t\t\t\tnewSet.delete(key);\n\t\t\t\t} else {\n\t\t\t\t\tnewSet.add(key);\n\t\t\t\t}\n\t\t\t\t// Persist to DB (fire-and-forget)\n\t\t\t\tif (currentEvaluationId) {\n\t\t\t\t\tif (isRemoving) {\n\t\t\t\t\t\tselectionApi\n\t\t\t\t\t\t\t.removeSelection(currentEvaluationId, key)\n\t\t\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\t\t\tconsole.error(\"Failed to persist selection removal:\", err),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselectionApi\n\t\t\t\t\t\t\t.addSelections(currentEvaluationId, [key])\n\t\t\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\t\t\tconsole.error(\"Failed to persist selection add:\", err),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn newSet;\n\t\t\t});\n\t\t},\n\t\t[currentEvaluationId, selectionApi],\n\t);\n\n\tconst handleClearSelection = useCallback(() => {\n\t\tsetSelectedIssueKeys(new Set());\n\t\tif (currentEvaluationId) {\n\t\t\tselectionApi\n\t\t\t\t.clearSelections(currentEvaluationId)\n\t\t\t\t.catch((err) =>\n\t\t\t\t\tconsole.error(\"Failed to persist selection clear:\", err),\n\t\t\t\t);\n\t\t}\n\t}, [currentEvaluationId, selectionApi]);\n\n\tconst handleFeedback = useCallback(\n\t\tasync (issueHash: string, feedbackType: \"like\" | \"dislike\" | null) => {\n\t\t\tif (!currentEvaluationId) return;\n\n\t\t\t// Find the issue by hash to get the evaluator name\n\t\t\tconst issue = allIssues.find((i) => generateIssueHash(i) === issueHash);\n\t\t\tif (!issue) return;\n\n\t\t\tconst newMap = new Map(feedbackMap);\n\n\t\t\ttry {\n\t\t\t\tif (feedbackType === null) {\n\t\t\t\t\t// Remove feedback\n\t\t\t\t\tawait feedbackApi.removeFeedback(currentEvaluationId, issueHash);\n\t\t\t\t\tnewMap.delete(issueHash);\n\t\t\t\t} else {\n\t\t\t\t\t// Submit feedback\n\t\t\t\t\tawait feedbackApi.submitFeedback(\n\t\t\t\t\t\tcurrentEvaluationId,\n\t\t\t\t\t\tissueHash,\n\t\t\t\t\t\tissue.evaluatorName || \"unknown\",\n\t\t\t\t\t\tfeedbackType,\n\t\t\t\t\t);\n\t\t\t\t\tnewMap.set(issueHash, feedbackType);\n\t\t\t\t}\n\n\t\t\t\tsetFeedbackMap(newMap);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Failed to update feedback:\", error);\n\t\t\t}\n\t\t},\n\t\t[currentEvaluationId, allIssues, feedbackMap, feedbackApi],\n\t);\n\n\tconst handleBookmarkToggle = useCallback(\n\t\tasync (issueHash: string) => {\n\t\t\t// Early return in cloud mode (no-op)\n\t\t\tif (cloudMode) return;\n\n\t\t\tif (!currentEvaluationId) return;\n\n\t\t\tconst issue = allIssues.find((i) => generateIssueHash(i) === issueHash);\n\t\t\tif (!issue) return;\n\n\t\t\tconst newSet = new Set(bookmarkSet);\n\n\t\t\ttry {\n\t\t\t\tif (bookmarkSet.has(issueHash)) {\n\t\t\t\t\tawait bookmarkApi.removeBookmark(currentEvaluationId, issueHash);\n\t\t\t\t\tnewSet.delete(issueHash);\n\t\t\t\t} else {\n\t\t\t\t\tawait bookmarkApi.addBookmark(\n\t\t\t\t\t\tcurrentEvaluationId,\n\t\t\t\t\t\tissueHash,\n\t\t\t\t\t\tissue.evaluatorName || \"unknown\",\n\t\t\t\t\t);\n\t\t\t\t\tnewSet.add(issueHash);\n\t\t\t\t}\n\n\t\t\t\tsetBookmarkSet(newSet);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Failed to toggle bookmark:\", error);\n\t\t\t}\n\t\t},\n\t\t[currentEvaluationId, allIssues, bookmarkSet, bookmarkApi, cloudMode],\n\t);\n\n\tconst handleSelectAllInGroup = useCallback(\n\t\t(issues: Issue[]) => {\n\t\t\tconst keysToAdd: string[] = [];\n\t\t\tsetSelectedIssueKeys((prev) => {\n\t\t\t\tconst newSet = new Set(prev);\n\t\t\t\tfor (const issue of issues) {\n\t\t\t\t\tconst globalIndex = allIssues.indexOf(issue);\n\t\t\t\t\tif (globalIndex >= 0) {\n\t\t\t\t\t\tconst key = generateIssueKey(issue, globalIndex);\n\t\t\t\t\t\tif (!newSet.has(key)) {\n\t\t\t\t\t\t\tkeysToAdd.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewSet.add(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn newSet;\n\t\t\t});\n\t\t\t// Persist new keys to DB (fire-and-forget)\n\t\t\tif (currentEvaluationId && keysToAdd.length > 0) {\n\t\t\t\tselectionApi\n\t\t\t\t\t.addSelections(currentEvaluationId, keysToAdd)\n\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\tconsole.error(\"Failed to persist group selection:\", err),\n\t\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[allIssues, currentEvaluationId, selectionApi],\n\t);\n\n\tconst handleReviewSelected = useCallback(() => {\n\t\thandleTabChange(\"remediate\");\n\t}, [handleTabChange]);\n\n\tconst handleAddAllToRemediation = useCallback(\n\t\t(issues: (Issue & { evaluatorName?: string })[]) => {\n\t\t\tconst keysToAdd: string[] = [];\n\t\t\tsetSelectedIssueKeys((prev) => {\n\t\t\t\tconst newSet = new Set(prev);\n\t\t\t\tfor (const issue of issues) {\n\t\t\t\t\tconst globalIndex = allIssues.indexOf(issue);\n\t\t\t\t\tif (globalIndex >= 0) {\n\t\t\t\t\t\tconst key = generateIssueKey(issue, globalIndex);\n\t\t\t\t\t\tif (!newSet.has(key)) {\n\t\t\t\t\t\t\tkeysToAdd.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewSet.add(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn newSet;\n\t\t\t});\n\t\t\t// Persist new keys to DB (fire-and-forget)\n\t\t\tif (currentEvaluationId && keysToAdd.length > 0) {\n\t\t\t\tselectionApi\n\t\t\t\t\t.addSelections(currentEvaluationId, keysToAdd)\n\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\tconsole.error(\"Failed to persist add-all selection:\", err),\n\t\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[allIssues, currentEvaluationId, selectionApi],\n\t);\n\n\tconst handleRemoveIssueFromRemediation = useCallback(\n\t\t(key: string) => {\n\t\t\tsetSelectedIssueKeys((prev) => {\n\t\t\t\tconst newSet = new Set(prev);\n\t\t\t\tnewSet.delete(key);\n\t\t\t\treturn newSet;\n\t\t\t});\n\t\t\tif (currentEvaluationId) {\n\t\t\t\tselectionApi\n\t\t\t\t\t.removeSelection(currentEvaluationId, key)\n\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\tconsole.error(\"Failed to persist issue removal:\", err),\n\t\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[currentEvaluationId, selectionApi],\n\t);\n\n\t// Tab configuration\n\tconst tabs: TabItem[] = useMemo(() => {\n\t\tconst baseTabs: TabItem[] = [\n\t\t\t{\n\t\t\t\tid: \"summary\",\n\t\t\t\tlabel: \"Summary\",\n\t\t\t\ticon: (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"errors\",\n\t\t\t\tlabel: \"Errors\",\n\t\t\t\ticon: (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t),\n\t\t\t\tcount: filteredErrorsCount,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"suggestions\",\n\t\t\t\tlabel: \"Suggestions\",\n\t\t\t\ticon: (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t),\n\t\t\t\tcount: filteredSuggestionsCount,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"remediate\",\n\t\t\t\tlabel: \"Remediate\",\n\t\t\t\ticon: (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t),\n\t\t\t\tcount: selectedIssueKeys.size > 0 ? selectedIssueKeys.size : undefined,\n\t\t\t},\n\t\t];\n\n\t\t// Only show Debugging and Cost Analysis tabs in non-cloud mode\n\t\tif (!cloudMode) {\n\t\t\tbaseTabs.push(\n\t\t\t\t{\n\t\t\t\t\tid: \"debugging\",\n\t\t\t\t\tlabel: \"Debugging\",\n\t\t\t\t\ticon: (\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \"cost\",\n\t\t\t\t\tlabel: \"Cost Analysis\",\n\t\t\t\t\ticon: (\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\n\t\treturn baseTabs;\n\t}, [\n\t\tfilteredErrorsCount,\n\t\tfilteredSuggestionsCount,\n\t\tcloudMode,\n\t\tselectedIssueKeys.size,\n\t]);\n\n\treturn (\n\t\t<div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-slate-100 animate-fade-in\">\n\t\t\t{/* Header */}\n\t\t\t<AppHeader\n\t\t\t\tcurrentPage=\"home\"\n\t\t\t\tonLogoClick={handleClear}\n\t\t\t\thistoryCount={historyApi.history.length}\n\t\t\t/>\n\n\t\t\t{/* Selection Summary Bar */}\n\t\t\t<SelectionSummaryBar\n\t\t\t\tselectedCount={selectedIssueKeys.size}\n\t\t\t\tonClearSelection={handleClearSelection}\n\t\t\t\tonReviewSelected={handleReviewSelected}\n\t\t\t/>\n\n\t\t\t{/* Main Content */}\n\t\t\t<main\n\t\t\t\tclassName={`max-w-[1400px] mx-auto px-6 py-6 ${selectedIssueKeys.size > 0 ? \"pt-14\" : \"\"}`}\n\t\t\t>\n\t\t\t\t{/* Content Area */}\n\t\t\t\t{evaluationData ? (\n\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t{/* Evaluator Failure Panel - Show if some evaluators failed */}\n\t\t\t\t\t\t{evaluationData.metadata.failedEvaluators &&\n\t\t\t\t\t\t\tevaluationData.metadata.failedEvaluators.length > 0 && (\n\t\t\t\t\t\t\t\t<EvaluatorFailurePanel\n\t\t\t\t\t\t\t\t\tfailures={evaluationData.metadata.failedEvaluators}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* Tab Navigation */}\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\ttabs={tabs}\n\t\t\t\t\t\t\tactiveTab={activeTab}\n\t\t\t\t\t\t\tonTabChange={handleTabChange}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{/* Summary Tab */}\n\t\t\t\t\t\t<TabPanel id=\"summary\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<Summary\n\t\t\t\t\t\t\t\tmetadata={evaluationData.metadata}\n\t\t\t\t\t\t\t\trepositoryUrl={currentRepositoryUrl}\n\t\t\t\t\t\t\t\tactualIssueCount={allIssues.length}\n\t\t\t\t\t\t\t\tactualPerFileIssueCount={perFileIssueCount}\n\t\t\t\t\t\t\t\tactualCrossFileIssueCount={crossFileIssueCount}\n\t\t\t\t\t\t\t\tactualHighCount={highCount}\n\t\t\t\t\t\t\t\tactualMediumCount={mediumCount}\n\t\t\t\t\t\t\t\tactualErrorCount={errorCount}\n\t\t\t\t\t\t\t\tactualSuggestionCount={suggestionCount}\n\t\t\t\t\t\t\t\tcurationSummary={curationSummary}\n\t\t\t\t\t\t\t\tcuratedCount={curatedIssues.length}\n\t\t\t\t\t\t\t\tevaluationId={currentEvaluationId ?? undefined}\n\t\t\t\t\t\t\t\tonDelete={handleDeleteEvaluation}\n\t\t\t\t\t\t\t\tcuration={evaluationData.curation}\n\t\t\t\t\t\t\t\tevaluationLogs={evaluationLogs}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Errors Tab */}\n\t\t\t\t\t\t<TabPanel id=\"errors\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-5 gap-6\">\n\t\t\t\t\t\t\t\t<div className=\"lg:col-span-1\">\n\t\t\t\t\t\t\t\t\t<div className=\"sticky top-20 max-h-[calc(100vh-6rem)] overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t<FilterPanel\n\t\t\t\t\t\t\t\t\t\t\tfilters={filters}\n\t\t\t\t\t\t\t\t\t\t\tonFilterChange={setFilters}\n\t\t\t\t\t\t\t\t\t\t\tavailableCategories={availableCategories}\n\t\t\t\t\t\t\t\t\t\t\tissueCount={filteredIssues.length}\n\t\t\t\t\t\t\t\t\t\t\ttotalIssues={errorIssues.length}\n\t\t\t\t\t\t\t\t\t\t\tfilterOptionCounts={filterOptionCounts}\n\t\t\t\t\t\t\t\t\t\t\tbookmarkedCount={bookmarkedCount}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"lg:col-span-4\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-end mb-3\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleAddAllToRemediation(errorIssues)}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-secondary text-sm\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tAdd all to remediation ({errorIssues.length})\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<IssuesList\n\t\t\t\t\t\t\t\t\t\tissues={filteredIssues}\n\t\t\t\t\t\t\t\t\t\tgroupedByFile={\n\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n\t\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t\t: Object.fromEntries(sortedGroupedIssues)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tnestedGrouping={\n\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n\t\t\t\t\t\t\t\t\t\t\t\t? Object.fromEntries(sortedFileGroups)\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\ttitle=\"Errors\"\n\t\t\t\t\t\t\t\t\t\temptyStateMessage=\"No errors found! Your documentation meets all quality standards.\"\n\t\t\t\t\t\t\t\t\t\tselectedKeys={selectedIssueKeys}\n\t\t\t\t\t\t\t\t\t\tissueKeyMap={issueKeyMap}\n\t\t\t\t\t\t\t\t\t\tonToggleSelection={handleToggleIssueSelection}\n\t\t\t\t\t\t\t\t\t\tonSelectAllInGroup={handleSelectAllInGroup}\n\t\t\t\t\t\t\t\t\t\tfeedbackMap={feedbackMap}\n\t\t\t\t\t\t\t\t\t\tonFeedback={handleFeedback}\n\t\t\t\t\t\t\t\t\t\tbookmarkSet={bookmarkSet}\n\t\t\t\t\t\t\t\t\t\tonBookmarkToggle={handleBookmarkToggle}\n\t\t\t\t\t\t\t\t\t\tassessmentEnabled={assessmentEnabled}\n\t\t\t\t\t\t\t\t\t\tgroupSelectEnabled={groupSelectEnabled}\n\t\t\t\t\t\t\t\t\t\tcloudMode={cloudMode}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Suggestions Tab */}\n\t\t\t\t\t\t<TabPanel id=\"suggestions\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-5 gap-6\">\n\t\t\t\t\t\t\t\t<div className=\"lg:col-span-1\">\n\t\t\t\t\t\t\t\t\t<div className=\"sticky top-20 max-h-[calc(100vh-6rem)] overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t<FilterPanel\n\t\t\t\t\t\t\t\t\t\t\tfilters={filters}\n\t\t\t\t\t\t\t\t\t\t\tonFilterChange={setFilters}\n\t\t\t\t\t\t\t\t\t\t\tavailableCategories={availableCategories}\n\t\t\t\t\t\t\t\t\t\t\tissueCount={filteredIssues.length}\n\t\t\t\t\t\t\t\t\t\t\ttotalIssues={suggestionIssues.length}\n\t\t\t\t\t\t\t\t\t\t\tfilterOptionCounts={filterOptionCounts}\n\t\t\t\t\t\t\t\t\t\t\tbookmarkedCount={bookmarkedCount}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"lg:col-span-4\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-end mb-3\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\thandleAddAllToRemediation(suggestionIssues)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-secondary text-sm\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tAdd all to remediation ({suggestionIssues.length})\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<IssuesList\n\t\t\t\t\t\t\t\t\t\tissues={filteredIssues}\n\t\t\t\t\t\t\t\t\t\tgroupedByFile={\n\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n\t\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t\t: Object.fromEntries(sortedGroupedIssues)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tnestedGrouping={\n\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n\t\t\t\t\t\t\t\t\t\t\t\t? Object.fromEntries(sortedFileGroups)\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\ttitle=\"Suggestions\"\n\t\t\t\t\t\t\t\t\t\temptyStateMessage=\"No suggestions available. Your documentation is comprehensive.\"\n\t\t\t\t\t\t\t\t\t\tselectedKeys={selectedIssueKeys}\n\t\t\t\t\t\t\t\t\t\tissueKeyMap={issueKeyMap}\n\t\t\t\t\t\t\t\t\t\tonToggleSelection={handleToggleIssueSelection}\n\t\t\t\t\t\t\t\t\t\tonSelectAllInGroup={handleSelectAllInGroup}\n\t\t\t\t\t\t\t\t\t\tfeedbackMap={feedbackMap}\n\t\t\t\t\t\t\t\t\t\tonFeedback={handleFeedback}\n\t\t\t\t\t\t\t\t\t\tbookmarkSet={bookmarkSet}\n\t\t\t\t\t\t\t\t\t\tonBookmarkToggle={handleBookmarkToggle}\n\t\t\t\t\t\t\t\t\t\tassessmentEnabled={assessmentEnabled}\n\t\t\t\t\t\t\t\t\t\tgroupSelectEnabled={groupSelectEnabled}\n\t\t\t\t\t\t\t\t\t\tcloudMode={cloudMode}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Remediate Tab */}\n\t\t\t\t\t\t<TabPanel id=\"remediate\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<RemediateTab\n\t\t\t\t\t\t\t\tevaluationId={currentEvaluationId}\n\t\t\t\t\t\t\t\tevaluationData={evaluationData}\n\t\t\t\t\t\t\t\tselectedIssueKeys={selectedIssueKeys}\n\t\t\t\t\t\t\t\tissueKeyMap={issueKeyMap}\n\t\t\t\t\t\t\t\tonRemoveIssue={handleRemoveIssueFromRemediation}\n\t\t\t\t\t\t\t\tonClearAll={handleClearSelection}\n\t\t\t\t\t\t\t\tcloudMode={cloudMode}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Debugging Tab */}\n\t\t\t\t\t\t<TabPanel id=\"debugging\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<EvaluatorTemplatesPanel evaluationId={currentEvaluationId} />\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Cost Analysis Tab */}\n\t\t\t\t\t\t<TabPanel id=\"cost\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<CostAnalysisPanel metadata={evaluationData.metadata} />\n\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t</div>\n\t\t\t\t) : evaluationMode === \"evaluating\" && progressState ? (\n\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t<ProgressPanel\n\t\t\t\t\t\t\tprogress={progressState}\n\t\t\t\t\t\t\tjobId={currentJobId ?? undefined}\n\t\t\t\t\t\t\tonCancel={handleCancelJob}\n\t\t\t\t\t\t\tonDismiss={handleDismissFailure}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) : evaluationMode === \"idle\" ? (\n\t\t\t\t\t<div className=\"space-y-6\">\n\t\t\t\t\t\t{/* Hero Section - Show first */}\n\t\t\t\t\t\t<EmptyState />\n\n\t\t\t\t\t\t{/* Compact Input Form - Show below */}\n\t\t\t\t\t\t<div className=\"max-w-2xl mx-auto\">\n\t\t\t\t\t\t\t<EvaluationInputPanel\n\t\t\t\t\t\t\t\tonUrlSubmit={handleUrlSubmit}\n\t\t\t\t\t\t\t\tonBatchSubmit={!cloudMode ? handleBatchSubmit : undefined}\n\t\t\t\t\t\t\t\tisLoading={api.isLoading}\n\t\t\t\t\t\t\t\turlError={apiError}\n\t\t\t\t\t\t\t\thasData={false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Experimental Notice - Below form */}\n\t\t\t\t\t\t<div className=\"max-w-2xl mx-auto\">\n\t\t\t\t\t\t\t<ExperimentalNotice />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Cloud Mode Notice */}\n\t\t\t\t\t\t{cloudMode && (\n\t\t\t\t\t\t\t<div className=\"max-w-2xl mx-auto\">\n\t\t\t\t\t\t\t\t<div className=\"info-section text-left\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-start gap-2\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"info-section-icon\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"info-section-header\">Public Instance</p>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"info-section-content\">\n\t\t\t\t\t\t\t\t\t\t\t\tThis is a public instance to illustrate\n\t\t\t\t\t\t\t\t\t\t\t\tcontext-evaluator. You can submit git repository URLs\n\t\t\t\t\t\t\t\t\t\t\t\tfor analysis. All results are public and cannot be\n\t\t\t\t\t\t\t\t\t\t\t\tremoved. For any request, contact{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\thref=\"mailto:support@packmind.com\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-blue-400 hover:text-blue-300 underline\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsupport@packmind.com\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t) : isLoadingFromUrl ? (\n\t\t\t\t\t<div className=\"card text-center py-12\">\n\t\t\t\t\t\t<div className=\"animate-spin w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full mx-auto mb-4\"></div>\n\t\t\t\t\t\t<p className=\"text-slate-400\">Loading evaluation...</p>\n\t\t\t\t\t</div>\n\t\t\t\t) : apiError && urlEvaluationId ? (\n\t\t\t\t\t<div className=\"card border-red-700/50 bg-red-900/20\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-6 h-6 text-red-400 flex-shrink-0\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t\t\t\t<h3 className=\"font-semibold text-red-300\">\n\t\t\t\t\t\t\t\t\tEvaluation Not Found\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t<p className=\"text-sm text-red-400/80\">{apiError}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button onClick={handleClear} className=\"btn-ghost\">\n\t\t\t\t\t\t\t\tGo Home\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t</main>\n\n\t\t\t{/* Footer */}\n\t\t\t<footer className=\"bg-slate-800 border-t border-slate-700 mt-12\">\n\t\t\t\t<div className=\"max-w-[1400px] mx-auto px-6 py-6\">\n\t\t\t\t\t<div className=\"flex flex-col md:flex-row items-center justify-between gap-4\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-semibold text-slate-50\">\n\t\t\t\t\t\t\t\t\tcontext-evaluator\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-400\">v{version}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex flex-wrap items-center justify-center gap-8 text-sm text-slate-300\">\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref=\"https://packmind.com?utm_source=context-evaluator\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\tclassName=\"hover:text-slate-100 transition-colors font-medium text-slate-200\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tPowered by Packmind\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</footer>\n\t\t</div>\n\t);\n}\n\n// Scrolls to top on every route change\nfunction ScrollToTop() {\n\tconst { pathname } = useLocation();\n\t// biome-ignore lint/correctness/useExhaustiveDependencies: re-run scroll on route change\n\tuseEffect(() => {\n\t\twindow.scrollTo(0, 0);\n\t}, [pathname]);\n\treturn null;\n}\n\n// Router wrapper component\nfunction App() {\n\treturn (\n\t\t<FeatureFlagProvider>\n\t\t\t<BrowserRouter>\n\t\t\t\t<ScrollToTop />\n\t\t\t\t<AppRoutes />\n\t\t\t</BrowserRouter>\n\t\t</FeatureFlagProvider>\n\t);\n}\n\n// Routes component with feature flag access\nfunction AppRoutes() {\n\tconst { assessmentEnabled, cloudMode } = useFeatureFlags();\n\n\treturn (\n\t\t<Routes>\n\t\t\t<Route path=\"/\" element={<AppContent />} />\n\t\t\t<Route path=\"/evaluation/:id\" element={<AppContent />} />\n\t\t\t<Route path=\"/recent\" element={<RecentEvaluationsPage />} />\n\t\t\t<Route path=\"/evaluators\" element={<EvaluatorsPage />} />\n\t\t\t<Route path=\"/issues\" element={<IssuesPage />} />\n\t\t\t<Route path=\"/stats\" element={<StatsPage />} />\n\t\t\t<Route path=\"/how-it-works\" element={<HowItWorksPage />} />\n\t\t\t{assessmentEnabled && (\n\t\t\t\t<Route path=\"/assessment\" element={<AssessmentPage />} />\n\t\t\t)}\n\t\t\t{!cloudMode && (\n\t\t\t\t<Route path=\"/batch/:batchId\" element={<BatchStatusPage />} />\n\t\t\t)}\n\t\t</Routes>\n\t);\n}\n\n// Mount the app\nconst root = createRoot(document.getElementById(\"root\")!);\nroot.render(<App />);\n","structuredPatch":[{"oldStart":37,"oldLines":6,"newStart":37,"newLines":7,"lines":["   useFeatureFlags,"," } from \"./contexts/FeatureFlagContext\";"," import { useBookmarkApi } from \"./hooks/useBookmarkApi\";","+import type { ProviderName } from \"./hooks/useEvaluationApi\";"," import { useEvaluationApi } from \"./hooks/useEvaluationApi\";"," import { useEvaluationHistory } from \"./hooks/useEvaluationHistory\";"," import { useFeedbackApi } from \"./hooks/useFeedbackApi\";"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"dc3b281b-2a19-43c3-94be-28ccb6d64d11"}
{"parentUuid":"b1ba06e2-1169-420a-a5e9-8d6909ee1b54","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01BkJPMxZDYL62RUPyTsJDTD","type":"message","role":"assistant","content":[{"type":"text","text":"Now fix the provider type in `handleUrlSubmit`:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":266,"cache_read_input_tokens":92287,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":266},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66Wmtj64KMvpjiCYx3V","type":"assistant","uuid":"1e9477ac-405e-4f60-a8f8-c2ff2a89def0","timestamp":"2026-02-13T12:49:30.330Z"}
{"parentUuid":"1e9477ac-405e-4f60-a8f8-c2ff2a89def0","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01BkJPMxZDYL62RUPyTsJDTD","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01JpuGrm2R3SKWe11bLtpLfW","name":"Edit","input":{"replace_all":false,"file_path":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/App.tsx","old_string":"\t\tasync (\n\t\t\turl: string,\n\t\t\tevaluators: number,\n\t\t\tprovider?: \"claude\" | \"opencode\" | \"cursor\" | \"github-copilot\",\n\t\t\tevaluatorFilter?: EvaluatorFilter,\n\t\t\tconcurrency?: number,\n\t\t\tselectedEvaluators?: string[],\n\t\t) => {\n\t\t\tsetEvaluationMode(\"evaluating\");\n\t\t\tsetApiError(null);\n\t\t\tsetCurrentRepositoryUrl(url);","new_string":"\t\tasync (\n\t\t\turl: string,\n\t\t\tevaluators: number,\n\t\t\tprovider?: ProviderName,\n\t\t\tevaluatorFilter?: EvaluatorFilter,\n\t\t\tconcurrency?: number,\n\t\t\tselectedEvaluators?: string[],\n\t\t) => {\n\t\t\tsetEvaluationMode(\"evaluating\");\n\t\t\tsetApiError(null);\n\t\t\tsetCurrentRepositoryUrl(url);"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":266,"cache_read_input_tokens":92287,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":266},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66Wmtj64KMvpjiCYx3V","type":"assistant","uuid":"650dfc65-15e9-40c6-af7e-fdde567a1eed","timestamp":"2026-02-13T12:49:34.171Z"}
{"parentUuid":"650dfc65-15e9-40c6-af7e-fdde567a1eed","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_01JpuGrm2R3SKWe11bLtpLfW","toolUseID":"toolu_01JpuGrm2R3SKWe11bLtpLfW","timestamp":"2026-02-13T12:49:39.188Z","uuid":"95fc4a0a-253b-42e5-bd44-e27dcfc9d951"}
{"parentUuid":"650dfc65-15e9-40c6-af7e-fdde567a1eed","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01JpuGrm2R3SKWe11bLtpLfW","type":"tool_result","content":"The file /Users/cedricteyton/Code/agents-md-evaluator/frontend/src/App.tsx has been updated successfully."}]},"uuid":"e056939f-dcd9-46dc-beae-a8f00b44c7e8","timestamp":"2026-02-13T12:49:39.187Z","toolUseResult":{"filePath":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/App.tsx","oldString":"\t\tasync (\n\t\t\turl: string,\n\t\t\tevaluators: number,\n\t\t\tprovider?: \"claude\" | \"opencode\" | \"cursor\" | \"github-copilot\",\n\t\t\tevaluatorFilter?: EvaluatorFilter,\n\t\t\tconcurrency?: number,\n\t\t\tselectedEvaluators?: string[],\n\t\t) => {\n\t\t\tsetEvaluationMode(\"evaluating\");\n\t\t\tsetApiError(null);\n\t\t\tsetCurrentRepositoryUrl(url);","newString":"\t\tasync (\n\t\t\turl: string,\n\t\t\tevaluators: number,\n\t\t\tprovider?: ProviderName,\n\t\t\tevaluatorFilter?: EvaluatorFilter,\n\t\t\tconcurrency?: number,\n\t\t\tselectedEvaluators?: string[],\n\t\t) => {\n\t\t\tsetEvaluationMode(\"evaluating\");\n\t\t\tsetApiError(null);\n\t\t\tsetCurrentRepositoryUrl(url);","originalFile":"import { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport {\n\tBrowserRouter,\n\tRoute,\n\tRoutes,\n\tuseLocation,\n\tuseNavigate,\n\tuseParams,\n\tuseSearchParams,\n} from \"react-router-dom\";\nimport { AppHeader } from \"./components/AppHeader\";\nimport { AssessmentPage } from \"./components/AssessmentPage\";\nimport { BatchStatusPage } from \"./components/BatchStatusPage\";\nimport { CostAnalysisPanel } from \"./components/CostAnalysisPanel\";\nimport { EmptyState } from \"./components/EmptyState\";\nimport { EvaluationInputPanel } from \"./components/EvaluationInputPanel\";\nimport { EvaluatorFailurePanel } from \"./components/EvaluatorFailurePanel\";\nimport { EvaluatorsPage } from \"./components/EvaluatorsPage\";\nimport { EvaluatorTemplatesPanel } from \"./components/EvaluatorTemplatesPanel\";\nimport { ExperimentalNotice } from \"./components/ExperimentalNotice\";\nimport type { FilterOptionCounts, FilterState } from \"./components/FilterPanel\";\nimport { FilterPanel } from \"./components/FilterPanel\";\nimport { HowItWorksPage } from \"./components/HowItWorksPage\";\nimport { IssuesList } from \"./components/IssuesList\";\nimport { IssuesPage } from \"./components/IssuesPage\";\nimport { ProgressPanel } from \"./components/ProgressPanel\";\nimport { RecentEvaluationsPage } from \"./components/RecentEvaluationsPage\";\nimport { RemediateTab } from \"./components/RemediateTab\";\nimport { SelectionSummaryBar } from \"./components/SelectionSummaryBar\";\nimport { StatsPage } from \"./components/StatsPage\";\nimport { Summary } from \"./components/Summary\";\nimport type { TabItem } from \"./components/Tabs\";\nimport { TabPanel, Tabs } from \"./components/Tabs\";\nimport {\n\tFeatureFlagProvider,\n\tuseFeatureFlags,\n} from \"./contexts/FeatureFlagContext\";\nimport { useBookmarkApi } from \"./hooks/useBookmarkApi\";\nimport type { ProviderName } from \"./hooks/useEvaluationApi\";\nimport { useEvaluationApi } from \"./hooks/useEvaluationApi\";\nimport { useEvaluationHistory } from \"./hooks/useEvaluationHistory\";\nimport { useFeedbackApi } from \"./hooks/useFeedbackApi\";\nimport { useSelectionApi } from \"./hooks/useSelectionApi\";\nimport { useSSE } from \"./hooks/useSSE\";\nimport { useVersion } from \"./hooks/useVersion\";\nimport { getFilteredEvaluatorCount } from \"./lib/formatters\";\nimport { shouldUseNestedGrouping as checkShouldUseNestedGrouping } from \"./lib/grouping-utils\";\nimport { generateIssueHash } from \"./lib/issue-hash\";\nimport { generateIssueKey } from \"./lib/issue-utils\";\nimport type {\n\tCategoryGroup,\n\tEvaluationOutput,\n\tEvaluatorFilter,\n\tIndependentEvaluationOutput,\n\tIssue,\n\tUnifiedEvaluationOutput,\n} from \"./types/evaluation\";\nimport {\n\tgetIssueFile,\n\tgetIssueSeverity,\n\tgetIssueType,\n\tgetMaxCategoryGroupSeverity,\n\tgetMaxIssueSeverity,\n\tgetSeverityLevel,\n\tisIndependentFormat,\n\tisUnifiedFormat,\n\tparseEvaluatorResult,\n} from \"./types/evaluation\";\nimport type {\n\tEvaluationMode,\n\tICloneWarningEvent,\n\tIContextAnalysisEvent,\n\tIContextClocEvent,\n\tIContextFoldersEvent,\n\tIContextWarningEvent,\n\tIDiscoveryCompletedEvent,\n\tIEvaluatorProgressEvent,\n\tIFileStartedEvent,\n\tIJobCompletedEvent,\n\tIJobFailedEvent,\n\tIJobStartedEvent,\n\tIProgressState,\n\tSSEEvent,\n} from \"./types/job\";\n\nfunction AppContent() {\n\t// Feature flags\n\tconst { assessmentEnabled, groupSelectEnabled, cloudMode } =\n\t\tuseFeatureFlags();\n\n\t// URL-based routing\n\tconst navigate = useNavigate();\n\tconst { id: urlEvaluationId } = useParams<{ id: string }>();\n\tconst [searchParams, setSearchParams] = useSearchParams();\n\n\t// Tab state from URL with smart defaults\n\tconst rawTab = searchParams.get(\"tab\");\n\tconst handleTabChange = useCallback(\n\t\t(tabId: string) => {\n\t\t\tsetSearchParams(\n\t\t\t\t(prev) => {\n\t\t\t\t\tprev.set(\"tab\", tabId);\n\t\t\t\t\treturn prev;\n\t\t\t\t},\n\t\t\t\t{ replace: true },\n\t\t\t);\n\t\t},\n\t\t[setSearchParams],\n\t);\n\n\tconst [evaluationData, setEvaluationData] = useState<EvaluationOutput | null>(\n\t\tnull,\n\t);\n\tconst [filters, setFilters] = useState<FilterState>({\n\t\tseverities: new Set(),\n\t\tcategories: new Set(),\n\t\tevaluators: new Set(),\n\t\tsearchText: \"\",\n\t\tbookmarkedOnly: false,\n\t});\n\t// Always show all issues (removed curated toggle)\n\n\t// Evaluation job state\n\tconst [evaluationMode, setEvaluationMode] = useState<EvaluationMode>(\"idle\");\n\tconst [currentJobId, setCurrentJobId] = useState<string | null>(null);\n\tconst [sseUrl, setSSEUrl] = useState<string | null>(null);\n\tconst [progressState, setProgressState] = useState<IProgressState | null>(\n\t\tnull,\n\t);\n\tconst [apiError, setApiError] = useState<string | null>(null);\n\tconst [isLoadingFromUrl, setIsLoadingFromUrl] = useState(false);\n\tconst [currentRepositoryUrl, setCurrentRepositoryUrl] = useState<\n\t\tstring | null\n\t>(null);\n\t// Store evaluation logs to persist after completion\n\tconst [evaluationLogs, setEvaluationLogs] = useState<\n\t\tArray<{ timestamp: Date; type: string; message: string }>\n\t>([]);\n\n\t// Issue selection state\n\tconst [selectedIssueKeys, setSelectedIssueKeys] = useState<Set<string>>(\n\t\tnew Set(),\n\t);\n\tconst [issueKeyMap, setIssueKeyMap] = useState<Map<string, Issue>>(new Map());\n\n\t// Feedback state\n\tconst [feedbackMap, setFeedbackMap] = useState<\n\t\tMap<string, \"like\" | \"dislike\">\n\t>(new Map());\n\tconst feedbackApi = useFeedbackApi();\n\n\t// Bookmark state\n\tconst [bookmarkSet, setBookmarkSet] = useState<Set<string>>(new Set());\n\tconst bookmarkApi = useBookmarkApi();\n\n\t// Selection persistence\n\tconst selectionApi = useSelectionApi();\n\n\t// Derive currentEvaluationId from URL parameter\n\tconst currentEvaluationId = urlEvaluationId || null;\n\n\t// Ref for completion timeout cleanup\n\tconst completionTimeoutRef = useRef<ReturnType<typeof setTimeout> | null>(\n\t\tnull,\n\t);\n\n\t// API hook\n\tconst api = useEvaluationApi();\n\n\t// Evaluation history hook\n\tconst historyApi = useEvaluationHistory();\n\n\t// Version hook\n\tconst { version } = useVersion();\n\n\t// Ref for stable access to API function (avoids dependency array issues)\n\tconst loadEvaluationRef = useRef(historyApi.loadEvaluation);\n\tloadEvaluationRef.current = historyApi.loadEvaluation;\n\n\t// SSE event handler\n\tconst handleProgressEvent = useCallback(\n\t\t(event: SSEEvent) => {\n\t\t\tsetProgressState((prev) => {\n\t\t\t\tif (!prev) return prev;\n\n\t\t\t\tconst newState = { ...prev };\n\n\t\t\t\tswitch (event.type) {\n\t\t\t\t\t// Clone events\n\t\t\t\t\tcase \"clone.started\": {\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: \"Cloning repository...\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"clone.completed\": {\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\tmessage: \"Repository cloned successfully\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"clone.warning\": {\n\t\t\t\t\t\tconst data = (event as ICloneWarningEvent).data;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\t\t\tmessage: data.message,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discovery events\n\t\t\t\t\tcase \"discovery.started\": {\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: \"Discovering context files...\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"discovery.completed\": {\n\t\t\t\t\t\tconst data = (event as IDiscoveryCompletedEvent).data;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\tmessage: `Found ${data.filesFound} context file(s)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Context sub-step events\n\t\t\t\t\tcase \"context.cloc\": {\n\t\t\t\t\t\tconst data = (event as IContextClocEvent).data;\n\t\t\t\t\t\tif (data.status === \"started\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\t\tmessage: \"Analyzing codebase size...\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t} else if (data.status === \"completed\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\t\tmessage: `Codebase: ${data.totalLines?.toLocaleString() || \"?\"} lines across ${data.languageCount || \"?\"} languages`,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"context.folders\": {\n\t\t\t\t\t\tconst data = (event as IContextFoldersEvent).data;\n\t\t\t\t\t\tif (data.status === \"started\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\t\tmessage: \"Analyzing directory structure...\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t} else if (data.status === \"completed\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\t\tmessage: `Structure: ${data.folderCount || \"?\"} key directories`,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"context.analysis\": {\n\t\t\t\t\t\tconst data = (event as IContextAnalysisEvent).data;\n\t\t\t\t\t\tif (data.status === \"started\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\t\tmessage: \"Identifying project context...\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t} else if (data.status === \"completed\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\t\tmessage: \"Project context identified\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"context.warning\": {\n\t\t\t\t\t\tconst data = (event as IContextWarningEvent).data;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\t\t\tmessage: data.message,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"job.started\": {\n\t\t\t\t\t\tconst data = (event as IJobStartedEvent).data;\n\t\t\t\t\t\tnewState.status = \"running\";\n\t\t\t\t\t\tnewState.totalFiles = data.totalFiles || 0;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: `Started evaluation (${data.evaluationMode} mode, ${data.totalFiles} file(s))`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"file.started\": {\n\t\t\t\t\t\tconst data = (event as IFileStartedEvent).data;\n\t\t\t\t\t\tnewState.currentFile = data.filePath;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: `Processing ${data.filePath}`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"file.completed\": {\n\t\t\t\t\t\tnewState.completedFiles = (prev.completedFiles || 0) + 1;\n\t\t\t\t\t\t// Update percentage based on file progress\n\t\t\t\t\t\tif (newState.totalFiles > 0) {\n\t\t\t\t\t\t\tnewState.percentage = Math.round(\n\t\t\t\t\t\t\t\t(newState.completedFiles / newState.totalFiles) * 50,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluator.progress\": {\n\t\t\t\t\t\tconst data = (event as IEvaluatorProgressEvent).data;\n\t\t\t\t\t\tnewState.currentEvaluator = data.evaluatorName;\n\t\t\t\t\t\tnewState.completedEvaluators = data.evaluatorIndex;\n\t\t\t\t\t\tnewState.totalEvaluators = data.totalEvaluators;\n\t\t\t\t\t\t// Update percentage based on evaluator progress\n\t\t\t\t\t\tif (data.totalEvaluators > 0) {\n\t\t\t\t\t\t\tconst evaluatorProgress =\n\t\t\t\t\t\t\t\t(data.evaluatorIndex / data.totalEvaluators) * 50;\n\t\t\t\t\t\t\tnewState.percentage = 50 + Math.round(evaluatorProgress);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Include file context in log message when evaluating multiple files\n\t\t\t\t\t\tconst fileContext = data.currentFile\n\t\t\t\t\t\t\t? ` on ${data.currentFile.split(\"/\").pop()}`\n\t\t\t\t\t\t\t: \"\";\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: `Running ${data.evaluatorName}${fileContext} (${data.evaluatorIndex + 1}/${data.totalEvaluators})`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluator.completed\": {\n\t\t\t\t\t\tnewState.completedEvaluators = (prev.completedEvaluators || 0) + 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluator.retry\": {\n\t\t\t\t\t\tconst data = event.data as {\n\t\t\t\t\t\t\tevaluatorName: string;\n\t\t\t\t\t\t\tattempt: number;\n\t\t\t\t\t\t\tmaxRetries: number;\n\t\t\t\t\t\t\terror: string;\n\t\t\t\t\t\t\tcurrentFile?: string;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tconst retriesRemaining = data.maxRetries - data.attempt;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\t\t\tmessage: `Retry ${data.attempt}/${data.maxRetries} for ${data.evaluatorName}: ${data.error.substring(0, 100)}${data.error.length > 100 ? \"...\" : \"\"} (${retriesRemaining} retries remaining)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluator.timeout\": {\n\t\t\t\t\t\tconst data = event.data as {\n\t\t\t\t\t\t\tevaluatorName: string;\n\t\t\t\t\t\t\telapsedMs: number;\n\t\t\t\t\t\t\ttimeoutMs: number;\n\t\t\t\t\t\t\tcurrentFile?: string;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tconst elapsedSec = Math.round(data.elapsedMs / 1000);\n\t\t\t\t\t\tconst timeoutSec = Math.round(data.timeoutMs / 1000);\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\t\t\tmessage: `Timeout: ${data.evaluatorName} exceeded ${timeoutSec}s limit (elapsed: ${elapsedSec}s)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"curation.started\": {\n\t\t\t\t\t\tconst data = event.data;\n\t\t\t\t\t\tconst typeLabel =\n\t\t\t\t\t\t\tdata.issueType === \"error\"\n\t\t\t\t\t\t\t\t? \"errors\"\n\t\t\t\t\t\t\t\t: data.issueType === \"suggestion\"\n\t\t\t\t\t\t\t\t\t? \"suggestions\"\n\t\t\t\t\t\t\t\t\t: \"issues\";\n\t\t\t\t\t\tnewState.currentEvaluator = `Impact Curation (${typeLabel})`;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: `Curating top ${typeLabel} from ${data.totalIssues} total...`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"curation.completed\": {\n\t\t\t\t\t\tconst data = event.data;\n\t\t\t\t\t\tconst typeLabel =\n\t\t\t\t\t\t\tdata.issueType === \"error\"\n\t\t\t\t\t\t\t\t? \"errors\"\n\t\t\t\t\t\t\t\t: data.issueType === \"suggestion\"\n\t\t\t\t\t\t\t\t\t? \"suggestions\"\n\t\t\t\t\t\t\t\t\t: \"issues\";\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\tmessage: `Impact curation completed for ${typeLabel} (${data.curatedCount} selected)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluation.warning\": {\n\t\t\t\t\t\tconst data = event.data;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\t\t\tmessage: data.message || \"Some evaluators encountered errors\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"job.completed\": {\n\t\t\t\t\t\tconst data = (event as IJobCompletedEvent).data;\n\t\t\t\t\t\tnewState.status = \"completed\";\n\t\t\t\t\t\tnewState.percentage = 100;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\tmessage: `Evaluation completed in ${Math.round(data.duration / 1000)}s`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\t// Preserve logs for display in Summary after completion\n\t\t\t\t\t\tsetEvaluationLogs(newState.logs);\n\t\t\t\t\t\t// Set the evaluation data\n\t\t\t\t\t\tsetEvaluationData(data.result);\n\t\t\t\t\t\tsetEvaluationMode(\"completed\");\n\t\t\t\t\t\t// Reset job state after a short delay (user is already at /evaluation/:jobId)\n\t\t\t\t\t\t// Clear any existing timeout first\n\t\t\t\t\t\tif (completionTimeoutRef.current) {\n\t\t\t\t\t\t\tclearTimeout(completionTimeoutRef.current);\n\t\t\t\t\t\t\tcompletionTimeoutRef.current = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcompletionTimeoutRef.current = setTimeout(() => {\n\t\t\t\t\t\t\tsetCurrentJobId(null);\n\t\t\t\t\t\t\tsetSSEUrl(null);\n\t\t\t\t\t\t\tsetProgressState(null);\n\t\t\t\t\t\t}, 100);\n\t\t\t\t\t\t// Refresh history to show new evaluation\n\t\t\t\t\t\thistoryApi.refresh();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"job.failed\": {\n\t\t\t\t\t\tconst data = (event as IJobFailedEvent).data;\n\t\t\t\t\t\tnewState.status = \"failed\";\n\t\t\t\t\t\tnewState.errorMessage = data.error?.message || \"Unknown error\";\n\t\t\t\t\t\tnewState.errorCode = data.error?.code;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\t\t\tmessage: `Evaluation failed: ${data.error?.message || \"Unknown error\"}`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\t// Keep evaluationMode as 'evaluating' so ProgressPanel stays visible\n\t\t\t\t\t\t// User can dismiss manually with the \"Try Again\" button\n\t\t\t\t\t\t// Refresh history to show failed evaluation\n\t\t\t\t\t\thistoryApi.refresh();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Keep only last 50 logs\n\t\t\t\tif (newState.logs.length > 50) {\n\t\t\t\t\tnewState.logs = newState.logs.slice(-50);\n\t\t\t\t}\n\n\t\t\t\treturn newState;\n\t\t\t});\n\t\t},\n\t\t[historyApi],\n\t);\n\n\t// SSE connection\n\tuseSSE({\n\t\turl: sseUrl,\n\t\tonMessage: handleProgressEvent,\n\t\tonOpen: () => {\n\t\t\tsetProgressState((prev) =>\n\t\t\t\tprev\n\t\t\t\t\t? {\n\t\t\t\t\t\t\t...prev,\n\t\t\t\t\t\t\tlogs: [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\t\tmessage: \"Connected to progress stream\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t}\n\t\t\t\t\t: prev,\n\t\t\t);\n\t\t},\n\t});\n\n\t// Cleanup completion timeout on unmount\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tif (completionTimeoutRef.current) {\n\t\t\t\tclearTimeout(completionTimeoutRef.current);\n\t\t\t\tcompletionTimeoutRef.current = null;\n\t\t\t}\n\t\t};\n\t}, []);\n\n\t// Handle URL submission\n\tconst handleUrlSubmit = useCallback(\n\t\tasync (\n\t\t\turl: string,\n\t\t\tevaluators: number,\n\t\t\tprovider?: \"claude\" | \"opencode\" | \"cursor\" | \"github-copilot\",\n\t\t\tevaluatorFilter?: EvaluatorFilter,\n\t\t\tconcurrency?: number,\n\t\t\tselectedEvaluators?: string[],\n\t\t) => {\n\t\t\tsetEvaluationMode(\"evaluating\");\n\t\t\tsetApiError(null);\n\t\t\tsetCurrentRepositoryUrl(url);\n\t\t\tsetEvaluationLogs([]); // Clear previous logs when starting new evaluation\n\n\t\t\ttry {\n\t\t\t\tconst response = await api.submitJob(\n\t\t\t\t\turl,\n\t\t\t\t\tevaluators,\n\t\t\t\t\tprovider,\n\t\t\t\t\tevaluatorFilter,\n\t\t\t\t\tundefined,\n\t\t\t\t\tconcurrency,\n\t\t\t\t\tselectedEvaluators,\n\t\t\t\t);\n\t\t\t\tsetCurrentJobId(response.jobId);\n\t\t\t\tsetSSEUrl(response.sseUrl);\n\n\t\t\t\t// Initialize progress state\n\t\t\t\tsetProgressState({\n\t\t\t\t\tstatus: \"queued\",\n\t\t\t\t\trepositoryUrl: url,\n\t\t\t\t\ttotalFiles: 0,\n\t\t\t\t\tcompletedFiles: 0,\n\t\t\t\t\ttotalEvaluators: getFilteredEvaluatorCount(\n\t\t\t\t\t\tevaluatorFilter || \"all\",\n\t\t\t\t\t\tevaluators,\n\t\t\t\t\t\tselectedEvaluators?.length,\n\t\t\t\t\t),\n\t\t\t\t\tcompletedEvaluators: 0,\n\t\t\t\t\tpercentage: 0,\n\t\t\t\t\tstartTime: new Date(),\n\t\t\t\t\tlogs: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\tmessage: \"Evaluation job submitted\",\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t});\n\n\t\t\t\t// Navigate immediately to the evaluation URL\n\t\t\t\tnavigate(`/evaluation/${response.jobId}`);\n\t\t\t} catch (error) {\n\t\t\t\tsetEvaluationMode(\"idle\");\n\t\t\t\tsetApiError(\n\t\t\t\t\terror instanceof Error\n\t\t\t\t\t\t? error.message\n\t\t\t\t\t\t: \"Failed to submit evaluation job\",\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[api, navigate],\n\t);\n\n\t// Handle batch URL submission\n\tconst handleBatchSubmit = useCallback(\n\t\tasync (\n\t\t\turls: string[],\n\t\t\t_evaluators: number,\n\t\t\tprovider?: \"claude\" | \"opencode\" | \"cursor\" | \"github-copilot\",\n\t\t\tevaluatorFilter?: EvaluatorFilter,\n\t\t\tconcurrency?: number,\n\t\t\tselectedEvaluators?: string[],\n\t\t) => {\n\t\t\tsetApiError(null);\n\t\t\ttry {\n\t\t\t\tconst response = await api.submitBatch(\n\t\t\t\t\turls,\n\t\t\t\t\tundefined,\n\t\t\t\t\tprovider,\n\t\t\t\t\tevaluatorFilter,\n\t\t\t\t\tundefined,\n\t\t\t\t\tconcurrency,\n\t\t\t\t\tselectedEvaluators,\n\t\t\t\t);\n\t\t\t\tnavigate(`/batch/${response.batchId}`);\n\t\t\t} catch (error) {\n\t\t\t\tsetApiError(\n\t\t\t\t\terror instanceof Error\n\t\t\t\t\t\t? error.message\n\t\t\t\t\t\t: \"Failed to submit batch evaluation\",\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[api, navigate],\n\t);\n\n\t// Handle job cancellation\n\tconst handleCancelJob = useCallback(async () => {\n\t\tif (currentJobId) {\n\t\t\tawait api.cancelJob(currentJobId);\n\t\t}\n\t\tsetEvaluationMode(\"idle\");\n\t\tsetProgressState(null);\n\t\tsetCurrentJobId(null);\n\t\tsetSSEUrl(null);\n\t}, [currentJobId, api]);\n\n\t// Handle dismissing failed evaluation (Try Again)\n\tconst handleDismissFailure = useCallback(() => {\n\t\tsetEvaluationMode(\"idle\");\n\t\tsetProgressState(null);\n\t\tsetCurrentJobId(null);\n\t\tsetSSEUrl(null);\n\t}, []);\n\n\t// Load evaluation from URL on mount or when URL changes\n\t// Handles both active jobs (reconnect SSE) and completed evaluations (load from database)\n\t// biome-ignore lint/correctness/useExhaustiveDependencies: handleFileLoad is intentionally excluded - we want the latest version but don't want it to trigger re-runs\n\tuseEffect(() => {\n\t\tif (!urlEvaluationId) return;\n\t\tif (evaluationData && evaluationMode === \"completed\") return; // Already loaded\n\t\tif (evaluationMode === \"evaluating\") return; // Currently evaluating\n\n\t\tconst loadEvaluationById = async () => {\n\t\t\tsetIsLoadingFromUrl(true);\n\t\t\tsetApiError(null);\n\n\t\t\ttry {\n\t\t\t\t// Step 1: Check if it's an active job\n\t\t\t\tconst jobStatus = await api.getJobStatus(urlEvaluationId);\n\n\t\t\t\tif (jobStatus.status === \"completed\" && jobStatus.result) {\n\t\t\t\t\t// Job completed, result in memory - use it directly\n\t\t\t\t\thandleFileLoad(jobStatus.result);\n\t\t\t\t\tsetCurrentRepositoryUrl(jobStatus.repositoryUrl || null);\n\t\t\t\t\tsetEvaluationMode(\"completed\");\n\t\t\t\t\t// Load feedback, bookmarks, and selections\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst feedback =\n\t\t\t\t\t\t\tawait feedbackApi.getFeedbackForEvaluation(urlEvaluationId);\n\t\t\t\t\t\tsetFeedbackMap(feedback);\n\t\t\t\t\t\tif (!cloudMode) {\n\t\t\t\t\t\t\tconst bookmarks =\n\t\t\t\t\t\t\t\tawait bookmarkApi.getBookmarksForEvaluation(urlEvaluationId);\n\t\t\t\t\t\t\tsetBookmarkSet(bookmarks);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst selections =\n\t\t\t\t\t\t\tawait selectionApi.getSelectionsForEvaluation(urlEvaluationId);\n\t\t\t\t\t\tsetSelectedIssueKeys(selections);\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error(\"Failed to load metadata:\", err);\n\t\t\t\t\t}\n\t\t\t\t\tsetIsLoadingFromUrl(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (jobStatus.status === \"failed\") {\n\t\t\t\t\tsetApiError(jobStatus.error?.message || \"Evaluation failed\");\n\t\t\t\t\tsetIsLoadingFromUrl(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Active job (running or queued) - reconnect SSE\n\t\t\t\tif (jobStatus.status === \"running\" || jobStatus.status === \"queued\") {\n\t\t\t\t\tsetCurrentJobId(urlEvaluationId);\n\t\t\t\t\tconst sseUrlValue = jobStatus.sseUrl?.startsWith(\"/\")\n\t\t\t\t\t\t? `${window.location.origin}${jobStatus.sseUrl}`\n\t\t\t\t\t\t: jobStatus.sseUrl || null;\n\t\t\t\t\tsetSSEUrl(sseUrlValue);\n\t\t\t\t\tsetCurrentRepositoryUrl(jobStatus.repositoryUrl || null);\n\t\t\t\t\tsetEvaluationMode(\"evaluating\");\n\n\t\t\t\t\t// Convert server logs to frontend format, or use default message\n\t\t\t\t\tconst historicalLogs = jobStatus.logs?.length\n\t\t\t\t\t\t? jobStatus.logs.map((log) => ({\n\t\t\t\t\t\t\t\ttimestamp: new Date(log.timestamp),\n\t\t\t\t\t\t\t\ttype: log.type,\n\t\t\t\t\t\t\t\tmessage: log.message,\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\" as const,\n\t\t\t\t\t\t\t\t\tmessage: \"Reconnected to evaluation in progress\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\n\t\t\t\t\t// Calculate progress percentage\n\t\t\t\t\tlet percentage = 0;\n\t\t\t\t\tif (jobStatus.progress?.totalEvaluators) {\n\t\t\t\t\t\tpercentage = Math.round(\n\t\t\t\t\t\t\t((jobStatus.progress.completedEvaluators || 0) /\n\t\t\t\t\t\t\t\tjobStatus.progress.totalEvaluators) *\n\t\t\t\t\t\t\t\t100,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Initialize progress state from job with historical logs\n\t\t\t\t\tsetProgressState({\n\t\t\t\t\t\tstatus: jobStatus.status,\n\t\t\t\t\t\trepositoryUrl: jobStatus.repositoryUrl || \"Unknown\",\n\t\t\t\t\t\ttotalFiles: jobStatus.progress?.totalFiles || 0,\n\t\t\t\t\t\tcompletedFiles: jobStatus.progress?.completedFiles || 0,\n\t\t\t\t\t\ttotalEvaluators: jobStatus.progress?.totalEvaluators || 0,\n\t\t\t\t\t\tcompletedEvaluators: jobStatus.progress?.completedEvaluators || 0,\n\t\t\t\t\t\tcurrentEvaluator: jobStatus.progress?.currentEvaluator,\n\t\t\t\t\t\tpercentage,\n\t\t\t\t\t\tstartTime: new Date(jobStatus.startedAt || jobStatus.createdAt),\n\t\t\t\t\t\tlogs: historicalLogs,\n\t\t\t\t\t});\n\t\t\t\t\tsetIsLoadingFromUrl(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} catch {\n\t\t\t\t// Not an active job - try database\n\t\t\t\tconsole.log(\"[App] Not an active job, trying database\");\n\t\t\t}\n\n\t\t\t// Step 2: Try loading from database\n\t\t\ttry {\n\t\t\t\tconst record = await loadEvaluationRef.current(urlEvaluationId);\n\t\t\t\tif (record?.result) {\n\t\t\t\t\thandleFileLoad(record.result);\n\t\t\t\t\tsetCurrentRepositoryUrl(record.repositoryUrl);\n\t\t\t\t\tsetEvaluationMode(\"completed\");\n\t\t\t\t\t// Load feedback, bookmarks, and selections\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst feedback =\n\t\t\t\t\t\t\tawait feedbackApi.getFeedbackForEvaluation(urlEvaluationId);\n\t\t\t\t\t\tsetFeedbackMap(feedback);\n\t\t\t\t\t\tif (!cloudMode) {\n\t\t\t\t\t\t\tconst bookmarks =\n\t\t\t\t\t\t\t\tawait bookmarkApi.getBookmarksForEvaluation(urlEvaluationId);\n\t\t\t\t\t\t\tsetBookmarkSet(bookmarks);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst selections =\n\t\t\t\t\t\t\tawait selectionApi.getSelectionsForEvaluation(urlEvaluationId);\n\t\t\t\t\t\tsetSelectedIssueKeys(selections);\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error(\"Failed to load metadata:\", err);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsetApiError(\"Evaluation not found\");\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tsetApiError(\n\t\t\t\t\terr instanceof Error ? err.message : \"Failed to load evaluation\",\n\t\t\t\t);\n\t\t\t} finally {\n\t\t\t\tsetIsLoadingFromUrl(false);\n\t\t\t}\n\t\t};\n\n\t\tloadEvaluationById();\n\t}, [\n\t\turlEvaluationId,\n\t\tevaluationData,\n\t\tevaluationMode,\n\t\tapi,\n\t\tfeedbackApi,\n\t\tbookmarkApi,\n\t\tselectionApi,\n\t\tcloudMode,\n\t]);\n\n\t// Parse all issues from evaluation data\n\tconst allIssues = useMemo(() => {\n\t\tif (!evaluationData) return [];\n\n\t\tconst issues: Array<Issue & { evaluatorName?: string }> = [];\n\n\t\tif (isUnifiedFormat(evaluationData)) {\n\t\t\t// Unified format: results array\n\t\t\tconst unifiedData = evaluationData as UnifiedEvaluationOutput;\n\t\t\tfor (const result of unifiedData.results) {\n\t\t\t\tif (result.output && result.output.result) {\n\t\t\t\t\tconst parsedIssues = parseEvaluatorResult(result.output.result);\n\t\t\t\t\tparsedIssues.forEach((issue) => {\n\t\t\t\t\t\tissues.push({ ...issue, evaluatorName: result.evaluator });\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add top-level cross-file issues for unified format\n\t\t\tif (unifiedData.crossFileIssues) {\n\t\t\t\tissues.push(\n\t\t\t\t\t...unifiedData.crossFileIssues.map((issue) => ({\n\t\t\t\t\t\t...issue,\n\t\t\t\t\t\tevaluatorName: \"cross-file\",\n\t\t\t\t\t})),\n\t\t\t\t);\n\t\t\t}\n\t\t} else if (isIndependentFormat(evaluationData)) {\n\t\t\t// Independent format: files object\n\t\t\tconst independentData = evaluationData as IndependentEvaluationOutput;\n\t\t\tfor (const [_filePath, fileResult] of Object.entries(\n\t\t\t\tindependentData.files,\n\t\t\t)) {\n\t\t\t\tfor (const evaluation of fileResult.evaluations) {\n\t\t\t\t\tconst evalWithIssues = evaluation as {\n\t\t\t\t\t\tissues?: Issue[];\n\t\t\t\t\t\tevaluator: string;\n\t\t\t\t\t\toutput?: { result: string };\n\t\t\t\t\t};\n\t\t\t\t\t// Handle both formats:\n\t\t\t\t\t// 1. Backend API format: issues array directly on evaluation\n\t\t\t\t\t// 2. JSON file format: output.result as a string to parse\n\t\t\t\t\tif (\"issues\" in evaluation && Array.isArray(evalWithIssues.issues)) {\n\t\t\t\t\t\t// Backend API format - issues are already parsed\n\t\t\t\t\t\tconst evalIssues = evalWithIssues.issues;\n\t\t\t\t\t\tevalIssues.forEach((issue) => {\n\t\t\t\t\t\t\tissues.push({ ...issue, evaluatorName: evaluation.evaluator });\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (evaluation.output && evaluation.output.result) {\n\t\t\t\t\t\t// JSON file format - need to parse result string\n\t\t\t\t\t\tconst parsedIssues = parseEvaluatorResult(evaluation.output.result);\n\t\t\t\t\t\tparsedIssues.forEach((issue) => {\n\t\t\t\t\t\t\tissues.push({ ...issue, evaluatorName: evaluation.evaluator });\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add cross-file issues\n\t\t\tif (independentData.crossFileIssues) {\n\t\t\t\tissues.push(\n\t\t\t\t\t...independentData.crossFileIssues.map((issue) => ({\n\t\t\t\t\t\t...issue,\n\t\t\t\t\t\tevaluatorName: \"cross-file\",\n\t\t\t\t\t})),\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// Build issue key map for selection tracking\n\t\tconst keyMap = new Map<string, Issue>();\n\t\tissues.forEach((issue, index) => {\n\t\t\tconst key = generateIssueKey(issue, index);\n\t\t\tkeyMap.set(key, issue);\n\t\t});\n\t\tsetIssueKeyMap(keyMap);\n\n\t\treturn issues;\n\t}, [evaluationData]);\n\n\t// Get curated issues from impact curation (if available)\n\tconst curatedIssues = useMemo(() => {\n\t\tif (!evaluationData?.curation) return [];\n\n\t\tconst issues: Issue[] = [];\n\n\t\t// Add curated errors\n\t\tif (evaluationData.curation.errors?.curatedIssues) {\n\t\t\tissues.push(...evaluationData.curation.errors.curatedIssues);\n\t\t}\n\n\t\t// Add curated suggestions\n\t\tif (evaluationData.curation.suggestions?.curatedIssues) {\n\t\t\tissues.push(...evaluationData.curation.suggestions.curatedIssues);\n\t\t}\n\n\t\t// Fallback to legacy format\n\t\tif (issues.length === 0 && evaluationData.curation.curatedIssues) {\n\t\t\tissues.push(...evaluationData.curation.curatedIssues);\n\t\t}\n\n\t\treturn issues;\n\t}, [evaluationData]);\n\n\t// Get curation summary (if available)\n\tconst curationSummary = useMemo(() => {\n\t\treturn evaluationData?.curation?.summary || null;\n\t}, [evaluationData]);\n\n\t// Use curated issues when available, otherwise display all issues\n\tconst displayIssues = useMemo(() => {\n\t\treturn curatedIssues.length > 0 ? curatedIssues : allIssues;\n\t}, [curatedIssues, allIssues]);\n\n\t// Calculate severity counts from displayed issues\n\tconst { highCount, mediumCount } = useMemo(() => {\n\t\tconst counts = { high: 0, medium: 0 };\n\t\tdisplayIssues.forEach((issue) => {\n\t\t\tconst numericSeverity = getIssueSeverity(issue);\n\t\t\tconst level = getSeverityLevel(numericSeverity);\n\t\t\tif (level === \"high\") counts.high++;\n\t\t\telse if (level === \"medium\") counts.medium++;\n\t\t});\n\t\treturn {\n\t\t\thighCount: counts.high,\n\t\t\tmediumCount: counts.medium,\n\t\t};\n\t}, [displayIssues]);\n\n\t// Calculate issue type counts (errors vs suggestions) from displayed issues\n\tconst { errorCount, suggestionCount } = useMemo(() => {\n\t\tconst counts = { error: 0, suggestion: 0 };\n\t\tdisplayIssues.forEach((issue) => {\n\t\t\tconst type = getIssueType(issue);\n\t\t\tcounts[type]++;\n\t\t});\n\t\treturn { errorCount: counts.error, suggestionCount: counts.suggestion };\n\t}, [displayIssues]);\n\n\t// Determine active tab with smart defaults and backward compatibility\n\tconst activeTab = useMemo(() => {\n\t\t// Backward compatibility: redirect \"issues\" to \"errors\"\n\t\tif (rawTab === \"issues\") {\n\t\t\thandleTabChange(\"errors\");\n\t\t\treturn \"errors\";\n\t\t}\n\n\t\t// If tab is specified, use it\n\t\tif (rawTab) {\n\t\t\treturn rawTab;\n\t\t}\n\n\t\t// Smart defaults when no tab is specified\n\t\tif (!evaluationData) {\n\t\t\treturn \"summary\";\n\t\t}\n\n\t\tif (errorCount > 0) {\n\t\t\treturn \"errors\";\n\t\t}\n\n\t\tif (suggestionCount > 0) {\n\t\t\treturn \"suggestions\";\n\t\t}\n\n\t\treturn \"summary\";\n\t}, [rawTab, evaluationData, errorCount, suggestionCount, handleTabChange]);\n\n\t// Split issues by type for tab-aware filtering\n\tconst errorIssues = useMemo(\n\t\t() => allIssues.filter((issue) => getIssueType(issue) === \"error\"),\n\t\t[allIssues],\n\t);\n\n\tconst suggestionIssues = useMemo(\n\t\t() => allIssues.filter((issue) => getIssueType(issue) === \"suggestion\"),\n\t\t[allIssues],\n\t);\n\n\t// Get base issues based on active tab\n\tconst baseIssues = useMemo(() => {\n\t\tif (activeTab === \"errors\") return errorIssues;\n\t\tif (activeTab === \"suggestions\") return suggestionIssues;\n\t\treturn displayIssues; // Fallback for non-issue tabs\n\t}, [activeTab, errorIssues, suggestionIssues, displayIssues]);\n\n\t// Calculate per-file vs cross-file issue counts\n\tconst { perFileIssueCount, crossFileIssueCount } = useMemo(() => {\n\t\tif (!evaluationData)\n\t\t\treturn { perFileIssueCount: 0, crossFileIssueCount: 0 };\n\n\t\tif (isIndependentFormat(evaluationData)) {\n\t\t\tconst independentData = evaluationData as IndependentEvaluationOutput;\n\t\t\tconst crossFile = independentData.crossFileIssues?.length || 0;\n\t\t\tconst perFile = allIssues.length - crossFile;\n\t\t\treturn { perFileIssueCount: perFile, crossFileIssueCount: crossFile };\n\t\t}\n\n\t\t// For unified format, all issues are considered per-file\n\t\treturn { perFileIssueCount: allIssues.length, crossFileIssueCount: 0 };\n\t}, [evaluationData, allIssues]);\n\n\t// Extract unique categories\n\tconst availableCategories = useMemo(() => {\n\t\tconst categories = new Set<string>();\n\n\t\tallIssues.forEach((issue) => {\n\t\t\tif (issue.category) categories.add(issue.category);\n\t\t});\n\n\t\treturn Array.from(categories).sort();\n\t}, [allIssues]);\n\n\t// Calculate counts per filter option (based on baseIssues to respect tab selection)\n\tconst filterOptionCounts = useMemo((): FilterOptionCounts => {\n\t\tconst counts: FilterOptionCounts = {\n\t\t\tseverities: { high: 0, medium: 0, low: 0 },\n\t\t\tcategories: {},\n\t\t};\n\n\t\tbaseIssues.forEach((issue) => {\n\t\t\t// Severity\n\t\t\tconst numericSeverity = getIssueSeverity(issue);\n\t\t\tconst level = getSeverityLevel(numericSeverity);\n\t\t\tif (level === \"high\") counts.severities.high++;\n\t\t\telse if (level === \"medium\") counts.severities.medium++;\n\t\t\telse if (level === \"low\") counts.severities.low++;\n\n\t\t\t// Category\n\t\t\tif (issue.category) {\n\t\t\t\tcounts.categories[issue.category] =\n\t\t\t\t\t(counts.categories[issue.category] || 0) + 1;\n\t\t\t}\n\t\t});\n\n\t\treturn counts;\n\t}, [baseIssues]);\n\n\t// Filter issues based on active filters (using baseIssues which respects tab selection)\n\tconst filteredIssues = useMemo(() => {\n\t\treturn baseIssues.filter((issue) => {\n\t\t\t// Bookmark filter (check first for early return)\n\t\t\tif (filters.bookmarkedOnly) {\n\t\t\t\tconst issueHash = generateIssueHash(issue);\n\t\t\t\tif (!bookmarkSet.has(issueHash)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Severity filter\n\t\t\tif (filters.severities.size > 0) {\n\t\t\t\tconst numericSeverity = getIssueSeverity(issue);\n\t\t\t\tconst severityLevel = getSeverityLevel(numericSeverity);\n\t\t\t\tif (!filters.severities.has(severityLevel)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Category filter\n\t\t\tif (filters.categories.size > 0 && issue.category) {\n\t\t\t\tif (!filters.categories.has(issue.category)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Search text filter\n\t\t\tif (filters.searchText) {\n\t\t\t\tconst searchLower = filters.searchText.toLowerCase();\n\t\t\t\tconst searchableText = [\n\t\t\t\t\tissue.description, // Primary issue description\n\t\t\t\t\tissue.problem, // Fallback issue description\n\t\t\t\t\tissue.title, // Secondary title field\n\t\t\t\t]\n\t\t\t\t\t.filter(Boolean)\n\t\t\t\t\t.join(\" \")\n\t\t\t\t\t.toLowerCase();\n\n\t\t\t\tif (!searchableText.includes(searchLower)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\t}, [baseIssues, filters, bookmarkSet]);\n\n\t// Calculate filtered counts for tab badges\n\tconst filteredErrorsCount = useMemo(() => {\n\t\tif (activeTab !== \"errors\") return errorIssues.length;\n\t\treturn filteredIssues.length;\n\t}, [activeTab, errorIssues.length, filteredIssues.length]);\n\n\tconst filteredSuggestionsCount = useMemo(() => {\n\t\tif (activeTab !== \"suggestions\") return suggestionIssues.length;\n\t\treturn filteredIssues.length;\n\t}, [activeTab, suggestionIssues.length, filteredIssues.length]);\n\n\t// Calculate bookmarked count for FilterPanel badge\n\tconst bookmarkedCount = useMemo(() => {\n\t\treturn baseIssues.filter((issue) => {\n\t\t\tconst issueHash = generateIssueHash(issue);\n\t\t\treturn bookmarkSet.has(issueHash);\n\t\t}).length;\n\t}, [baseIssues, bookmarkSet]);\n\n\t// Group issues by file for display\n\tconst groupedIssues = useMemo(() => {\n\t\tconst grouped: Record<string, Issue[]> = {\n\t\t\t__cross_file__: [], // Special key for cross-file issues\n\t\t};\n\n\t\tfor (const issue of filteredIssues) {\n\t\t\tconst file = getIssueFile(issue);\n\n\t\t\tif (file === null) {\n\t\t\t\t// Cross-file or no-file issue\n\t\t\t\tgrouped.__cross_file__.push(issue);\n\t\t\t} else {\n\t\t\t\tif (!grouped[file]) {\n\t\t\t\t\tgrouped[file] = [];\n\t\t\t\t}\n\t\t\t\tgrouped[file].push(issue);\n\t\t\t}\n\t\t}\n\n\t\t// Remove cross-file section if empty\n\t\tif (grouped.__cross_file__.length === 0) {\n\t\t\tdelete grouped.__cross_file__;\n\t\t}\n\n\t\treturn grouped;\n\t}, [filteredIssues]);\n\n\t// Sort grouped issues: cross-file first, then by max severity, then alphabetically\n\tconst sortedGroupedIssues = useMemo(() => {\n\t\tconst entries = Object.entries(groupedIssues);\n\n\t\t// Separate cross-file from regular files\n\t\tconst crossFileEntry = entries.find(([key]) => key === \"__cross_file__\");\n\t\tconst fileEntries = entries.filter(([key]) => key !== \"__cross_file__\");\n\n\t\t// Sort file entries by max severity desc, then alphabetically\n\t\tfileEntries.sort(([fileA, issuesA], [fileB, issuesB]) => {\n\t\t\tconst maxSeverityA = getMaxIssueSeverity(issuesA);\n\t\t\tconst maxSeverityB = getMaxIssueSeverity(issuesB);\n\n\t\t\tif (maxSeverityA !== maxSeverityB) {\n\t\t\t\treturn maxSeverityB - maxSeverityA;\n\t\t\t}\n\n\t\t\treturn fileA.localeCompare(fileB);\n\t\t});\n\n\t\t// Return cross-file first, then sorted files\n\t\treturn crossFileEntry ? [crossFileEntry, ...fileEntries] : fileEntries;\n\t}, [groupedIssues]);\n\n\t// Determine if we should use nested grouping (file -> evaluator -> issues)\n\t// Only use nested grouping when no filters are active\n\tconst shouldUseNestedGrouping = useMemo(\n\t\t() => checkShouldUseNestedGrouping(filters),\n\t\t[filters],\n\t);\n\n\t// Group issues by file, then by category within each file\n\tconst nestedGroupedIssues = useMemo(() => {\n\t\tif (!shouldUseNestedGrouping) return null;\n\n\t\tconst grouped: Record<string, CategoryGroup[]> = {};\n\n\t\t// First, group by file\n\t\tfor (const issue of filteredIssues) {\n\t\t\tconst file = getIssueFile(issue);\n\t\t\tconst fileKey = file === null ? \"__cross_file__\" : file;\n\n\t\t\tif (!grouped[fileKey]) {\n\t\t\t\tgrouped[fileKey] = [];\n\t\t\t}\n\t\t}\n\n\t\t// Then, within each file, group by category\n\t\tfor (const issue of filteredIssues) {\n\t\t\tconst file = getIssueFile(issue);\n\t\t\tconst fileKey = file === null ? \"__cross_file__\" : file;\n\t\t\tconst categoryName = issue.category || \"Unknown\";\n\n\t\t\t// Find or create category group\n\t\t\tlet categoryGroup = grouped[fileKey].find(\n\t\t\t\t(g) => g.categoryName === categoryName,\n\t\t\t);\n\n\t\t\tif (!categoryGroup) {\n\t\t\t\tcategoryGroup = {\n\t\t\t\t\tcategoryName,\n\t\t\t\t\tissues: [],\n\t\t\t\t\tmaxSeverity: 0,\n\t\t\t\t};\n\t\t\t\tgrouped[fileKey].push(categoryGroup);\n\t\t\t}\n\n\t\t\tcategoryGroup.issues.push(issue);\n\t\t}\n\n\t\t// Calculate max severity for each category group and sort issues\n\t\tfor (const fileKey in grouped) {\n\t\t\tfor (const group of grouped[fileKey]) {\n\t\t\t\tgroup.maxSeverity = getMaxIssueSeverity(group.issues);\n\t\t\t\t// Sort issues within category group by severity (descending)\n\t\t\t\tgroup.issues.sort((a, b) => getIssueSeverity(b) - getIssueSeverity(a));\n\t\t\t}\n\n\t\t\t// Sort category groups by max severity (descending)\n\t\t\tgrouped[fileKey].sort((a, b) => b.maxSeverity - a.maxSeverity);\n\t\t}\n\n\t\t// Remove cross-file section if empty\n\t\tif (grouped.__cross_file__ && grouped.__cross_file__.length === 0) {\n\t\t\tdelete grouped.__cross_file__;\n\t\t}\n\n\t\treturn grouped;\n\t}, [shouldUseNestedGrouping, filteredIssues]);\n\n\t// Sort file groups by max severity across all categories\n\tconst sortedFileGroups = useMemo(() => {\n\t\t// If not using nested grouping, return the existing sorted groups\n\t\tif (!shouldUseNestedGrouping || !nestedGroupedIssues) {\n\t\t\treturn sortedGroupedIssues;\n\t\t}\n\n\t\tconst entries = Object.entries(nestedGroupedIssues);\n\n\t\t// Separate cross-file from regular files\n\t\tconst crossFileEntry = entries.find(([key]) => key === \"__cross_file__\");\n\t\tconst fileEntries = entries.filter(([key]) => key !== \"__cross_file__\");\n\n\t\t// Sort file entries by max severity across all categories\n\t\tfileEntries.sort(([fileA, groupsA], [fileB, groupsB]) => {\n\t\t\tconst maxSeverityA = getMaxCategoryGroupSeverity(groupsA);\n\t\t\tconst maxSeverityB = getMaxCategoryGroupSeverity(groupsB);\n\n\t\t\tif (maxSeverityA !== maxSeverityB) {\n\t\t\t\treturn maxSeverityB - maxSeverityA;\n\t\t\t}\n\n\t\t\treturn fileA.localeCompare(fileB);\n\t\t});\n\n\t\t// Return cross-file first, then sorted files\n\t\treturn crossFileEntry ? [crossFileEntry, ...fileEntries] : fileEntries;\n\t}, [shouldUseNestedGrouping, nestedGroupedIssues, sortedGroupedIssues]);\n\n\tconst handleFileLoad = (data: EvaluationOutput) => {\n\t\t// Aggregate cost and duration data from evaluator results\n\t\tif (isUnifiedFormat(data)) {\n\t\t\tconst unifiedData = data as UnifiedEvaluationOutput;\n\t\t\tlet totalCostUsd = 0;\n\t\t\tlet totalDurationMs = 0;\n\t\t\tlet totalInputTokens = 0;\n\t\t\tlet totalOutputTokens = 0;\n\t\t\tlet totalCacheCreationTokens = 0;\n\t\t\tlet totalCacheReadTokens = 0;\n\n\t\t\tfor (const result of unifiedData.results) {\n\t\t\t\tif (result.output) {\n\t\t\t\t\ttotalCostUsd += result.output.total_cost_usd || 0;\n\t\t\t\t\ttotalDurationMs += result.output.duration_ms || 0;\n\t\t\t\t\ttotalInputTokens += result.output.usage.input_tokens || 0;\n\t\t\t\t\ttotalOutputTokens += result.output.usage.output_tokens || 0;\n\t\t\t\t\ttotalCacheCreationTokens +=\n\t\t\t\t\t\tresult.output.usage.cache_creation_input_tokens || 0;\n\t\t\t\t\ttotalCacheReadTokens +=\n\t\t\t\t\t\tresult.output.usage.cache_read_input_tokens || 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add aggregated data to metadata\n\t\t\tunifiedData.metadata.totalCostUsd = totalCostUsd;\n\t\t\tunifiedData.metadata.totalDurationMs = totalDurationMs;\n\t\t\tunifiedData.metadata.totalInputTokens = totalInputTokens;\n\t\t\tunifiedData.metadata.totalOutputTokens = totalOutputTokens;\n\t\t\tunifiedData.metadata.totalCacheCreationTokens = totalCacheCreationTokens;\n\t\t\tunifiedData.metadata.totalCacheReadTokens = totalCacheReadTokens;\n\t\t}\n\n\t\tsetEvaluationData(data);\n\t\t// Reset filters and selections when new data is loaded\n\t\tsetFilters({\n\t\t\tseverities: new Set(),\n\t\t\tcategories: new Set(),\n\t\t\tevaluators: new Set(),\n\t\t\tsearchText: \"\",\n\t\t\tbookmarkedOnly: false,\n\t\t});\n\t\tsetSelectedIssueKeys(new Set());\n\t};\n\n\tconst handleClear = useCallback(() => {\n\t\t// Clear selections in DB before resetting state\n\t\tif (currentEvaluationId) {\n\t\t\tselectionApi\n\t\t\t\t.clearSelections(currentEvaluationId)\n\t\t\t\t.catch((err) =>\n\t\t\t\t\tconsole.error(\"Failed to clear selections on reset:\", err),\n\t\t\t\t);\n\t\t}\n\t\tsetEvaluationData(null);\n\t\tsetEvaluationMode(\"idle\");\n\t\tsetApiError(null);\n\t\tsetCurrentRepositoryUrl(null);\n\t\tsetEvaluationLogs([]); // Clear logs when clearing\n\t\tsetFilters({\n\t\t\tseverities: new Set(),\n\t\t\tcategories: new Set(),\n\t\t\tevaluators: new Set(),\n\t\t\tsearchText: \"\",\n\t\t\tbookmarkedOnly: false,\n\t\t});\n\t\tsetSelectedIssueKeys(new Set());\n\t\tsetBookmarkSet(new Set());\n\t\t// Navigate to root\n\t\tnavigate(\"/\");\n\t}, [navigate, currentEvaluationId, selectionApi]);\n\n\tconst handleDeleteEvaluation = useCallback(async () => {\n\t\tif (currentEvaluationId) {\n\t\t\tawait historyApi.deleteEvaluation(currentEvaluationId);\n\t\t\thandleClear();\n\t\t}\n\t}, [currentEvaluationId, historyApi, handleClear]);\n\n\t// Issue selection handlers\n\tconst handleToggleIssueSelection = useCallback(\n\t\t(key: string, _issue: Issue) => {\n\t\t\tsetSelectedIssueKeys((prev) => {\n\t\t\t\tconst newSet = new Set(prev);\n\t\t\t\tconst isRemoving = newSet.has(key);\n\t\t\t\tif (isRemoving) {\n\t\t\t\t\tnewSet.delete(key);\n\t\t\t\t} else {\n\t\t\t\t\tnewSet.add(key);\n\t\t\t\t}\n\t\t\t\t// Persist to DB (fire-and-forget)\n\t\t\t\tif (currentEvaluationId) {\n\t\t\t\t\tif (isRemoving) {\n\t\t\t\t\t\tselectionApi\n\t\t\t\t\t\t\t.removeSelection(currentEvaluationId, key)\n\t\t\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\t\t\tconsole.error(\"Failed to persist selection removal:\", err),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselectionApi\n\t\t\t\t\t\t\t.addSelections(currentEvaluationId, [key])\n\t\t\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\t\t\tconsole.error(\"Failed to persist selection add:\", err),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn newSet;\n\t\t\t});\n\t\t},\n\t\t[currentEvaluationId, selectionApi],\n\t);\n\n\tconst handleClearSelection = useCallback(() => {\n\t\tsetSelectedIssueKeys(new Set());\n\t\tif (currentEvaluationId) {\n\t\t\tselectionApi\n\t\t\t\t.clearSelections(currentEvaluationId)\n\t\t\t\t.catch((err) =>\n\t\t\t\t\tconsole.error(\"Failed to persist selection clear:\", err),\n\t\t\t\t);\n\t\t}\n\t}, [currentEvaluationId, selectionApi]);\n\n\tconst handleFeedback = useCallback(\n\t\tasync (issueHash: string, feedbackType: \"like\" | \"dislike\" | null) => {\n\t\t\tif (!currentEvaluationId) return;\n\n\t\t\t// Find the issue by hash to get the evaluator name\n\t\t\tconst issue = allIssues.find((i) => generateIssueHash(i) === issueHash);\n\t\t\tif (!issue) return;\n\n\t\t\tconst newMap = new Map(feedbackMap);\n\n\t\t\ttry {\n\t\t\t\tif (feedbackType === null) {\n\t\t\t\t\t// Remove feedback\n\t\t\t\t\tawait feedbackApi.removeFeedback(currentEvaluationId, issueHash);\n\t\t\t\t\tnewMap.delete(issueHash);\n\t\t\t\t} else {\n\t\t\t\t\t// Submit feedback\n\t\t\t\t\tawait feedbackApi.submitFeedback(\n\t\t\t\t\t\tcurrentEvaluationId,\n\t\t\t\t\t\tissueHash,\n\t\t\t\t\t\tissue.evaluatorName || \"unknown\",\n\t\t\t\t\t\tfeedbackType,\n\t\t\t\t\t);\n\t\t\t\t\tnewMap.set(issueHash, feedbackType);\n\t\t\t\t}\n\n\t\t\t\tsetFeedbackMap(newMap);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Failed to update feedback:\", error);\n\t\t\t}\n\t\t},\n\t\t[currentEvaluationId, allIssues, feedbackMap, feedbackApi],\n\t);\n\n\tconst handleBookmarkToggle = useCallback(\n\t\tasync (issueHash: string) => {\n\t\t\t// Early return in cloud mode (no-op)\n\t\t\tif (cloudMode) return;\n\n\t\t\tif (!currentEvaluationId) return;\n\n\t\t\tconst issue = allIssues.find((i) => generateIssueHash(i) === issueHash);\n\t\t\tif (!issue) return;\n\n\t\t\tconst newSet = new Set(bookmarkSet);\n\n\t\t\ttry {\n\t\t\t\tif (bookmarkSet.has(issueHash)) {\n\t\t\t\t\tawait bookmarkApi.removeBookmark(currentEvaluationId, issueHash);\n\t\t\t\t\tnewSet.delete(issueHash);\n\t\t\t\t} else {\n\t\t\t\t\tawait bookmarkApi.addBookmark(\n\t\t\t\t\t\tcurrentEvaluationId,\n\t\t\t\t\t\tissueHash,\n\t\t\t\t\t\tissue.evaluatorName || \"unknown\",\n\t\t\t\t\t);\n\t\t\t\t\tnewSet.add(issueHash);\n\t\t\t\t}\n\n\t\t\t\tsetBookmarkSet(newSet);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Failed to toggle bookmark:\", error);\n\t\t\t}\n\t\t},\n\t\t[currentEvaluationId, allIssues, bookmarkSet, bookmarkApi, cloudMode],\n\t);\n\n\tconst handleSelectAllInGroup = useCallback(\n\t\t(issues: Issue[]) => {\n\t\t\tconst keysToAdd: string[] = [];\n\t\t\tsetSelectedIssueKeys((prev) => {\n\t\t\t\tconst newSet = new Set(prev);\n\t\t\t\tfor (const issue of issues) {\n\t\t\t\t\tconst globalIndex = allIssues.indexOf(issue);\n\t\t\t\t\tif (globalIndex >= 0) {\n\t\t\t\t\t\tconst key = generateIssueKey(issue, globalIndex);\n\t\t\t\t\t\tif (!newSet.has(key)) {\n\t\t\t\t\t\t\tkeysToAdd.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewSet.add(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn newSet;\n\t\t\t});\n\t\t\t// Persist new keys to DB (fire-and-forget)\n\t\t\tif (currentEvaluationId && keysToAdd.length > 0) {\n\t\t\t\tselectionApi\n\t\t\t\t\t.addSelections(currentEvaluationId, keysToAdd)\n\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\tconsole.error(\"Failed to persist group selection:\", err),\n\t\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[allIssues, currentEvaluationId, selectionApi],\n\t);\n\n\tconst handleReviewSelected = useCallback(() => {\n\t\thandleTabChange(\"remediate\");\n\t}, [handleTabChange]);\n\n\tconst handleAddAllToRemediation = useCallback(\n\t\t(issues: (Issue & { evaluatorName?: string })[]) => {\n\t\t\tconst keysToAdd: string[] = [];\n\t\t\tsetSelectedIssueKeys((prev) => {\n\t\t\t\tconst newSet = new Set(prev);\n\t\t\t\tfor (const issue of issues) {\n\t\t\t\t\tconst globalIndex = allIssues.indexOf(issue);\n\t\t\t\t\tif (globalIndex >= 0) {\n\t\t\t\t\t\tconst key = generateIssueKey(issue, globalIndex);\n\t\t\t\t\t\tif (!newSet.has(key)) {\n\t\t\t\t\t\t\tkeysToAdd.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewSet.add(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn newSet;\n\t\t\t});\n\t\t\t// Persist new keys to DB (fire-and-forget)\n\t\t\tif (currentEvaluationId && keysToAdd.length > 0) {\n\t\t\t\tselectionApi\n\t\t\t\t\t.addSelections(currentEvaluationId, keysToAdd)\n\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\tconsole.error(\"Failed to persist add-all selection:\", err),\n\t\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[allIssues, currentEvaluationId, selectionApi],\n\t);\n\n\tconst handleRemoveIssueFromRemediation = useCallback(\n\t\t(key: string) => {\n\t\t\tsetSelectedIssueKeys((prev) => {\n\t\t\t\tconst newSet = new Set(prev);\n\t\t\t\tnewSet.delete(key);\n\t\t\t\treturn newSet;\n\t\t\t});\n\t\t\tif (currentEvaluationId) {\n\t\t\t\tselectionApi\n\t\t\t\t\t.removeSelection(currentEvaluationId, key)\n\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\tconsole.error(\"Failed to persist issue removal:\", err),\n\t\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[currentEvaluationId, selectionApi],\n\t);\n\n\t// Tab configuration\n\tconst tabs: TabItem[] = useMemo(() => {\n\t\tconst baseTabs: TabItem[] = [\n\t\t\t{\n\t\t\t\tid: \"summary\",\n\t\t\t\tlabel: \"Summary\",\n\t\t\t\ticon: (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"errors\",\n\t\t\t\tlabel: \"Errors\",\n\t\t\t\ticon: (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t),\n\t\t\t\tcount: filteredErrorsCount,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"suggestions\",\n\t\t\t\tlabel: \"Suggestions\",\n\t\t\t\ticon: (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t),\n\t\t\t\tcount: filteredSuggestionsCount,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"remediate\",\n\t\t\t\tlabel: \"Remediate\",\n\t\t\t\ticon: (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t),\n\t\t\t\tcount: selectedIssueKeys.size > 0 ? selectedIssueKeys.size : undefined,\n\t\t\t},\n\t\t];\n\n\t\t// Only show Debugging and Cost Analysis tabs in non-cloud mode\n\t\tif (!cloudMode) {\n\t\t\tbaseTabs.push(\n\t\t\t\t{\n\t\t\t\t\tid: \"debugging\",\n\t\t\t\t\tlabel: \"Debugging\",\n\t\t\t\t\ticon: (\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \"cost\",\n\t\t\t\t\tlabel: \"Cost Analysis\",\n\t\t\t\t\ticon: (\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\n\t\treturn baseTabs;\n\t}, [\n\t\tfilteredErrorsCount,\n\t\tfilteredSuggestionsCount,\n\t\tcloudMode,\n\t\tselectedIssueKeys.size,\n\t]);\n\n\treturn (\n\t\t<div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-slate-100 animate-fade-in\">\n\t\t\t{/* Header */}\n\t\t\t<AppHeader\n\t\t\t\tcurrentPage=\"home\"\n\t\t\t\tonLogoClick={handleClear}\n\t\t\t\thistoryCount={historyApi.history.length}\n\t\t\t/>\n\n\t\t\t{/* Selection Summary Bar */}\n\t\t\t<SelectionSummaryBar\n\t\t\t\tselectedCount={selectedIssueKeys.size}\n\t\t\t\tonClearSelection={handleClearSelection}\n\t\t\t\tonReviewSelected={handleReviewSelected}\n\t\t\t/>\n\n\t\t\t{/* Main Content */}\n\t\t\t<main\n\t\t\t\tclassName={`max-w-[1400px] mx-auto px-6 py-6 ${selectedIssueKeys.size > 0 ? \"pt-14\" : \"\"}`}\n\t\t\t>\n\t\t\t\t{/* Content Area */}\n\t\t\t\t{evaluationData ? (\n\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t{/* Evaluator Failure Panel - Show if some evaluators failed */}\n\t\t\t\t\t\t{evaluationData.metadata.failedEvaluators &&\n\t\t\t\t\t\t\tevaluationData.metadata.failedEvaluators.length > 0 && (\n\t\t\t\t\t\t\t\t<EvaluatorFailurePanel\n\t\t\t\t\t\t\t\t\tfailures={evaluationData.metadata.failedEvaluators}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* Tab Navigation */}\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\ttabs={tabs}\n\t\t\t\t\t\t\tactiveTab={activeTab}\n\t\t\t\t\t\t\tonTabChange={handleTabChange}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{/* Summary Tab */}\n\t\t\t\t\t\t<TabPanel id=\"summary\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<Summary\n\t\t\t\t\t\t\t\tmetadata={evaluationData.metadata}\n\t\t\t\t\t\t\t\trepositoryUrl={currentRepositoryUrl}\n\t\t\t\t\t\t\t\tactualIssueCount={allIssues.length}\n\t\t\t\t\t\t\t\tactualPerFileIssueCount={perFileIssueCount}\n\t\t\t\t\t\t\t\tactualCrossFileIssueCount={crossFileIssueCount}\n\t\t\t\t\t\t\t\tactualHighCount={highCount}\n\t\t\t\t\t\t\t\tactualMediumCount={mediumCount}\n\t\t\t\t\t\t\t\tactualErrorCount={errorCount}\n\t\t\t\t\t\t\t\tactualSuggestionCount={suggestionCount}\n\t\t\t\t\t\t\t\tcurationSummary={curationSummary}\n\t\t\t\t\t\t\t\tcuratedCount={curatedIssues.length}\n\t\t\t\t\t\t\t\tevaluationId={currentEvaluationId ?? undefined}\n\t\t\t\t\t\t\t\tonDelete={handleDeleteEvaluation}\n\t\t\t\t\t\t\t\tcuration={evaluationData.curation}\n\t\t\t\t\t\t\t\tevaluationLogs={evaluationLogs}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Errors Tab */}\n\t\t\t\t\t\t<TabPanel id=\"errors\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-5 gap-6\">\n\t\t\t\t\t\t\t\t<div className=\"lg:col-span-1\">\n\t\t\t\t\t\t\t\t\t<div className=\"sticky top-20 max-h-[calc(100vh-6rem)] overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t<FilterPanel\n\t\t\t\t\t\t\t\t\t\t\tfilters={filters}\n\t\t\t\t\t\t\t\t\t\t\tonFilterChange={setFilters}\n\t\t\t\t\t\t\t\t\t\t\tavailableCategories={availableCategories}\n\t\t\t\t\t\t\t\t\t\t\tissueCount={filteredIssues.length}\n\t\t\t\t\t\t\t\t\t\t\ttotalIssues={errorIssues.length}\n\t\t\t\t\t\t\t\t\t\t\tfilterOptionCounts={filterOptionCounts}\n\t\t\t\t\t\t\t\t\t\t\tbookmarkedCount={bookmarkedCount}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"lg:col-span-4\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-end mb-3\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleAddAllToRemediation(errorIssues)}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-secondary text-sm\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tAdd all to remediation ({errorIssues.length})\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<IssuesList\n\t\t\t\t\t\t\t\t\t\tissues={filteredIssues}\n\t\t\t\t\t\t\t\t\t\tgroupedByFile={\n\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n\t\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t\t: Object.fromEntries(sortedGroupedIssues)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tnestedGrouping={\n\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n\t\t\t\t\t\t\t\t\t\t\t\t? Object.fromEntries(sortedFileGroups)\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\ttitle=\"Errors\"\n\t\t\t\t\t\t\t\t\t\temptyStateMessage=\"No errors found! Your documentation meets all quality standards.\"\n\t\t\t\t\t\t\t\t\t\tselectedKeys={selectedIssueKeys}\n\t\t\t\t\t\t\t\t\t\tissueKeyMap={issueKeyMap}\n\t\t\t\t\t\t\t\t\t\tonToggleSelection={handleToggleIssueSelection}\n\t\t\t\t\t\t\t\t\t\tonSelectAllInGroup={handleSelectAllInGroup}\n\t\t\t\t\t\t\t\t\t\tfeedbackMap={feedbackMap}\n\t\t\t\t\t\t\t\t\t\tonFeedback={handleFeedback}\n\t\t\t\t\t\t\t\t\t\tbookmarkSet={bookmarkSet}\n\t\t\t\t\t\t\t\t\t\tonBookmarkToggle={handleBookmarkToggle}\n\t\t\t\t\t\t\t\t\t\tassessmentEnabled={assessmentEnabled}\n\t\t\t\t\t\t\t\t\t\tgroupSelectEnabled={groupSelectEnabled}\n\t\t\t\t\t\t\t\t\t\tcloudMode={cloudMode}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Suggestions Tab */}\n\t\t\t\t\t\t<TabPanel id=\"suggestions\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-5 gap-6\">\n\t\t\t\t\t\t\t\t<div className=\"lg:col-span-1\">\n\t\t\t\t\t\t\t\t\t<div className=\"sticky top-20 max-h-[calc(100vh-6rem)] overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t<FilterPanel\n\t\t\t\t\t\t\t\t\t\t\tfilters={filters}\n\t\t\t\t\t\t\t\t\t\t\tonFilterChange={setFilters}\n\t\t\t\t\t\t\t\t\t\t\tavailableCategories={availableCategories}\n\t\t\t\t\t\t\t\t\t\t\tissueCount={filteredIssues.length}\n\t\t\t\t\t\t\t\t\t\t\ttotalIssues={suggestionIssues.length}\n\t\t\t\t\t\t\t\t\t\t\tfilterOptionCounts={filterOptionCounts}\n\t\t\t\t\t\t\t\t\t\t\tbookmarkedCount={bookmarkedCount}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"lg:col-span-4\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-end mb-3\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\thandleAddAllToRemediation(suggestionIssues)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-secondary text-sm\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tAdd all to remediation ({suggestionIssues.length})\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<IssuesList\n\t\t\t\t\t\t\t\t\t\tissues={filteredIssues}\n\t\t\t\t\t\t\t\t\t\tgroupedByFile={\n\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n\t\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t\t: Object.fromEntries(sortedGroupedIssues)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tnestedGrouping={\n\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n\t\t\t\t\t\t\t\t\t\t\t\t? Object.fromEntries(sortedFileGroups)\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\ttitle=\"Suggestions\"\n\t\t\t\t\t\t\t\t\t\temptyStateMessage=\"No suggestions available. Your documentation is comprehensive.\"\n\t\t\t\t\t\t\t\t\t\tselectedKeys={selectedIssueKeys}\n\t\t\t\t\t\t\t\t\t\tissueKeyMap={issueKeyMap}\n\t\t\t\t\t\t\t\t\t\tonToggleSelection={handleToggleIssueSelection}\n\t\t\t\t\t\t\t\t\t\tonSelectAllInGroup={handleSelectAllInGroup}\n\t\t\t\t\t\t\t\t\t\tfeedbackMap={feedbackMap}\n\t\t\t\t\t\t\t\t\t\tonFeedback={handleFeedback}\n\t\t\t\t\t\t\t\t\t\tbookmarkSet={bookmarkSet}\n\t\t\t\t\t\t\t\t\t\tonBookmarkToggle={handleBookmarkToggle}\n\t\t\t\t\t\t\t\t\t\tassessmentEnabled={assessmentEnabled}\n\t\t\t\t\t\t\t\t\t\tgroupSelectEnabled={groupSelectEnabled}\n\t\t\t\t\t\t\t\t\t\tcloudMode={cloudMode}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Remediate Tab */}\n\t\t\t\t\t\t<TabPanel id=\"remediate\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<RemediateTab\n\t\t\t\t\t\t\t\tevaluationId={currentEvaluationId}\n\t\t\t\t\t\t\t\tevaluationData={evaluationData}\n\t\t\t\t\t\t\t\tselectedIssueKeys={selectedIssueKeys}\n\t\t\t\t\t\t\t\tissueKeyMap={issueKeyMap}\n\t\t\t\t\t\t\t\tonRemoveIssue={handleRemoveIssueFromRemediation}\n\t\t\t\t\t\t\t\tonClearAll={handleClearSelection}\n\t\t\t\t\t\t\t\tcloudMode={cloudMode}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Debugging Tab */}\n\t\t\t\t\t\t<TabPanel id=\"debugging\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<EvaluatorTemplatesPanel evaluationId={currentEvaluationId} />\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Cost Analysis Tab */}\n\t\t\t\t\t\t<TabPanel id=\"cost\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<CostAnalysisPanel metadata={evaluationData.metadata} />\n\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t</div>\n\t\t\t\t) : evaluationMode === \"evaluating\" && progressState ? (\n\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t<ProgressPanel\n\t\t\t\t\t\t\tprogress={progressState}\n\t\t\t\t\t\t\tjobId={currentJobId ?? undefined}\n\t\t\t\t\t\t\tonCancel={handleCancelJob}\n\t\t\t\t\t\t\tonDismiss={handleDismissFailure}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) : evaluationMode === \"idle\" ? (\n\t\t\t\t\t<div className=\"space-y-6\">\n\t\t\t\t\t\t{/* Hero Section - Show first */}\n\t\t\t\t\t\t<EmptyState />\n\n\t\t\t\t\t\t{/* Compact Input Form - Show below */}\n\t\t\t\t\t\t<div className=\"max-w-2xl mx-auto\">\n\t\t\t\t\t\t\t<EvaluationInputPanel\n\t\t\t\t\t\t\t\tonUrlSubmit={handleUrlSubmit}\n\t\t\t\t\t\t\t\tonBatchSubmit={!cloudMode ? handleBatchSubmit : undefined}\n\t\t\t\t\t\t\t\tisLoading={api.isLoading}\n\t\t\t\t\t\t\t\turlError={apiError}\n\t\t\t\t\t\t\t\thasData={false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Experimental Notice - Below form */}\n\t\t\t\t\t\t<div className=\"max-w-2xl mx-auto\">\n\t\t\t\t\t\t\t<ExperimentalNotice />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Cloud Mode Notice */}\n\t\t\t\t\t\t{cloudMode && (\n\t\t\t\t\t\t\t<div className=\"max-w-2xl mx-auto\">\n\t\t\t\t\t\t\t\t<div className=\"info-section text-left\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-start gap-2\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"info-section-icon\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"info-section-header\">Public Instance</p>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"info-section-content\">\n\t\t\t\t\t\t\t\t\t\t\t\tThis is a public instance to illustrate\n\t\t\t\t\t\t\t\t\t\t\t\tcontext-evaluator. You can submit git repository URLs\n\t\t\t\t\t\t\t\t\t\t\t\tfor analysis. All results are public and cannot be\n\t\t\t\t\t\t\t\t\t\t\t\tremoved. For any request, contact{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\thref=\"mailto:support@packmind.com\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-blue-400 hover:text-blue-300 underline\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsupport@packmind.com\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t) : isLoadingFromUrl ? (\n\t\t\t\t\t<div className=\"card text-center py-12\">\n\t\t\t\t\t\t<div className=\"animate-spin w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full mx-auto mb-4\"></div>\n\t\t\t\t\t\t<p className=\"text-slate-400\">Loading evaluation...</p>\n\t\t\t\t\t</div>\n\t\t\t\t) : apiError && urlEvaluationId ? (\n\t\t\t\t\t<div className=\"card border-red-700/50 bg-red-900/20\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-6 h-6 text-red-400 flex-shrink-0\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t\t\t\t<h3 className=\"font-semibold text-red-300\">\n\t\t\t\t\t\t\t\t\tEvaluation Not Found\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t<p className=\"text-sm text-red-400/80\">{apiError}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button onClick={handleClear} className=\"btn-ghost\">\n\t\t\t\t\t\t\t\tGo Home\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t</main>\n\n\t\t\t{/* Footer */}\n\t\t\t<footer className=\"bg-slate-800 border-t border-slate-700 mt-12\">\n\t\t\t\t<div className=\"max-w-[1400px] mx-auto px-6 py-6\">\n\t\t\t\t\t<div className=\"flex flex-col md:flex-row items-center justify-between gap-4\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-semibold text-slate-50\">\n\t\t\t\t\t\t\t\t\tcontext-evaluator\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-400\">v{version}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex flex-wrap items-center justify-center gap-8 text-sm text-slate-300\">\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref=\"https://packmind.com?utm_source=context-evaluator\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\tclassName=\"hover:text-slate-100 transition-colors font-medium text-slate-200\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tPowered by Packmind\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</footer>\n\t\t</div>\n\t);\n}\n\n// Scrolls to top on every route change\nfunction ScrollToTop() {\n\tconst { pathname } = useLocation();\n\t// biome-ignore lint/correctness/useExhaustiveDependencies: re-run scroll on route change\n\tuseEffect(() => {\n\t\twindow.scrollTo(0, 0);\n\t}, [pathname]);\n\treturn null;\n}\n\n// Router wrapper component\nfunction App() {\n\treturn (\n\t\t<FeatureFlagProvider>\n\t\t\t<BrowserRouter>\n\t\t\t\t<ScrollToTop />\n\t\t\t\t<AppRoutes />\n\t\t\t</BrowserRouter>\n\t\t</FeatureFlagProvider>\n\t);\n}\n\n// Routes component with feature flag access\nfunction AppRoutes() {\n\tconst { assessmentEnabled, cloudMode } = useFeatureFlags();\n\n\treturn (\n\t\t<Routes>\n\t\t\t<Route path=\"/\" element={<AppContent />} />\n\t\t\t<Route path=\"/evaluation/:id\" element={<AppContent />} />\n\t\t\t<Route path=\"/recent\" element={<RecentEvaluationsPage />} />\n\t\t\t<Route path=\"/evaluators\" element={<EvaluatorsPage />} />\n\t\t\t<Route path=\"/issues\" element={<IssuesPage />} />\n\t\t\t<Route path=\"/stats\" element={<StatsPage />} />\n\t\t\t<Route path=\"/how-it-works\" element={<HowItWorksPage />} />\n\t\t\t{assessmentEnabled && (\n\t\t\t\t<Route path=\"/assessment\" element={<AssessmentPage />} />\n\t\t\t)}\n\t\t\t{!cloudMode && (\n\t\t\t\t<Route path=\"/batch/:batchId\" element={<BatchStatusPage />} />\n\t\t\t)}\n\t\t</Routes>\n\t);\n}\n\n// Mount the app\nconst root = createRoot(document.getElementById(\"root\")!);\nroot.render(<App />);\n","structuredPatch":[{"oldStart":603,"oldLines":7,"newStart":603,"newLines":7,"lines":["     async (","       url: string,","       evaluators: number,","-      provider?: \"claude\" | \"opencode\" | \"cursor\" | \"github-copilot\",","+      provider?: ProviderName,","       evaluatorFilter?: EvaluatorFilter,","       concurrency?: number,","       selectedEvaluators?: string[],"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"650dfc65-15e9-40c6-af7e-fdde567a1eed"}
{"parentUuid":"e056939f-dcd9-46dc-beae-a8f00b44c7e8","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01Cny7dH13jG9mSgCu5o3UF1","type":"message","role":"assistant","content":[{"type":"text","text":"Fix the provider type in `handleBatchSubmit`:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":381,"cache_read_input_tokens":92553,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":381},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66Xbq2DpVCqsRAkBZv7","type":"assistant","uuid":"7fdbc2ef-4eb2-45a5-855d-dc9544d7d726","timestamp":"2026-02-13T12:49:41.625Z"}
{"parentUuid":"7fdbc2ef-4eb2-45a5-855d-dc9544d7d726","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01Cny7dH13jG9mSgCu5o3UF1","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_011DdghT9Esf9fbb4PmhAdke","name":"Edit","input":{"replace_all":false,"file_path":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/App.tsx","old_string":"\t\tasync (\n\t\t\turls: string[],\n\t\t\t_evaluators: number,\n\t\t\tprovider?: \"claude\" | \"opencode\" | \"cursor\" | \"github-copilot\",\n\t\t\tevaluatorFilter?: EvaluatorFilter,","new_string":"\t\tasync (\n\t\t\turls: string[],\n\t\t\t_evaluators: number,\n\t\t\tprovider?: ProviderName,\n\t\t\tevaluatorFilter?: EvaluatorFilter,"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":381,"cache_read_input_tokens":92553,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":381},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66Xbq2DpVCqsRAkBZv7","type":"assistant","uuid":"d7fcbec7-3923-4424-bea4-53fc6c97baae","timestamp":"2026-02-13T12:49:43.217Z"}
{"parentUuid":"d7fcbec7-3923-4424-bea4-53fc6c97baae","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_011DdghT9Esf9fbb4PmhAdke","toolUseID":"toolu_011DdghT9Esf9fbb4PmhAdke","timestamp":"2026-02-13T12:49:48.230Z","uuid":"b4eaa18b-677d-41aa-8c24-956260dcb30a"}
{"parentUuid":"d7fcbec7-3923-4424-bea4-53fc6c97baae","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_011DdghT9Esf9fbb4PmhAdke","type":"tool_result","content":"The file /Users/cedricteyton/Code/agents-md-evaluator/frontend/src/App.tsx has been updated successfully."}]},"uuid":"6f7f2fdc-2140-4932-a4e5-3010c67988ec","timestamp":"2026-02-13T12:49:48.229Z","toolUseResult":{"filePath":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/App.tsx","oldString":"\t\tasync (\n\t\t\turls: string[],\n\t\t\t_evaluators: number,\n\t\t\tprovider?: \"claude\" | \"opencode\" | \"cursor\" | \"github-copilot\",\n\t\t\tevaluatorFilter?: EvaluatorFilter,","newString":"\t\tasync (\n\t\t\turls: string[],\n\t\t\t_evaluators: number,\n\t\t\tprovider?: ProviderName,\n\t\t\tevaluatorFilter?: EvaluatorFilter,","originalFile":"import { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport {\n\tBrowserRouter,\n\tRoute,\n\tRoutes,\n\tuseLocation,\n\tuseNavigate,\n\tuseParams,\n\tuseSearchParams,\n} from \"react-router-dom\";\nimport { AppHeader } from \"./components/AppHeader\";\nimport { AssessmentPage } from \"./components/AssessmentPage\";\nimport { BatchStatusPage } from \"./components/BatchStatusPage\";\nimport { CostAnalysisPanel } from \"./components/CostAnalysisPanel\";\nimport { EmptyState } from \"./components/EmptyState\";\nimport { EvaluationInputPanel } from \"./components/EvaluationInputPanel\";\nimport { EvaluatorFailurePanel } from \"./components/EvaluatorFailurePanel\";\nimport { EvaluatorsPage } from \"./components/EvaluatorsPage\";\nimport { EvaluatorTemplatesPanel } from \"./components/EvaluatorTemplatesPanel\";\nimport { ExperimentalNotice } from \"./components/ExperimentalNotice\";\nimport type { FilterOptionCounts, FilterState } from \"./components/FilterPanel\";\nimport { FilterPanel } from \"./components/FilterPanel\";\nimport { HowItWorksPage } from \"./components/HowItWorksPage\";\nimport { IssuesList } from \"./components/IssuesList\";\nimport { IssuesPage } from \"./components/IssuesPage\";\nimport { ProgressPanel } from \"./components/ProgressPanel\";\nimport { RecentEvaluationsPage } from \"./components/RecentEvaluationsPage\";\nimport { RemediateTab } from \"./components/RemediateTab\";\nimport { SelectionSummaryBar } from \"./components/SelectionSummaryBar\";\nimport { StatsPage } from \"./components/StatsPage\";\nimport { Summary } from \"./components/Summary\";\nimport type { TabItem } from \"./components/Tabs\";\nimport { TabPanel, Tabs } from \"./components/Tabs\";\nimport {\n\tFeatureFlagProvider,\n\tuseFeatureFlags,\n} from \"./contexts/FeatureFlagContext\";\nimport { useBookmarkApi } from \"./hooks/useBookmarkApi\";\nimport type { ProviderName } from \"./hooks/useEvaluationApi\";\nimport { useEvaluationApi } from \"./hooks/useEvaluationApi\";\nimport { useEvaluationHistory } from \"./hooks/useEvaluationHistory\";\nimport { useFeedbackApi } from \"./hooks/useFeedbackApi\";\nimport { useSelectionApi } from \"./hooks/useSelectionApi\";\nimport { useSSE } from \"./hooks/useSSE\";\nimport { useVersion } from \"./hooks/useVersion\";\nimport { getFilteredEvaluatorCount } from \"./lib/formatters\";\nimport { shouldUseNestedGrouping as checkShouldUseNestedGrouping } from \"./lib/grouping-utils\";\nimport { generateIssueHash } from \"./lib/issue-hash\";\nimport { generateIssueKey } from \"./lib/issue-utils\";\nimport type {\n\tCategoryGroup,\n\tEvaluationOutput,\n\tEvaluatorFilter,\n\tIndependentEvaluationOutput,\n\tIssue,\n\tUnifiedEvaluationOutput,\n} from \"./types/evaluation\";\nimport {\n\tgetIssueFile,\n\tgetIssueSeverity,\n\tgetIssueType,\n\tgetMaxCategoryGroupSeverity,\n\tgetMaxIssueSeverity,\n\tgetSeverityLevel,\n\tisIndependentFormat,\n\tisUnifiedFormat,\n\tparseEvaluatorResult,\n} from \"./types/evaluation\";\nimport type {\n\tEvaluationMode,\n\tICloneWarningEvent,\n\tIContextAnalysisEvent,\n\tIContextClocEvent,\n\tIContextFoldersEvent,\n\tIContextWarningEvent,\n\tIDiscoveryCompletedEvent,\n\tIEvaluatorProgressEvent,\n\tIFileStartedEvent,\n\tIJobCompletedEvent,\n\tIJobFailedEvent,\n\tIJobStartedEvent,\n\tIProgressState,\n\tSSEEvent,\n} from \"./types/job\";\n\nfunction AppContent() {\n\t// Feature flags\n\tconst { assessmentEnabled, groupSelectEnabled, cloudMode } =\n\t\tuseFeatureFlags();\n\n\t// URL-based routing\n\tconst navigate = useNavigate();\n\tconst { id: urlEvaluationId } = useParams<{ id: string }>();\n\tconst [searchParams, setSearchParams] = useSearchParams();\n\n\t// Tab state from URL with smart defaults\n\tconst rawTab = searchParams.get(\"tab\");\n\tconst handleTabChange = useCallback(\n\t\t(tabId: string) => {\n\t\t\tsetSearchParams(\n\t\t\t\t(prev) => {\n\t\t\t\t\tprev.set(\"tab\", tabId);\n\t\t\t\t\treturn prev;\n\t\t\t\t},\n\t\t\t\t{ replace: true },\n\t\t\t);\n\t\t},\n\t\t[setSearchParams],\n\t);\n\n\tconst [evaluationData, setEvaluationData] = useState<EvaluationOutput | null>(\n\t\tnull,\n\t);\n\tconst [filters, setFilters] = useState<FilterState>({\n\t\tseverities: new Set(),\n\t\tcategories: new Set(),\n\t\tevaluators: new Set(),\n\t\tsearchText: \"\",\n\t\tbookmarkedOnly: false,\n\t});\n\t// Always show all issues (removed curated toggle)\n\n\t// Evaluation job state\n\tconst [evaluationMode, setEvaluationMode] = useState<EvaluationMode>(\"idle\");\n\tconst [currentJobId, setCurrentJobId] = useState<string | null>(null);\n\tconst [sseUrl, setSSEUrl] = useState<string | null>(null);\n\tconst [progressState, setProgressState] = useState<IProgressState | null>(\n\t\tnull,\n\t);\n\tconst [apiError, setApiError] = useState<string | null>(null);\n\tconst [isLoadingFromUrl, setIsLoadingFromUrl] = useState(false);\n\tconst [currentRepositoryUrl, setCurrentRepositoryUrl] = useState<\n\t\tstring | null\n\t>(null);\n\t// Store evaluation logs to persist after completion\n\tconst [evaluationLogs, setEvaluationLogs] = useState<\n\t\tArray<{ timestamp: Date; type: string; message: string }>\n\t>([]);\n\n\t// Issue selection state\n\tconst [selectedIssueKeys, setSelectedIssueKeys] = useState<Set<string>>(\n\t\tnew Set(),\n\t);\n\tconst [issueKeyMap, setIssueKeyMap] = useState<Map<string, Issue>>(new Map());\n\n\t// Feedback state\n\tconst [feedbackMap, setFeedbackMap] = useState<\n\t\tMap<string, \"like\" | \"dislike\">\n\t>(new Map());\n\tconst feedbackApi = useFeedbackApi();\n\n\t// Bookmark state\n\tconst [bookmarkSet, setBookmarkSet] = useState<Set<string>>(new Set());\n\tconst bookmarkApi = useBookmarkApi();\n\n\t// Selection persistence\n\tconst selectionApi = useSelectionApi();\n\n\t// Derive currentEvaluationId from URL parameter\n\tconst currentEvaluationId = urlEvaluationId || null;\n\n\t// Ref for completion timeout cleanup\n\tconst completionTimeoutRef = useRef<ReturnType<typeof setTimeout> | null>(\n\t\tnull,\n\t);\n\n\t// API hook\n\tconst api = useEvaluationApi();\n\n\t// Evaluation history hook\n\tconst historyApi = useEvaluationHistory();\n\n\t// Version hook\n\tconst { version } = useVersion();\n\n\t// Ref for stable access to API function (avoids dependency array issues)\n\tconst loadEvaluationRef = useRef(historyApi.loadEvaluation);\n\tloadEvaluationRef.current = historyApi.loadEvaluation;\n\n\t// SSE event handler\n\tconst handleProgressEvent = useCallback(\n\t\t(event: SSEEvent) => {\n\t\t\tsetProgressState((prev) => {\n\t\t\t\tif (!prev) return prev;\n\n\t\t\t\tconst newState = { ...prev };\n\n\t\t\t\tswitch (event.type) {\n\t\t\t\t\t// Clone events\n\t\t\t\t\tcase \"clone.started\": {\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: \"Cloning repository...\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"clone.completed\": {\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\tmessage: \"Repository cloned successfully\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"clone.warning\": {\n\t\t\t\t\t\tconst data = (event as ICloneWarningEvent).data;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\t\t\tmessage: data.message,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discovery events\n\t\t\t\t\tcase \"discovery.started\": {\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: \"Discovering context files...\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"discovery.completed\": {\n\t\t\t\t\t\tconst data = (event as IDiscoveryCompletedEvent).data;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\tmessage: `Found ${data.filesFound} context file(s)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Context sub-step events\n\t\t\t\t\tcase \"context.cloc\": {\n\t\t\t\t\t\tconst data = (event as IContextClocEvent).data;\n\t\t\t\t\t\tif (data.status === \"started\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\t\tmessage: \"Analyzing codebase size...\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t} else if (data.status === \"completed\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\t\tmessage: `Codebase: ${data.totalLines?.toLocaleString() || \"?\"} lines across ${data.languageCount || \"?\"} languages`,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"context.folders\": {\n\t\t\t\t\t\tconst data = (event as IContextFoldersEvent).data;\n\t\t\t\t\t\tif (data.status === \"started\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\t\tmessage: \"Analyzing directory structure...\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t} else if (data.status === \"completed\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\t\tmessage: `Structure: ${data.folderCount || \"?\"} key directories`,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"context.analysis\": {\n\t\t\t\t\t\tconst data = (event as IContextAnalysisEvent).data;\n\t\t\t\t\t\tif (data.status === \"started\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\t\tmessage: \"Identifying project context...\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t} else if (data.status === \"completed\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\t\tmessage: \"Project context identified\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"context.warning\": {\n\t\t\t\t\t\tconst data = (event as IContextWarningEvent).data;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\t\t\tmessage: data.message,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"job.started\": {\n\t\t\t\t\t\tconst data = (event as IJobStartedEvent).data;\n\t\t\t\t\t\tnewState.status = \"running\";\n\t\t\t\t\t\tnewState.totalFiles = data.totalFiles || 0;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: `Started evaluation (${data.evaluationMode} mode, ${data.totalFiles} file(s))`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"file.started\": {\n\t\t\t\t\t\tconst data = (event as IFileStartedEvent).data;\n\t\t\t\t\t\tnewState.currentFile = data.filePath;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: `Processing ${data.filePath}`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"file.completed\": {\n\t\t\t\t\t\tnewState.completedFiles = (prev.completedFiles || 0) + 1;\n\t\t\t\t\t\t// Update percentage based on file progress\n\t\t\t\t\t\tif (newState.totalFiles > 0) {\n\t\t\t\t\t\t\tnewState.percentage = Math.round(\n\t\t\t\t\t\t\t\t(newState.completedFiles / newState.totalFiles) * 50,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluator.progress\": {\n\t\t\t\t\t\tconst data = (event as IEvaluatorProgressEvent).data;\n\t\t\t\t\t\tnewState.currentEvaluator = data.evaluatorName;\n\t\t\t\t\t\tnewState.completedEvaluators = data.evaluatorIndex;\n\t\t\t\t\t\tnewState.totalEvaluators = data.totalEvaluators;\n\t\t\t\t\t\t// Update percentage based on evaluator progress\n\t\t\t\t\t\tif (data.totalEvaluators > 0) {\n\t\t\t\t\t\t\tconst evaluatorProgress =\n\t\t\t\t\t\t\t\t(data.evaluatorIndex / data.totalEvaluators) * 50;\n\t\t\t\t\t\t\tnewState.percentage = 50 + Math.round(evaluatorProgress);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Include file context in log message when evaluating multiple files\n\t\t\t\t\t\tconst fileContext = data.currentFile\n\t\t\t\t\t\t\t? ` on ${data.currentFile.split(\"/\").pop()}`\n\t\t\t\t\t\t\t: \"\";\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: `Running ${data.evaluatorName}${fileContext} (${data.evaluatorIndex + 1}/${data.totalEvaluators})`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluator.completed\": {\n\t\t\t\t\t\tnewState.completedEvaluators = (prev.completedEvaluators || 0) + 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluator.retry\": {\n\t\t\t\t\t\tconst data = event.data as {\n\t\t\t\t\t\t\tevaluatorName: string;\n\t\t\t\t\t\t\tattempt: number;\n\t\t\t\t\t\t\tmaxRetries: number;\n\t\t\t\t\t\t\terror: string;\n\t\t\t\t\t\t\tcurrentFile?: string;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tconst retriesRemaining = data.maxRetries - data.attempt;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\t\t\tmessage: `Retry ${data.attempt}/${data.maxRetries} for ${data.evaluatorName}: ${data.error.substring(0, 100)}${data.error.length > 100 ? \"...\" : \"\"} (${retriesRemaining} retries remaining)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluator.timeout\": {\n\t\t\t\t\t\tconst data = event.data as {\n\t\t\t\t\t\t\tevaluatorName: string;\n\t\t\t\t\t\t\telapsedMs: number;\n\t\t\t\t\t\t\ttimeoutMs: number;\n\t\t\t\t\t\t\tcurrentFile?: string;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tconst elapsedSec = Math.round(data.elapsedMs / 1000);\n\t\t\t\t\t\tconst timeoutSec = Math.round(data.timeoutMs / 1000);\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\t\t\tmessage: `Timeout: ${data.evaluatorName} exceeded ${timeoutSec}s limit (elapsed: ${elapsedSec}s)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"curation.started\": {\n\t\t\t\t\t\tconst data = event.data;\n\t\t\t\t\t\tconst typeLabel =\n\t\t\t\t\t\t\tdata.issueType === \"error\"\n\t\t\t\t\t\t\t\t? \"errors\"\n\t\t\t\t\t\t\t\t: data.issueType === \"suggestion\"\n\t\t\t\t\t\t\t\t\t? \"suggestions\"\n\t\t\t\t\t\t\t\t\t: \"issues\";\n\t\t\t\t\t\tnewState.currentEvaluator = `Impact Curation (${typeLabel})`;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: `Curating top ${typeLabel} from ${data.totalIssues} total...`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"curation.completed\": {\n\t\t\t\t\t\tconst data = event.data;\n\t\t\t\t\t\tconst typeLabel =\n\t\t\t\t\t\t\tdata.issueType === \"error\"\n\t\t\t\t\t\t\t\t? \"errors\"\n\t\t\t\t\t\t\t\t: data.issueType === \"suggestion\"\n\t\t\t\t\t\t\t\t\t? \"suggestions\"\n\t\t\t\t\t\t\t\t\t: \"issues\";\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\tmessage: `Impact curation completed for ${typeLabel} (${data.curatedCount} selected)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluation.warning\": {\n\t\t\t\t\t\tconst data = event.data;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\t\t\tmessage: data.message || \"Some evaluators encountered errors\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"job.completed\": {\n\t\t\t\t\t\tconst data = (event as IJobCompletedEvent).data;\n\t\t\t\t\t\tnewState.status = \"completed\";\n\t\t\t\t\t\tnewState.percentage = 100;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\tmessage: `Evaluation completed in ${Math.round(data.duration / 1000)}s`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\t// Preserve logs for display in Summary after completion\n\t\t\t\t\t\tsetEvaluationLogs(newState.logs);\n\t\t\t\t\t\t// Set the evaluation data\n\t\t\t\t\t\tsetEvaluationData(data.result);\n\t\t\t\t\t\tsetEvaluationMode(\"completed\");\n\t\t\t\t\t\t// Reset job state after a short delay (user is already at /evaluation/:jobId)\n\t\t\t\t\t\t// Clear any existing timeout first\n\t\t\t\t\t\tif (completionTimeoutRef.current) {\n\t\t\t\t\t\t\tclearTimeout(completionTimeoutRef.current);\n\t\t\t\t\t\t\tcompletionTimeoutRef.current = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcompletionTimeoutRef.current = setTimeout(() => {\n\t\t\t\t\t\t\tsetCurrentJobId(null);\n\t\t\t\t\t\t\tsetSSEUrl(null);\n\t\t\t\t\t\t\tsetProgressState(null);\n\t\t\t\t\t\t}, 100);\n\t\t\t\t\t\t// Refresh history to show new evaluation\n\t\t\t\t\t\thistoryApi.refresh();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"job.failed\": {\n\t\t\t\t\t\tconst data = (event as IJobFailedEvent).data;\n\t\t\t\t\t\tnewState.status = \"failed\";\n\t\t\t\t\t\tnewState.errorMessage = data.error?.message || \"Unknown error\";\n\t\t\t\t\t\tnewState.errorCode = data.error?.code;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\t\t\tmessage: `Evaluation failed: ${data.error?.message || \"Unknown error\"}`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\t// Keep evaluationMode as 'evaluating' so ProgressPanel stays visible\n\t\t\t\t\t\t// User can dismiss manually with the \"Try Again\" button\n\t\t\t\t\t\t// Refresh history to show failed evaluation\n\t\t\t\t\t\thistoryApi.refresh();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Keep only last 50 logs\n\t\t\t\tif (newState.logs.length > 50) {\n\t\t\t\t\tnewState.logs = newState.logs.slice(-50);\n\t\t\t\t}\n\n\t\t\t\treturn newState;\n\t\t\t});\n\t\t},\n\t\t[historyApi],\n\t);\n\n\t// SSE connection\n\tuseSSE({\n\t\turl: sseUrl,\n\t\tonMessage: handleProgressEvent,\n\t\tonOpen: () => {\n\t\t\tsetProgressState((prev) =>\n\t\t\t\tprev\n\t\t\t\t\t? {\n\t\t\t\t\t\t\t...prev,\n\t\t\t\t\t\t\tlogs: [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\t\tmessage: \"Connected to progress stream\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t}\n\t\t\t\t\t: prev,\n\t\t\t);\n\t\t},\n\t});\n\n\t// Cleanup completion timeout on unmount\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tif (completionTimeoutRef.current) {\n\t\t\t\tclearTimeout(completionTimeoutRef.current);\n\t\t\t\tcompletionTimeoutRef.current = null;\n\t\t\t}\n\t\t};\n\t}, []);\n\n\t// Handle URL submission\n\tconst handleUrlSubmit = useCallback(\n\t\tasync (\n\t\t\turl: string,\n\t\t\tevaluators: number,\n\t\t\tprovider?: ProviderName,\n\t\t\tevaluatorFilter?: EvaluatorFilter,\n\t\t\tconcurrency?: number,\n\t\t\tselectedEvaluators?: string[],\n\t\t) => {\n\t\t\tsetEvaluationMode(\"evaluating\");\n\t\t\tsetApiError(null);\n\t\t\tsetCurrentRepositoryUrl(url);\n\t\t\tsetEvaluationLogs([]); // Clear previous logs when starting new evaluation\n\n\t\t\ttry {\n\t\t\t\tconst response = await api.submitJob(\n\t\t\t\t\turl,\n\t\t\t\t\tevaluators,\n\t\t\t\t\tprovider,\n\t\t\t\t\tevaluatorFilter,\n\t\t\t\t\tundefined,\n\t\t\t\t\tconcurrency,\n\t\t\t\t\tselectedEvaluators,\n\t\t\t\t);\n\t\t\t\tsetCurrentJobId(response.jobId);\n\t\t\t\tsetSSEUrl(response.sseUrl);\n\n\t\t\t\t// Initialize progress state\n\t\t\t\tsetProgressState({\n\t\t\t\t\tstatus: \"queued\",\n\t\t\t\t\trepositoryUrl: url,\n\t\t\t\t\ttotalFiles: 0,\n\t\t\t\t\tcompletedFiles: 0,\n\t\t\t\t\ttotalEvaluators: getFilteredEvaluatorCount(\n\t\t\t\t\t\tevaluatorFilter || \"all\",\n\t\t\t\t\t\tevaluators,\n\t\t\t\t\t\tselectedEvaluators?.length,\n\t\t\t\t\t),\n\t\t\t\t\tcompletedEvaluators: 0,\n\t\t\t\t\tpercentage: 0,\n\t\t\t\t\tstartTime: new Date(),\n\t\t\t\t\tlogs: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\tmessage: \"Evaluation job submitted\",\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t});\n\n\t\t\t\t// Navigate immediately to the evaluation URL\n\t\t\t\tnavigate(`/evaluation/${response.jobId}`);\n\t\t\t} catch (error) {\n\t\t\t\tsetEvaluationMode(\"idle\");\n\t\t\t\tsetApiError(\n\t\t\t\t\terror instanceof Error\n\t\t\t\t\t\t? error.message\n\t\t\t\t\t\t: \"Failed to submit evaluation job\",\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[api, navigate],\n\t);\n\n\t// Handle batch URL submission\n\tconst handleBatchSubmit = useCallback(\n\t\tasync (\n\t\t\turls: string[],\n\t\t\t_evaluators: number,\n\t\t\tprovider?: \"claude\" | \"opencode\" | \"cursor\" | \"github-copilot\",\n\t\t\tevaluatorFilter?: EvaluatorFilter,\n\t\t\tconcurrency?: number,\n\t\t\tselectedEvaluators?: string[],\n\t\t) => {\n\t\t\tsetApiError(null);\n\t\t\ttry {\n\t\t\t\tconst response = await api.submitBatch(\n\t\t\t\t\turls,\n\t\t\t\t\tundefined,\n\t\t\t\t\tprovider,\n\t\t\t\t\tevaluatorFilter,\n\t\t\t\t\tundefined,\n\t\t\t\t\tconcurrency,\n\t\t\t\t\tselectedEvaluators,\n\t\t\t\t);\n\t\t\t\tnavigate(`/batch/${response.batchId}`);\n\t\t\t} catch (error) {\n\t\t\t\tsetApiError(\n\t\t\t\t\terror instanceof Error\n\t\t\t\t\t\t? error.message\n\t\t\t\t\t\t: \"Failed to submit batch evaluation\",\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[api, navigate],\n\t);\n\n\t// Handle job cancellation\n\tconst handleCancelJob = useCallback(async () => {\n\t\tif (currentJobId) {\n\t\t\tawait api.cancelJob(currentJobId);\n\t\t}\n\t\tsetEvaluationMode(\"idle\");\n\t\tsetProgressState(null);\n\t\tsetCurrentJobId(null);\n\t\tsetSSEUrl(null);\n\t}, [currentJobId, api]);\n\n\t// Handle dismissing failed evaluation (Try Again)\n\tconst handleDismissFailure = useCallback(() => {\n\t\tsetEvaluationMode(\"idle\");\n\t\tsetProgressState(null);\n\t\tsetCurrentJobId(null);\n\t\tsetSSEUrl(null);\n\t}, []);\n\n\t// Load evaluation from URL on mount or when URL changes\n\t// Handles both active jobs (reconnect SSE) and completed evaluations (load from database)\n\t// biome-ignore lint/correctness/useExhaustiveDependencies: handleFileLoad is intentionally excluded - we want the latest version but don't want it to trigger re-runs\n\tuseEffect(() => {\n\t\tif (!urlEvaluationId) return;\n\t\tif (evaluationData && evaluationMode === \"completed\") return; // Already loaded\n\t\tif (evaluationMode === \"evaluating\") return; // Currently evaluating\n\n\t\tconst loadEvaluationById = async () => {\n\t\t\tsetIsLoadingFromUrl(true);\n\t\t\tsetApiError(null);\n\n\t\t\ttry {\n\t\t\t\t// Step 1: Check if it's an active job\n\t\t\t\tconst jobStatus = await api.getJobStatus(urlEvaluationId);\n\n\t\t\t\tif (jobStatus.status === \"completed\" && jobStatus.result) {\n\t\t\t\t\t// Job completed, result in memory - use it directly\n\t\t\t\t\thandleFileLoad(jobStatus.result);\n\t\t\t\t\tsetCurrentRepositoryUrl(jobStatus.repositoryUrl || null);\n\t\t\t\t\tsetEvaluationMode(\"completed\");\n\t\t\t\t\t// Load feedback, bookmarks, and selections\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst feedback =\n\t\t\t\t\t\t\tawait feedbackApi.getFeedbackForEvaluation(urlEvaluationId);\n\t\t\t\t\t\tsetFeedbackMap(feedback);\n\t\t\t\t\t\tif (!cloudMode) {\n\t\t\t\t\t\t\tconst bookmarks =\n\t\t\t\t\t\t\t\tawait bookmarkApi.getBookmarksForEvaluation(urlEvaluationId);\n\t\t\t\t\t\t\tsetBookmarkSet(bookmarks);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst selections =\n\t\t\t\t\t\t\tawait selectionApi.getSelectionsForEvaluation(urlEvaluationId);\n\t\t\t\t\t\tsetSelectedIssueKeys(selections);\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error(\"Failed to load metadata:\", err);\n\t\t\t\t\t}\n\t\t\t\t\tsetIsLoadingFromUrl(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (jobStatus.status === \"failed\") {\n\t\t\t\t\tsetApiError(jobStatus.error?.message || \"Evaluation failed\");\n\t\t\t\t\tsetIsLoadingFromUrl(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Active job (running or queued) - reconnect SSE\n\t\t\t\tif (jobStatus.status === \"running\" || jobStatus.status === \"queued\") {\n\t\t\t\t\tsetCurrentJobId(urlEvaluationId);\n\t\t\t\t\tconst sseUrlValue = jobStatus.sseUrl?.startsWith(\"/\")\n\t\t\t\t\t\t? `${window.location.origin}${jobStatus.sseUrl}`\n\t\t\t\t\t\t: jobStatus.sseUrl || null;\n\t\t\t\t\tsetSSEUrl(sseUrlValue);\n\t\t\t\t\tsetCurrentRepositoryUrl(jobStatus.repositoryUrl || null);\n\t\t\t\t\tsetEvaluationMode(\"evaluating\");\n\n\t\t\t\t\t// Convert server logs to frontend format, or use default message\n\t\t\t\t\tconst historicalLogs = jobStatus.logs?.length\n\t\t\t\t\t\t? jobStatus.logs.map((log) => ({\n\t\t\t\t\t\t\t\ttimestamp: new Date(log.timestamp),\n\t\t\t\t\t\t\t\ttype: log.type,\n\t\t\t\t\t\t\t\tmessage: log.message,\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\" as const,\n\t\t\t\t\t\t\t\t\tmessage: \"Reconnected to evaluation in progress\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\n\t\t\t\t\t// Calculate progress percentage\n\t\t\t\t\tlet percentage = 0;\n\t\t\t\t\tif (jobStatus.progress?.totalEvaluators) {\n\t\t\t\t\t\tpercentage = Math.round(\n\t\t\t\t\t\t\t((jobStatus.progress.completedEvaluators || 0) /\n\t\t\t\t\t\t\t\tjobStatus.progress.totalEvaluators) *\n\t\t\t\t\t\t\t\t100,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Initialize progress state from job with historical logs\n\t\t\t\t\tsetProgressState({\n\t\t\t\t\t\tstatus: jobStatus.status,\n\t\t\t\t\t\trepositoryUrl: jobStatus.repositoryUrl || \"Unknown\",\n\t\t\t\t\t\ttotalFiles: jobStatus.progress?.totalFiles || 0,\n\t\t\t\t\t\tcompletedFiles: jobStatus.progress?.completedFiles || 0,\n\t\t\t\t\t\ttotalEvaluators: jobStatus.progress?.totalEvaluators || 0,\n\t\t\t\t\t\tcompletedEvaluators: jobStatus.progress?.completedEvaluators || 0,\n\t\t\t\t\t\tcurrentEvaluator: jobStatus.progress?.currentEvaluator,\n\t\t\t\t\t\tpercentage,\n\t\t\t\t\t\tstartTime: new Date(jobStatus.startedAt || jobStatus.createdAt),\n\t\t\t\t\t\tlogs: historicalLogs,\n\t\t\t\t\t});\n\t\t\t\t\tsetIsLoadingFromUrl(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} catch {\n\t\t\t\t// Not an active job - try database\n\t\t\t\tconsole.log(\"[App] Not an active job, trying database\");\n\t\t\t}\n\n\t\t\t// Step 2: Try loading from database\n\t\t\ttry {\n\t\t\t\tconst record = await loadEvaluationRef.current(urlEvaluationId);\n\t\t\t\tif (record?.result) {\n\t\t\t\t\thandleFileLoad(record.result);\n\t\t\t\t\tsetCurrentRepositoryUrl(record.repositoryUrl);\n\t\t\t\t\tsetEvaluationMode(\"completed\");\n\t\t\t\t\t// Load feedback, bookmarks, and selections\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst feedback =\n\t\t\t\t\t\t\tawait feedbackApi.getFeedbackForEvaluation(urlEvaluationId);\n\t\t\t\t\t\tsetFeedbackMap(feedback);\n\t\t\t\t\t\tif (!cloudMode) {\n\t\t\t\t\t\t\tconst bookmarks =\n\t\t\t\t\t\t\t\tawait bookmarkApi.getBookmarksForEvaluation(urlEvaluationId);\n\t\t\t\t\t\t\tsetBookmarkSet(bookmarks);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst selections =\n\t\t\t\t\t\t\tawait selectionApi.getSelectionsForEvaluation(urlEvaluationId);\n\t\t\t\t\t\tsetSelectedIssueKeys(selections);\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error(\"Failed to load metadata:\", err);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsetApiError(\"Evaluation not found\");\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tsetApiError(\n\t\t\t\t\terr instanceof Error ? err.message : \"Failed to load evaluation\",\n\t\t\t\t);\n\t\t\t} finally {\n\t\t\t\tsetIsLoadingFromUrl(false);\n\t\t\t}\n\t\t};\n\n\t\tloadEvaluationById();\n\t}, [\n\t\turlEvaluationId,\n\t\tevaluationData,\n\t\tevaluationMode,\n\t\tapi,\n\t\tfeedbackApi,\n\t\tbookmarkApi,\n\t\tselectionApi,\n\t\tcloudMode,\n\t]);\n\n\t// Parse all issues from evaluation data\n\tconst allIssues = useMemo(() => {\n\t\tif (!evaluationData) return [];\n\n\t\tconst issues: Array<Issue & { evaluatorName?: string }> = [];\n\n\t\tif (isUnifiedFormat(evaluationData)) {\n\t\t\t// Unified format: results array\n\t\t\tconst unifiedData = evaluationData as UnifiedEvaluationOutput;\n\t\t\tfor (const result of unifiedData.results) {\n\t\t\t\tif (result.output && result.output.result) {\n\t\t\t\t\tconst parsedIssues = parseEvaluatorResult(result.output.result);\n\t\t\t\t\tparsedIssues.forEach((issue) => {\n\t\t\t\t\t\tissues.push({ ...issue, evaluatorName: result.evaluator });\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add top-level cross-file issues for unified format\n\t\t\tif (unifiedData.crossFileIssues) {\n\t\t\t\tissues.push(\n\t\t\t\t\t...unifiedData.crossFileIssues.map((issue) => ({\n\t\t\t\t\t\t...issue,\n\t\t\t\t\t\tevaluatorName: \"cross-file\",\n\t\t\t\t\t})),\n\t\t\t\t);\n\t\t\t}\n\t\t} else if (isIndependentFormat(evaluationData)) {\n\t\t\t// Independent format: files object\n\t\t\tconst independentData = evaluationData as IndependentEvaluationOutput;\n\t\t\tfor (const [_filePath, fileResult] of Object.entries(\n\t\t\t\tindependentData.files,\n\t\t\t)) {\n\t\t\t\tfor (const evaluation of fileResult.evaluations) {\n\t\t\t\t\tconst evalWithIssues = evaluation as {\n\t\t\t\t\t\tissues?: Issue[];\n\t\t\t\t\t\tevaluator: string;\n\t\t\t\t\t\toutput?: { result: string };\n\t\t\t\t\t};\n\t\t\t\t\t// Handle both formats:\n\t\t\t\t\t// 1. Backend API format: issues array directly on evaluation\n\t\t\t\t\t// 2. JSON file format: output.result as a string to parse\n\t\t\t\t\tif (\"issues\" in evaluation && Array.isArray(evalWithIssues.issues)) {\n\t\t\t\t\t\t// Backend API format - issues are already parsed\n\t\t\t\t\t\tconst evalIssues = evalWithIssues.issues;\n\t\t\t\t\t\tevalIssues.forEach((issue) => {\n\t\t\t\t\t\t\tissues.push({ ...issue, evaluatorName: evaluation.evaluator });\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (evaluation.output && evaluation.output.result) {\n\t\t\t\t\t\t// JSON file format - need to parse result string\n\t\t\t\t\t\tconst parsedIssues = parseEvaluatorResult(evaluation.output.result);\n\t\t\t\t\t\tparsedIssues.forEach((issue) => {\n\t\t\t\t\t\t\tissues.push({ ...issue, evaluatorName: evaluation.evaluator });\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add cross-file issues\n\t\t\tif (independentData.crossFileIssues) {\n\t\t\t\tissues.push(\n\t\t\t\t\t...independentData.crossFileIssues.map((issue) => ({\n\t\t\t\t\t\t...issue,\n\t\t\t\t\t\tevaluatorName: \"cross-file\",\n\t\t\t\t\t})),\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// Build issue key map for selection tracking\n\t\tconst keyMap = new Map<string, Issue>();\n\t\tissues.forEach((issue, index) => {\n\t\t\tconst key = generateIssueKey(issue, index);\n\t\t\tkeyMap.set(key, issue);\n\t\t});\n\t\tsetIssueKeyMap(keyMap);\n\n\t\treturn issues;\n\t}, [evaluationData]);\n\n\t// Get curated issues from impact curation (if available)\n\tconst curatedIssues = useMemo(() => {\n\t\tif (!evaluationData?.curation) return [];\n\n\t\tconst issues: Issue[] = [];\n\n\t\t// Add curated errors\n\t\tif (evaluationData.curation.errors?.curatedIssues) {\n\t\t\tissues.push(...evaluationData.curation.errors.curatedIssues);\n\t\t}\n\n\t\t// Add curated suggestions\n\t\tif (evaluationData.curation.suggestions?.curatedIssues) {\n\t\t\tissues.push(...evaluationData.curation.suggestions.curatedIssues);\n\t\t}\n\n\t\t// Fallback to legacy format\n\t\tif (issues.length === 0 && evaluationData.curation.curatedIssues) {\n\t\t\tissues.push(...evaluationData.curation.curatedIssues);\n\t\t}\n\n\t\treturn issues;\n\t}, [evaluationData]);\n\n\t// Get curation summary (if available)\n\tconst curationSummary = useMemo(() => {\n\t\treturn evaluationData?.curation?.summary || null;\n\t}, [evaluationData]);\n\n\t// Use curated issues when available, otherwise display all issues\n\tconst displayIssues = useMemo(() => {\n\t\treturn curatedIssues.length > 0 ? curatedIssues : allIssues;\n\t}, [curatedIssues, allIssues]);\n\n\t// Calculate severity counts from displayed issues\n\tconst { highCount, mediumCount } = useMemo(() => {\n\t\tconst counts = { high: 0, medium: 0 };\n\t\tdisplayIssues.forEach((issue) => {\n\t\t\tconst numericSeverity = getIssueSeverity(issue);\n\t\t\tconst level = getSeverityLevel(numericSeverity);\n\t\t\tif (level === \"high\") counts.high++;\n\t\t\telse if (level === \"medium\") counts.medium++;\n\t\t});\n\t\treturn {\n\t\t\thighCount: counts.high,\n\t\t\tmediumCount: counts.medium,\n\t\t};\n\t}, [displayIssues]);\n\n\t// Calculate issue type counts (errors vs suggestions) from displayed issues\n\tconst { errorCount, suggestionCount } = useMemo(() => {\n\t\tconst counts = { error: 0, suggestion: 0 };\n\t\tdisplayIssues.forEach((issue) => {\n\t\t\tconst type = getIssueType(issue);\n\t\t\tcounts[type]++;\n\t\t});\n\t\treturn { errorCount: counts.error, suggestionCount: counts.suggestion };\n\t}, [displayIssues]);\n\n\t// Determine active tab with smart defaults and backward compatibility\n\tconst activeTab = useMemo(() => {\n\t\t// Backward compatibility: redirect \"issues\" to \"errors\"\n\t\tif (rawTab === \"issues\") {\n\t\t\thandleTabChange(\"errors\");\n\t\t\treturn \"errors\";\n\t\t}\n\n\t\t// If tab is specified, use it\n\t\tif (rawTab) {\n\t\t\treturn rawTab;\n\t\t}\n\n\t\t// Smart defaults when no tab is specified\n\t\tif (!evaluationData) {\n\t\t\treturn \"summary\";\n\t\t}\n\n\t\tif (errorCount > 0) {\n\t\t\treturn \"errors\";\n\t\t}\n\n\t\tif (suggestionCount > 0) {\n\t\t\treturn \"suggestions\";\n\t\t}\n\n\t\treturn \"summary\";\n\t}, [rawTab, evaluationData, errorCount, suggestionCount, handleTabChange]);\n\n\t// Split issues by type for tab-aware filtering\n\tconst errorIssues = useMemo(\n\t\t() => allIssues.filter((issue) => getIssueType(issue) === \"error\"),\n\t\t[allIssues],\n\t);\n\n\tconst suggestionIssues = useMemo(\n\t\t() => allIssues.filter((issue) => getIssueType(issue) === \"suggestion\"),\n\t\t[allIssues],\n\t);\n\n\t// Get base issues based on active tab\n\tconst baseIssues = useMemo(() => {\n\t\tif (activeTab === \"errors\") return errorIssues;\n\t\tif (activeTab === \"suggestions\") return suggestionIssues;\n\t\treturn displayIssues; // Fallback for non-issue tabs\n\t}, [activeTab, errorIssues, suggestionIssues, displayIssues]);\n\n\t// Calculate per-file vs cross-file issue counts\n\tconst { perFileIssueCount, crossFileIssueCount } = useMemo(() => {\n\t\tif (!evaluationData)\n\t\t\treturn { perFileIssueCount: 0, crossFileIssueCount: 0 };\n\n\t\tif (isIndependentFormat(evaluationData)) {\n\t\t\tconst independentData = evaluationData as IndependentEvaluationOutput;\n\t\t\tconst crossFile = independentData.crossFileIssues?.length || 0;\n\t\t\tconst perFile = allIssues.length - crossFile;\n\t\t\treturn { perFileIssueCount: perFile, crossFileIssueCount: crossFile };\n\t\t}\n\n\t\t// For unified format, all issues are considered per-file\n\t\treturn { perFileIssueCount: allIssues.length, crossFileIssueCount: 0 };\n\t}, [evaluationData, allIssues]);\n\n\t// Extract unique categories\n\tconst availableCategories = useMemo(() => {\n\t\tconst categories = new Set<string>();\n\n\t\tallIssues.forEach((issue) => {\n\t\t\tif (issue.category) categories.add(issue.category);\n\t\t});\n\n\t\treturn Array.from(categories).sort();\n\t}, [allIssues]);\n\n\t// Calculate counts per filter option (based on baseIssues to respect tab selection)\n\tconst filterOptionCounts = useMemo((): FilterOptionCounts => {\n\t\tconst counts: FilterOptionCounts = {\n\t\t\tseverities: { high: 0, medium: 0, low: 0 },\n\t\t\tcategories: {},\n\t\t};\n\n\t\tbaseIssues.forEach((issue) => {\n\t\t\t// Severity\n\t\t\tconst numericSeverity = getIssueSeverity(issue);\n\t\t\tconst level = getSeverityLevel(numericSeverity);\n\t\t\tif (level === \"high\") counts.severities.high++;\n\t\t\telse if (level === \"medium\") counts.severities.medium++;\n\t\t\telse if (level === \"low\") counts.severities.low++;\n\n\t\t\t// Category\n\t\t\tif (issue.category) {\n\t\t\t\tcounts.categories[issue.category] =\n\t\t\t\t\t(counts.categories[issue.category] || 0) + 1;\n\t\t\t}\n\t\t});\n\n\t\treturn counts;\n\t}, [baseIssues]);\n\n\t// Filter issues based on active filters (using baseIssues which respects tab selection)\n\tconst filteredIssues = useMemo(() => {\n\t\treturn baseIssues.filter((issue) => {\n\t\t\t// Bookmark filter (check first for early return)\n\t\t\tif (filters.bookmarkedOnly) {\n\t\t\t\tconst issueHash = generateIssueHash(issue);\n\t\t\t\tif (!bookmarkSet.has(issueHash)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Severity filter\n\t\t\tif (filters.severities.size > 0) {\n\t\t\t\tconst numericSeverity = getIssueSeverity(issue);\n\t\t\t\tconst severityLevel = getSeverityLevel(numericSeverity);\n\t\t\t\tif (!filters.severities.has(severityLevel)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Category filter\n\t\t\tif (filters.categories.size > 0 && issue.category) {\n\t\t\t\tif (!filters.categories.has(issue.category)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Search text filter\n\t\t\tif (filters.searchText) {\n\t\t\t\tconst searchLower = filters.searchText.toLowerCase();\n\t\t\t\tconst searchableText = [\n\t\t\t\t\tissue.description, // Primary issue description\n\t\t\t\t\tissue.problem, // Fallback issue description\n\t\t\t\t\tissue.title, // Secondary title field\n\t\t\t\t]\n\t\t\t\t\t.filter(Boolean)\n\t\t\t\t\t.join(\" \")\n\t\t\t\t\t.toLowerCase();\n\n\t\t\t\tif (!searchableText.includes(searchLower)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\t}, [baseIssues, filters, bookmarkSet]);\n\n\t// Calculate filtered counts for tab badges\n\tconst filteredErrorsCount = useMemo(() => {\n\t\tif (activeTab !== \"errors\") return errorIssues.length;\n\t\treturn filteredIssues.length;\n\t}, [activeTab, errorIssues.length, filteredIssues.length]);\n\n\tconst filteredSuggestionsCount = useMemo(() => {\n\t\tif (activeTab !== \"suggestions\") return suggestionIssues.length;\n\t\treturn filteredIssues.length;\n\t}, [activeTab, suggestionIssues.length, filteredIssues.length]);\n\n\t// Calculate bookmarked count for FilterPanel badge\n\tconst bookmarkedCount = useMemo(() => {\n\t\treturn baseIssues.filter((issue) => {\n\t\t\tconst issueHash = generateIssueHash(issue);\n\t\t\treturn bookmarkSet.has(issueHash);\n\t\t}).length;\n\t}, [baseIssues, bookmarkSet]);\n\n\t// Group issues by file for display\n\tconst groupedIssues = useMemo(() => {\n\t\tconst grouped: Record<string, Issue[]> = {\n\t\t\t__cross_file__: [], // Special key for cross-file issues\n\t\t};\n\n\t\tfor (const issue of filteredIssues) {\n\t\t\tconst file = getIssueFile(issue);\n\n\t\t\tif (file === null) {\n\t\t\t\t// Cross-file or no-file issue\n\t\t\t\tgrouped.__cross_file__.push(issue);\n\t\t\t} else {\n\t\t\t\tif (!grouped[file]) {\n\t\t\t\t\tgrouped[file] = [];\n\t\t\t\t}\n\t\t\t\tgrouped[file].push(issue);\n\t\t\t}\n\t\t}\n\n\t\t// Remove cross-file section if empty\n\t\tif (grouped.__cross_file__.length === 0) {\n\t\t\tdelete grouped.__cross_file__;\n\t\t}\n\n\t\treturn grouped;\n\t}, [filteredIssues]);\n\n\t// Sort grouped issues: cross-file first, then by max severity, then alphabetically\n\tconst sortedGroupedIssues = useMemo(() => {\n\t\tconst entries = Object.entries(groupedIssues);\n\n\t\t// Separate cross-file from regular files\n\t\tconst crossFileEntry = entries.find(([key]) => key === \"__cross_file__\");\n\t\tconst fileEntries = entries.filter(([key]) => key !== \"__cross_file__\");\n\n\t\t// Sort file entries by max severity desc, then alphabetically\n\t\tfileEntries.sort(([fileA, issuesA], [fileB, issuesB]) => {\n\t\t\tconst maxSeverityA = getMaxIssueSeverity(issuesA);\n\t\t\tconst maxSeverityB = getMaxIssueSeverity(issuesB);\n\n\t\t\tif (maxSeverityA !== maxSeverityB) {\n\t\t\t\treturn maxSeverityB - maxSeverityA;\n\t\t\t}\n\n\t\t\treturn fileA.localeCompare(fileB);\n\t\t});\n\n\t\t// Return cross-file first, then sorted files\n\t\treturn crossFileEntry ? [crossFileEntry, ...fileEntries] : fileEntries;\n\t}, [groupedIssues]);\n\n\t// Determine if we should use nested grouping (file -> evaluator -> issues)\n\t// Only use nested grouping when no filters are active\n\tconst shouldUseNestedGrouping = useMemo(\n\t\t() => checkShouldUseNestedGrouping(filters),\n\t\t[filters],\n\t);\n\n\t// Group issues by file, then by category within each file\n\tconst nestedGroupedIssues = useMemo(() => {\n\t\tif (!shouldUseNestedGrouping) return null;\n\n\t\tconst grouped: Record<string, CategoryGroup[]> = {};\n\n\t\t// First, group by file\n\t\tfor (const issue of filteredIssues) {\n\t\t\tconst file = getIssueFile(issue);\n\t\t\tconst fileKey = file === null ? \"__cross_file__\" : file;\n\n\t\t\tif (!grouped[fileKey]) {\n\t\t\t\tgrouped[fileKey] = [];\n\t\t\t}\n\t\t}\n\n\t\t// Then, within each file, group by category\n\t\tfor (const issue of filteredIssues) {\n\t\t\tconst file = getIssueFile(issue);\n\t\t\tconst fileKey = file === null ? \"__cross_file__\" : file;\n\t\t\tconst categoryName = issue.category || \"Unknown\";\n\n\t\t\t// Find or create category group\n\t\t\tlet categoryGroup = grouped[fileKey].find(\n\t\t\t\t(g) => g.categoryName === categoryName,\n\t\t\t);\n\n\t\t\tif (!categoryGroup) {\n\t\t\t\tcategoryGroup = {\n\t\t\t\t\tcategoryName,\n\t\t\t\t\tissues: [],\n\t\t\t\t\tmaxSeverity: 0,\n\t\t\t\t};\n\t\t\t\tgrouped[fileKey].push(categoryGroup);\n\t\t\t}\n\n\t\t\tcategoryGroup.issues.push(issue);\n\t\t}\n\n\t\t// Calculate max severity for each category group and sort issues\n\t\tfor (const fileKey in grouped) {\n\t\t\tfor (const group of grouped[fileKey]) {\n\t\t\t\tgroup.maxSeverity = getMaxIssueSeverity(group.issues);\n\t\t\t\t// Sort issues within category group by severity (descending)\n\t\t\t\tgroup.issues.sort((a, b) => getIssueSeverity(b) - getIssueSeverity(a));\n\t\t\t}\n\n\t\t\t// Sort category groups by max severity (descending)\n\t\t\tgrouped[fileKey].sort((a, b) => b.maxSeverity - a.maxSeverity);\n\t\t}\n\n\t\t// Remove cross-file section if empty\n\t\tif (grouped.__cross_file__ && grouped.__cross_file__.length === 0) {\n\t\t\tdelete grouped.__cross_file__;\n\t\t}\n\n\t\treturn grouped;\n\t}, [shouldUseNestedGrouping, filteredIssues]);\n\n\t// Sort file groups by max severity across all categories\n\tconst sortedFileGroups = useMemo(() => {\n\t\t// If not using nested grouping, return the existing sorted groups\n\t\tif (!shouldUseNestedGrouping || !nestedGroupedIssues) {\n\t\t\treturn sortedGroupedIssues;\n\t\t}\n\n\t\tconst entries = Object.entries(nestedGroupedIssues);\n\n\t\t// Separate cross-file from regular files\n\t\tconst crossFileEntry = entries.find(([key]) => key === \"__cross_file__\");\n\t\tconst fileEntries = entries.filter(([key]) => key !== \"__cross_file__\");\n\n\t\t// Sort file entries by max severity across all categories\n\t\tfileEntries.sort(([fileA, groupsA], [fileB, groupsB]) => {\n\t\t\tconst maxSeverityA = getMaxCategoryGroupSeverity(groupsA);\n\t\t\tconst maxSeverityB = getMaxCategoryGroupSeverity(groupsB);\n\n\t\t\tif (maxSeverityA !== maxSeverityB) {\n\t\t\t\treturn maxSeverityB - maxSeverityA;\n\t\t\t}\n\n\t\t\treturn fileA.localeCompare(fileB);\n\t\t});\n\n\t\t// Return cross-file first, then sorted files\n\t\treturn crossFileEntry ? [crossFileEntry, ...fileEntries] : fileEntries;\n\t}, [shouldUseNestedGrouping, nestedGroupedIssues, sortedGroupedIssues]);\n\n\tconst handleFileLoad = (data: EvaluationOutput) => {\n\t\t// Aggregate cost and duration data from evaluator results\n\t\tif (isUnifiedFormat(data)) {\n\t\t\tconst unifiedData = data as UnifiedEvaluationOutput;\n\t\t\tlet totalCostUsd = 0;\n\t\t\tlet totalDurationMs = 0;\n\t\t\tlet totalInputTokens = 0;\n\t\t\tlet totalOutputTokens = 0;\n\t\t\tlet totalCacheCreationTokens = 0;\n\t\t\tlet totalCacheReadTokens = 0;\n\n\t\t\tfor (const result of unifiedData.results) {\n\t\t\t\tif (result.output) {\n\t\t\t\t\ttotalCostUsd += result.output.total_cost_usd || 0;\n\t\t\t\t\ttotalDurationMs += result.output.duration_ms || 0;\n\t\t\t\t\ttotalInputTokens += result.output.usage.input_tokens || 0;\n\t\t\t\t\ttotalOutputTokens += result.output.usage.output_tokens || 0;\n\t\t\t\t\ttotalCacheCreationTokens +=\n\t\t\t\t\t\tresult.output.usage.cache_creation_input_tokens || 0;\n\t\t\t\t\ttotalCacheReadTokens +=\n\t\t\t\t\t\tresult.output.usage.cache_read_input_tokens || 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add aggregated data to metadata\n\t\t\tunifiedData.metadata.totalCostUsd = totalCostUsd;\n\t\t\tunifiedData.metadata.totalDurationMs = totalDurationMs;\n\t\t\tunifiedData.metadata.totalInputTokens = totalInputTokens;\n\t\t\tunifiedData.metadata.totalOutputTokens = totalOutputTokens;\n\t\t\tunifiedData.metadata.totalCacheCreationTokens = totalCacheCreationTokens;\n\t\t\tunifiedData.metadata.totalCacheReadTokens = totalCacheReadTokens;\n\t\t}\n\n\t\tsetEvaluationData(data);\n\t\t// Reset filters and selections when new data is loaded\n\t\tsetFilters({\n\t\t\tseverities: new Set(),\n\t\t\tcategories: new Set(),\n\t\t\tevaluators: new Set(),\n\t\t\tsearchText: \"\",\n\t\t\tbookmarkedOnly: false,\n\t\t});\n\t\tsetSelectedIssueKeys(new Set());\n\t};\n\n\tconst handleClear = useCallback(() => {\n\t\t// Clear selections in DB before resetting state\n\t\tif (currentEvaluationId) {\n\t\t\tselectionApi\n\t\t\t\t.clearSelections(currentEvaluationId)\n\t\t\t\t.catch((err) =>\n\t\t\t\t\tconsole.error(\"Failed to clear selections on reset:\", err),\n\t\t\t\t);\n\t\t}\n\t\tsetEvaluationData(null);\n\t\tsetEvaluationMode(\"idle\");\n\t\tsetApiError(null);\n\t\tsetCurrentRepositoryUrl(null);\n\t\tsetEvaluationLogs([]); // Clear logs when clearing\n\t\tsetFilters({\n\t\t\tseverities: new Set(),\n\t\t\tcategories: new Set(),\n\t\t\tevaluators: new Set(),\n\t\t\tsearchText: \"\",\n\t\t\tbookmarkedOnly: false,\n\t\t});\n\t\tsetSelectedIssueKeys(new Set());\n\t\tsetBookmarkSet(new Set());\n\t\t// Navigate to root\n\t\tnavigate(\"/\");\n\t}, [navigate, currentEvaluationId, selectionApi]);\n\n\tconst handleDeleteEvaluation = useCallback(async () => {\n\t\tif (currentEvaluationId) {\n\t\t\tawait historyApi.deleteEvaluation(currentEvaluationId);\n\t\t\thandleClear();\n\t\t}\n\t}, [currentEvaluationId, historyApi, handleClear]);\n\n\t// Issue selection handlers\n\tconst handleToggleIssueSelection = useCallback(\n\t\t(key: string, _issue: Issue) => {\n\t\t\tsetSelectedIssueKeys((prev) => {\n\t\t\t\tconst newSet = new Set(prev);\n\t\t\t\tconst isRemoving = newSet.has(key);\n\t\t\t\tif (isRemoving) {\n\t\t\t\t\tnewSet.delete(key);\n\t\t\t\t} else {\n\t\t\t\t\tnewSet.add(key);\n\t\t\t\t}\n\t\t\t\t// Persist to DB (fire-and-forget)\n\t\t\t\tif (currentEvaluationId) {\n\t\t\t\t\tif (isRemoving) {\n\t\t\t\t\t\tselectionApi\n\t\t\t\t\t\t\t.removeSelection(currentEvaluationId, key)\n\t\t\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\t\t\tconsole.error(\"Failed to persist selection removal:\", err),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselectionApi\n\t\t\t\t\t\t\t.addSelections(currentEvaluationId, [key])\n\t\t\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\t\t\tconsole.error(\"Failed to persist selection add:\", err),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn newSet;\n\t\t\t});\n\t\t},\n\t\t[currentEvaluationId, selectionApi],\n\t);\n\n\tconst handleClearSelection = useCallback(() => {\n\t\tsetSelectedIssueKeys(new Set());\n\t\tif (currentEvaluationId) {\n\t\t\tselectionApi\n\t\t\t\t.clearSelections(currentEvaluationId)\n\t\t\t\t.catch((err) =>\n\t\t\t\t\tconsole.error(\"Failed to persist selection clear:\", err),\n\t\t\t\t);\n\t\t}\n\t}, [currentEvaluationId, selectionApi]);\n\n\tconst handleFeedback = useCallback(\n\t\tasync (issueHash: string, feedbackType: \"like\" | \"dislike\" | null) => {\n\t\t\tif (!currentEvaluationId) return;\n\n\t\t\t// Find the issue by hash to get the evaluator name\n\t\t\tconst issue = allIssues.find((i) => generateIssueHash(i) === issueHash);\n\t\t\tif (!issue) return;\n\n\t\t\tconst newMap = new Map(feedbackMap);\n\n\t\t\ttry {\n\t\t\t\tif (feedbackType === null) {\n\t\t\t\t\t// Remove feedback\n\t\t\t\t\tawait feedbackApi.removeFeedback(currentEvaluationId, issueHash);\n\t\t\t\t\tnewMap.delete(issueHash);\n\t\t\t\t} else {\n\t\t\t\t\t// Submit feedback\n\t\t\t\t\tawait feedbackApi.submitFeedback(\n\t\t\t\t\t\tcurrentEvaluationId,\n\t\t\t\t\t\tissueHash,\n\t\t\t\t\t\tissue.evaluatorName || \"unknown\",\n\t\t\t\t\t\tfeedbackType,\n\t\t\t\t\t);\n\t\t\t\t\tnewMap.set(issueHash, feedbackType);\n\t\t\t\t}\n\n\t\t\t\tsetFeedbackMap(newMap);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Failed to update feedback:\", error);\n\t\t\t}\n\t\t},\n\t\t[currentEvaluationId, allIssues, feedbackMap, feedbackApi],\n\t);\n\n\tconst handleBookmarkToggle = useCallback(\n\t\tasync (issueHash: string) => {\n\t\t\t// Early return in cloud mode (no-op)\n\t\t\tif (cloudMode) return;\n\n\t\t\tif (!currentEvaluationId) return;\n\n\t\t\tconst issue = allIssues.find((i) => generateIssueHash(i) === issueHash);\n\t\t\tif (!issue) return;\n\n\t\t\tconst newSet = new Set(bookmarkSet);\n\n\t\t\ttry {\n\t\t\t\tif (bookmarkSet.has(issueHash)) {\n\t\t\t\t\tawait bookmarkApi.removeBookmark(currentEvaluationId, issueHash);\n\t\t\t\t\tnewSet.delete(issueHash);\n\t\t\t\t} else {\n\t\t\t\t\tawait bookmarkApi.addBookmark(\n\t\t\t\t\t\tcurrentEvaluationId,\n\t\t\t\t\t\tissueHash,\n\t\t\t\t\t\tissue.evaluatorName || \"unknown\",\n\t\t\t\t\t);\n\t\t\t\t\tnewSet.add(issueHash);\n\t\t\t\t}\n\n\t\t\t\tsetBookmarkSet(newSet);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Failed to toggle bookmark:\", error);\n\t\t\t}\n\t\t},\n\t\t[currentEvaluationId, allIssues, bookmarkSet, bookmarkApi, cloudMode],\n\t);\n\n\tconst handleSelectAllInGroup = useCallback(\n\t\t(issues: Issue[]) => {\n\t\t\tconst keysToAdd: string[] = [];\n\t\t\tsetSelectedIssueKeys((prev) => {\n\t\t\t\tconst newSet = new Set(prev);\n\t\t\t\tfor (const issue of issues) {\n\t\t\t\t\tconst globalIndex = allIssues.indexOf(issue);\n\t\t\t\t\tif (globalIndex >= 0) {\n\t\t\t\t\t\tconst key = generateIssueKey(issue, globalIndex);\n\t\t\t\t\t\tif (!newSet.has(key)) {\n\t\t\t\t\t\t\tkeysToAdd.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewSet.add(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn newSet;\n\t\t\t});\n\t\t\t// Persist new keys to DB (fire-and-forget)\n\t\t\tif (currentEvaluationId && keysToAdd.length > 0) {\n\t\t\t\tselectionApi\n\t\t\t\t\t.addSelections(currentEvaluationId, keysToAdd)\n\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\tconsole.error(\"Failed to persist group selection:\", err),\n\t\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[allIssues, currentEvaluationId, selectionApi],\n\t);\n\n\tconst handleReviewSelected = useCallback(() => {\n\t\thandleTabChange(\"remediate\");\n\t}, [handleTabChange]);\n\n\tconst handleAddAllToRemediation = useCallback(\n\t\t(issues: (Issue & { evaluatorName?: string })[]) => {\n\t\t\tconst keysToAdd: string[] = [];\n\t\t\tsetSelectedIssueKeys((prev) => {\n\t\t\t\tconst newSet = new Set(prev);\n\t\t\t\tfor (const issue of issues) {\n\t\t\t\t\tconst globalIndex = allIssues.indexOf(issue);\n\t\t\t\t\tif (globalIndex >= 0) {\n\t\t\t\t\t\tconst key = generateIssueKey(issue, globalIndex);\n\t\t\t\t\t\tif (!newSet.has(key)) {\n\t\t\t\t\t\t\tkeysToAdd.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewSet.add(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn newSet;\n\t\t\t});\n\t\t\t// Persist new keys to DB (fire-and-forget)\n\t\t\tif (currentEvaluationId && keysToAdd.length > 0) {\n\t\t\t\tselectionApi\n\t\t\t\t\t.addSelections(currentEvaluationId, keysToAdd)\n\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\tconsole.error(\"Failed to persist add-all selection:\", err),\n\t\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[allIssues, currentEvaluationId, selectionApi],\n\t);\n\n\tconst handleRemoveIssueFromRemediation = useCallback(\n\t\t(key: string) => {\n\t\t\tsetSelectedIssueKeys((prev) => {\n\t\t\t\tconst newSet = new Set(prev);\n\t\t\t\tnewSet.delete(key);\n\t\t\t\treturn newSet;\n\t\t\t});\n\t\t\tif (currentEvaluationId) {\n\t\t\t\tselectionApi\n\t\t\t\t\t.removeSelection(currentEvaluationId, key)\n\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\tconsole.error(\"Failed to persist issue removal:\", err),\n\t\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[currentEvaluationId, selectionApi],\n\t);\n\n\t// Tab configuration\n\tconst tabs: TabItem[] = useMemo(() => {\n\t\tconst baseTabs: TabItem[] = [\n\t\t\t{\n\t\t\t\tid: \"summary\",\n\t\t\t\tlabel: \"Summary\",\n\t\t\t\ticon: (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"errors\",\n\t\t\t\tlabel: \"Errors\",\n\t\t\t\ticon: (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t),\n\t\t\t\tcount: filteredErrorsCount,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"suggestions\",\n\t\t\t\tlabel: \"Suggestions\",\n\t\t\t\ticon: (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t),\n\t\t\t\tcount: filteredSuggestionsCount,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"remediate\",\n\t\t\t\tlabel: \"Remediate\",\n\t\t\t\ticon: (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t),\n\t\t\t\tcount: selectedIssueKeys.size > 0 ? selectedIssueKeys.size : undefined,\n\t\t\t},\n\t\t];\n\n\t\t// Only show Debugging and Cost Analysis tabs in non-cloud mode\n\t\tif (!cloudMode) {\n\t\t\tbaseTabs.push(\n\t\t\t\t{\n\t\t\t\t\tid: \"debugging\",\n\t\t\t\t\tlabel: \"Debugging\",\n\t\t\t\t\ticon: (\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \"cost\",\n\t\t\t\t\tlabel: \"Cost Analysis\",\n\t\t\t\t\ticon: (\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\n\t\treturn baseTabs;\n\t}, [\n\t\tfilteredErrorsCount,\n\t\tfilteredSuggestionsCount,\n\t\tcloudMode,\n\t\tselectedIssueKeys.size,\n\t]);\n\n\treturn (\n\t\t<div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-slate-100 animate-fade-in\">\n\t\t\t{/* Header */}\n\t\t\t<AppHeader\n\t\t\t\tcurrentPage=\"home\"\n\t\t\t\tonLogoClick={handleClear}\n\t\t\t\thistoryCount={historyApi.history.length}\n\t\t\t/>\n\n\t\t\t{/* Selection Summary Bar */}\n\t\t\t<SelectionSummaryBar\n\t\t\t\tselectedCount={selectedIssueKeys.size}\n\t\t\t\tonClearSelection={handleClearSelection}\n\t\t\t\tonReviewSelected={handleReviewSelected}\n\t\t\t/>\n\n\t\t\t{/* Main Content */}\n\t\t\t<main\n\t\t\t\tclassName={`max-w-[1400px] mx-auto px-6 py-6 ${selectedIssueKeys.size > 0 ? \"pt-14\" : \"\"}`}\n\t\t\t>\n\t\t\t\t{/* Content Area */}\n\t\t\t\t{evaluationData ? (\n\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t{/* Evaluator Failure Panel - Show if some evaluators failed */}\n\t\t\t\t\t\t{evaluationData.metadata.failedEvaluators &&\n\t\t\t\t\t\t\tevaluationData.metadata.failedEvaluators.length > 0 && (\n\t\t\t\t\t\t\t\t<EvaluatorFailurePanel\n\t\t\t\t\t\t\t\t\tfailures={evaluationData.metadata.failedEvaluators}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* Tab Navigation */}\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\ttabs={tabs}\n\t\t\t\t\t\t\tactiveTab={activeTab}\n\t\t\t\t\t\t\tonTabChange={handleTabChange}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{/* Summary Tab */}\n\t\t\t\t\t\t<TabPanel id=\"summary\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<Summary\n\t\t\t\t\t\t\t\tmetadata={evaluationData.metadata}\n\t\t\t\t\t\t\t\trepositoryUrl={currentRepositoryUrl}\n\t\t\t\t\t\t\t\tactualIssueCount={allIssues.length}\n\t\t\t\t\t\t\t\tactualPerFileIssueCount={perFileIssueCount}\n\t\t\t\t\t\t\t\tactualCrossFileIssueCount={crossFileIssueCount}\n\t\t\t\t\t\t\t\tactualHighCount={highCount}\n\t\t\t\t\t\t\t\tactualMediumCount={mediumCount}\n\t\t\t\t\t\t\t\tactualErrorCount={errorCount}\n\t\t\t\t\t\t\t\tactualSuggestionCount={suggestionCount}\n\t\t\t\t\t\t\t\tcurationSummary={curationSummary}\n\t\t\t\t\t\t\t\tcuratedCount={curatedIssues.length}\n\t\t\t\t\t\t\t\tevaluationId={currentEvaluationId ?? undefined}\n\t\t\t\t\t\t\t\tonDelete={handleDeleteEvaluation}\n\t\t\t\t\t\t\t\tcuration={evaluationData.curation}\n\t\t\t\t\t\t\t\tevaluationLogs={evaluationLogs}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Errors Tab */}\n\t\t\t\t\t\t<TabPanel id=\"errors\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-5 gap-6\">\n\t\t\t\t\t\t\t\t<div className=\"lg:col-span-1\">\n\t\t\t\t\t\t\t\t\t<div className=\"sticky top-20 max-h-[calc(100vh-6rem)] overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t<FilterPanel\n\t\t\t\t\t\t\t\t\t\t\tfilters={filters}\n\t\t\t\t\t\t\t\t\t\t\tonFilterChange={setFilters}\n\t\t\t\t\t\t\t\t\t\t\tavailableCategories={availableCategories}\n\t\t\t\t\t\t\t\t\t\t\tissueCount={filteredIssues.length}\n\t\t\t\t\t\t\t\t\t\t\ttotalIssues={errorIssues.length}\n\t\t\t\t\t\t\t\t\t\t\tfilterOptionCounts={filterOptionCounts}\n\t\t\t\t\t\t\t\t\t\t\tbookmarkedCount={bookmarkedCount}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"lg:col-span-4\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-end mb-3\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleAddAllToRemediation(errorIssues)}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-secondary text-sm\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tAdd all to remediation ({errorIssues.length})\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<IssuesList\n\t\t\t\t\t\t\t\t\t\tissues={filteredIssues}\n\t\t\t\t\t\t\t\t\t\tgroupedByFile={\n\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n\t\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t\t: Object.fromEntries(sortedGroupedIssues)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tnestedGrouping={\n\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n\t\t\t\t\t\t\t\t\t\t\t\t? Object.fromEntries(sortedFileGroups)\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\ttitle=\"Errors\"\n\t\t\t\t\t\t\t\t\t\temptyStateMessage=\"No errors found! Your documentation meets all quality standards.\"\n\t\t\t\t\t\t\t\t\t\tselectedKeys={selectedIssueKeys}\n\t\t\t\t\t\t\t\t\t\tissueKeyMap={issueKeyMap}\n\t\t\t\t\t\t\t\t\t\tonToggleSelection={handleToggleIssueSelection}\n\t\t\t\t\t\t\t\t\t\tonSelectAllInGroup={handleSelectAllInGroup}\n\t\t\t\t\t\t\t\t\t\tfeedbackMap={feedbackMap}\n\t\t\t\t\t\t\t\t\t\tonFeedback={handleFeedback}\n\t\t\t\t\t\t\t\t\t\tbookmarkSet={bookmarkSet}\n\t\t\t\t\t\t\t\t\t\tonBookmarkToggle={handleBookmarkToggle}\n\t\t\t\t\t\t\t\t\t\tassessmentEnabled={assessmentEnabled}\n\t\t\t\t\t\t\t\t\t\tgroupSelectEnabled={groupSelectEnabled}\n\t\t\t\t\t\t\t\t\t\tcloudMode={cloudMode}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Suggestions Tab */}\n\t\t\t\t\t\t<TabPanel id=\"suggestions\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-5 gap-6\">\n\t\t\t\t\t\t\t\t<div className=\"lg:col-span-1\">\n\t\t\t\t\t\t\t\t\t<div className=\"sticky top-20 max-h-[calc(100vh-6rem)] overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t<FilterPanel\n\t\t\t\t\t\t\t\t\t\t\tfilters={filters}\n\t\t\t\t\t\t\t\t\t\t\tonFilterChange={setFilters}\n\t\t\t\t\t\t\t\t\t\t\tavailableCategories={availableCategories}\n\t\t\t\t\t\t\t\t\t\t\tissueCount={filteredIssues.length}\n\t\t\t\t\t\t\t\t\t\t\ttotalIssues={suggestionIssues.length}\n\t\t\t\t\t\t\t\t\t\t\tfilterOptionCounts={filterOptionCounts}\n\t\t\t\t\t\t\t\t\t\t\tbookmarkedCount={bookmarkedCount}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"lg:col-span-4\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-end mb-3\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\thandleAddAllToRemediation(suggestionIssues)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-secondary text-sm\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tAdd all to remediation ({suggestionIssues.length})\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<IssuesList\n\t\t\t\t\t\t\t\t\t\tissues={filteredIssues}\n\t\t\t\t\t\t\t\t\t\tgroupedByFile={\n\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n\t\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t\t: Object.fromEntries(sortedGroupedIssues)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tnestedGrouping={\n\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n\t\t\t\t\t\t\t\t\t\t\t\t? Object.fromEntries(sortedFileGroups)\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\ttitle=\"Suggestions\"\n\t\t\t\t\t\t\t\t\t\temptyStateMessage=\"No suggestions available. Your documentation is comprehensive.\"\n\t\t\t\t\t\t\t\t\t\tselectedKeys={selectedIssueKeys}\n\t\t\t\t\t\t\t\t\t\tissueKeyMap={issueKeyMap}\n\t\t\t\t\t\t\t\t\t\tonToggleSelection={handleToggleIssueSelection}\n\t\t\t\t\t\t\t\t\t\tonSelectAllInGroup={handleSelectAllInGroup}\n\t\t\t\t\t\t\t\t\t\tfeedbackMap={feedbackMap}\n\t\t\t\t\t\t\t\t\t\tonFeedback={handleFeedback}\n\t\t\t\t\t\t\t\t\t\tbookmarkSet={bookmarkSet}\n\t\t\t\t\t\t\t\t\t\tonBookmarkToggle={handleBookmarkToggle}\n\t\t\t\t\t\t\t\t\t\tassessmentEnabled={assessmentEnabled}\n\t\t\t\t\t\t\t\t\t\tgroupSelectEnabled={groupSelectEnabled}\n\t\t\t\t\t\t\t\t\t\tcloudMode={cloudMode}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Remediate Tab */}\n\t\t\t\t\t\t<TabPanel id=\"remediate\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<RemediateTab\n\t\t\t\t\t\t\t\tevaluationId={currentEvaluationId}\n\t\t\t\t\t\t\t\tevaluationData={evaluationData}\n\t\t\t\t\t\t\t\tselectedIssueKeys={selectedIssueKeys}\n\t\t\t\t\t\t\t\tissueKeyMap={issueKeyMap}\n\t\t\t\t\t\t\t\tonRemoveIssue={handleRemoveIssueFromRemediation}\n\t\t\t\t\t\t\t\tonClearAll={handleClearSelection}\n\t\t\t\t\t\t\t\tcloudMode={cloudMode}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Debugging Tab */}\n\t\t\t\t\t\t<TabPanel id=\"debugging\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<EvaluatorTemplatesPanel evaluationId={currentEvaluationId} />\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Cost Analysis Tab */}\n\t\t\t\t\t\t<TabPanel id=\"cost\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<CostAnalysisPanel metadata={evaluationData.metadata} />\n\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t</div>\n\t\t\t\t) : evaluationMode === \"evaluating\" && progressState ? (\n\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t<ProgressPanel\n\t\t\t\t\t\t\tprogress={progressState}\n\t\t\t\t\t\t\tjobId={currentJobId ?? undefined}\n\t\t\t\t\t\t\tonCancel={handleCancelJob}\n\t\t\t\t\t\t\tonDismiss={handleDismissFailure}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) : evaluationMode === \"idle\" ? (\n\t\t\t\t\t<div className=\"space-y-6\">\n\t\t\t\t\t\t{/* Hero Section - Show first */}\n\t\t\t\t\t\t<EmptyState />\n\n\t\t\t\t\t\t{/* Compact Input Form - Show below */}\n\t\t\t\t\t\t<div className=\"max-w-2xl mx-auto\">\n\t\t\t\t\t\t\t<EvaluationInputPanel\n\t\t\t\t\t\t\t\tonUrlSubmit={handleUrlSubmit}\n\t\t\t\t\t\t\t\tonBatchSubmit={!cloudMode ? handleBatchSubmit : undefined}\n\t\t\t\t\t\t\t\tisLoading={api.isLoading}\n\t\t\t\t\t\t\t\turlError={apiError}\n\t\t\t\t\t\t\t\thasData={false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Experimental Notice - Below form */}\n\t\t\t\t\t\t<div className=\"max-w-2xl mx-auto\">\n\t\t\t\t\t\t\t<ExperimentalNotice />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Cloud Mode Notice */}\n\t\t\t\t\t\t{cloudMode && (\n\t\t\t\t\t\t\t<div className=\"max-w-2xl mx-auto\">\n\t\t\t\t\t\t\t\t<div className=\"info-section text-left\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-start gap-2\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"info-section-icon\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"info-section-header\">Public Instance</p>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"info-section-content\">\n\t\t\t\t\t\t\t\t\t\t\t\tThis is a public instance to illustrate\n\t\t\t\t\t\t\t\t\t\t\t\tcontext-evaluator. You can submit git repository URLs\n\t\t\t\t\t\t\t\t\t\t\t\tfor analysis. All results are public and cannot be\n\t\t\t\t\t\t\t\t\t\t\t\tremoved. For any request, contact{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\thref=\"mailto:support@packmind.com\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-blue-400 hover:text-blue-300 underline\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsupport@packmind.com\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t) : isLoadingFromUrl ? (\n\t\t\t\t\t<div className=\"card text-center py-12\">\n\t\t\t\t\t\t<div className=\"animate-spin w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full mx-auto mb-4\"></div>\n\t\t\t\t\t\t<p className=\"text-slate-400\">Loading evaluation...</p>\n\t\t\t\t\t</div>\n\t\t\t\t) : apiError && urlEvaluationId ? (\n\t\t\t\t\t<div className=\"card border-red-700/50 bg-red-900/20\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-6 h-6 text-red-400 flex-shrink-0\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t\t\t\t<h3 className=\"font-semibold text-red-300\">\n\t\t\t\t\t\t\t\t\tEvaluation Not Found\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t<p className=\"text-sm text-red-400/80\">{apiError}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button onClick={handleClear} className=\"btn-ghost\">\n\t\t\t\t\t\t\t\tGo Home\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t</main>\n\n\t\t\t{/* Footer */}\n\t\t\t<footer className=\"bg-slate-800 border-t border-slate-700 mt-12\">\n\t\t\t\t<div className=\"max-w-[1400px] mx-auto px-6 py-6\">\n\t\t\t\t\t<div className=\"flex flex-col md:flex-row items-center justify-between gap-4\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-semibold text-slate-50\">\n\t\t\t\t\t\t\t\t\tcontext-evaluator\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-400\">v{version}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex flex-wrap items-center justify-center gap-8 text-sm text-slate-300\">\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref=\"https://packmind.com?utm_source=context-evaluator\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\tclassName=\"hover:text-slate-100 transition-colors font-medium text-slate-200\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tPowered by Packmind\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</footer>\n\t\t</div>\n\t);\n}\n\n// Scrolls to top on every route change\nfunction ScrollToTop() {\n\tconst { pathname } = useLocation();\n\t// biome-ignore lint/correctness/useExhaustiveDependencies: re-run scroll on route change\n\tuseEffect(() => {\n\t\twindow.scrollTo(0, 0);\n\t}, [pathname]);\n\treturn null;\n}\n\n// Router wrapper component\nfunction App() {\n\treturn (\n\t\t<FeatureFlagProvider>\n\t\t\t<BrowserRouter>\n\t\t\t\t<ScrollToTop />\n\t\t\t\t<AppRoutes />\n\t\t\t</BrowserRouter>\n\t\t</FeatureFlagProvider>\n\t);\n}\n\n// Routes component with feature flag access\nfunction AppRoutes() {\n\tconst { assessmentEnabled, cloudMode } = useFeatureFlags();\n\n\treturn (\n\t\t<Routes>\n\t\t\t<Route path=\"/\" element={<AppContent />} />\n\t\t\t<Route path=\"/evaluation/:id\" element={<AppContent />} />\n\t\t\t<Route path=\"/recent\" element={<RecentEvaluationsPage />} />\n\t\t\t<Route path=\"/evaluators\" element={<EvaluatorsPage />} />\n\t\t\t<Route path=\"/issues\" element={<IssuesPage />} />\n\t\t\t<Route path=\"/stats\" element={<StatsPage />} />\n\t\t\t<Route path=\"/how-it-works\" element={<HowItWorksPage />} />\n\t\t\t{assessmentEnabled && (\n\t\t\t\t<Route path=\"/assessment\" element={<AssessmentPage />} />\n\t\t\t)}\n\t\t\t{!cloudMode && (\n\t\t\t\t<Route path=\"/batch/:batchId\" element={<BatchStatusPage />} />\n\t\t\t)}\n\t\t</Routes>\n\t);\n}\n\n// Mount the app\nconst root = createRoot(document.getElementById(\"root\")!);\nroot.render(<App />);\n","structuredPatch":[{"oldStart":668,"oldLines":7,"newStart":668,"newLines":7,"lines":["     async (","       urls: string[],","       _evaluators: number,","-      provider?: \"claude\" | \"opencode\" | \"cursor\" | \"github-copilot\",","+      provider?: ProviderName,","       evaluatorFilter?: EvaluatorFilter,","       concurrency?: number,","       selectedEvaluators?: string[],"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"d7fcbec7-3923-4424-bea4-53fc6c97baae"}
{"parentUuid":"6f7f2fdc-2140-4932-a4e5-3010c67988ec","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01M1Ti2hDa2YaZ4MRjnvfDTp","type":"message","role":"assistant","content":[{"type":"text","text":"Now add the `handleReRun` callback. I'll add it after `handleDeleteEvaluation`:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":390,"cache_read_input_tokens":92934,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":390},"output_tokens":2,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66YGLHbmEe2M33ZaeeK","type":"assistant","uuid":"ee05df2f-4b29-4feb-b956-e3bf34174e86","timestamp":"2026-02-13T12:49:51.459Z"}
{"parentUuid":"ee05df2f-4b29-4feb-b956-e3bf34174e86","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01M1Ti2hDa2YaZ4MRjnvfDTp","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01KDuCU9PNdvWAkUXLU5E3U1","name":"Edit","input":{"replace_all":false,"file_path":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/App.tsx","old_string":"\t}, [currentEvaluationId, historyApi, handleClear]);\n\n\t// Issue selection handlers","new_string":"\t}, [currentEvaluationId, historyApi, handleClear]);\n\n\t// Handle re-run evaluation from Summary page\n\tconst handleReRun = useCallback(\n\t\tasync (provider: ProviderName) => {\n\t\t\tif (!currentRepositoryUrl) return;\n\t\t\tawait handleUrlSubmit(currentRepositoryUrl, 17, provider, \"all\");\n\t\t},\n\t\t[currentRepositoryUrl, handleUrlSubmit],\n\t);\n\n\t// Issue selection handlers"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":390,"cache_read_input_tokens":92934,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":390},"output_tokens":2,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66YGLHbmEe2M33ZaeeK","type":"assistant","uuid":"cb1cd040-0438-40b2-9d68-eba169ec0462","timestamp":"2026-02-13T12:49:54.545Z"}
{"parentUuid":"cb1cd040-0438-40b2-9d68-eba169ec0462","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_01KDuCU9PNdvWAkUXLU5E3U1","toolUseID":"toolu_01KDuCU9PNdvWAkUXLU5E3U1","timestamp":"2026-02-13T12:49:59.571Z","uuid":"e0028d2b-ad46-4ef9-844b-2370205a178f"}
{"parentUuid":"cb1cd040-0438-40b2-9d68-eba169ec0462","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01KDuCU9PNdvWAkUXLU5E3U1","type":"tool_result","content":"The file /Users/cedricteyton/Code/agents-md-evaluator/frontend/src/App.tsx has been updated successfully."}]},"uuid":"cc18cb92-a5c5-47ee-9e7e-f60b8caf0c3d","timestamp":"2026-02-13T12:49:59.570Z","toolUseResult":{"filePath":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/App.tsx","oldString":"\t}, [currentEvaluationId, historyApi, handleClear]);\n\n\t// Issue selection handlers","newString":"\t}, [currentEvaluationId, historyApi, handleClear]);\n\n\t// Handle re-run evaluation from Summary page\n\tconst handleReRun = useCallback(\n\t\tasync (provider: ProviderName) => {\n\t\t\tif (!currentRepositoryUrl) return;\n\t\t\tawait handleUrlSubmit(currentRepositoryUrl, 17, provider, \"all\");\n\t\t},\n\t\t[currentRepositoryUrl, handleUrlSubmit],\n\t);\n\n\t// Issue selection handlers","originalFile":"import { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport {\n\tBrowserRouter,\n\tRoute,\n\tRoutes,\n\tuseLocation,\n\tuseNavigate,\n\tuseParams,\n\tuseSearchParams,\n} from \"react-router-dom\";\nimport { AppHeader } from \"./components/AppHeader\";\nimport { AssessmentPage } from \"./components/AssessmentPage\";\nimport { BatchStatusPage } from \"./components/BatchStatusPage\";\nimport { CostAnalysisPanel } from \"./components/CostAnalysisPanel\";\nimport { EmptyState } from \"./components/EmptyState\";\nimport { EvaluationInputPanel } from \"./components/EvaluationInputPanel\";\nimport { EvaluatorFailurePanel } from \"./components/EvaluatorFailurePanel\";\nimport { EvaluatorsPage } from \"./components/EvaluatorsPage\";\nimport { EvaluatorTemplatesPanel } from \"./components/EvaluatorTemplatesPanel\";\nimport { ExperimentalNotice } from \"./components/ExperimentalNotice\";\nimport type { FilterOptionCounts, FilterState } from \"./components/FilterPanel\";\nimport { FilterPanel } from \"./components/FilterPanel\";\nimport { HowItWorksPage } from \"./components/HowItWorksPage\";\nimport { IssuesList } from \"./components/IssuesList\";\nimport { IssuesPage } from \"./components/IssuesPage\";\nimport { ProgressPanel } from \"./components/ProgressPanel\";\nimport { RecentEvaluationsPage } from \"./components/RecentEvaluationsPage\";\nimport { RemediateTab } from \"./components/RemediateTab\";\nimport { SelectionSummaryBar } from \"./components/SelectionSummaryBar\";\nimport { StatsPage } from \"./components/StatsPage\";\nimport { Summary } from \"./components/Summary\";\nimport type { TabItem } from \"./components/Tabs\";\nimport { TabPanel, Tabs } from \"./components/Tabs\";\nimport {\n\tFeatureFlagProvider,\n\tuseFeatureFlags,\n} from \"./contexts/FeatureFlagContext\";\nimport { useBookmarkApi } from \"./hooks/useBookmarkApi\";\nimport type { ProviderName } from \"./hooks/useEvaluationApi\";\nimport { useEvaluationApi } from \"./hooks/useEvaluationApi\";\nimport { useEvaluationHistory } from \"./hooks/useEvaluationHistory\";\nimport { useFeedbackApi } from \"./hooks/useFeedbackApi\";\nimport { useSelectionApi } from \"./hooks/useSelectionApi\";\nimport { useSSE } from \"./hooks/useSSE\";\nimport { useVersion } from \"./hooks/useVersion\";\nimport { getFilteredEvaluatorCount } from \"./lib/formatters\";\nimport { shouldUseNestedGrouping as checkShouldUseNestedGrouping } from \"./lib/grouping-utils\";\nimport { generateIssueHash } from \"./lib/issue-hash\";\nimport { generateIssueKey } from \"./lib/issue-utils\";\nimport type {\n\tCategoryGroup,\n\tEvaluationOutput,\n\tEvaluatorFilter,\n\tIndependentEvaluationOutput,\n\tIssue,\n\tUnifiedEvaluationOutput,\n} from \"./types/evaluation\";\nimport {\n\tgetIssueFile,\n\tgetIssueSeverity,\n\tgetIssueType,\n\tgetMaxCategoryGroupSeverity,\n\tgetMaxIssueSeverity,\n\tgetSeverityLevel,\n\tisIndependentFormat,\n\tisUnifiedFormat,\n\tparseEvaluatorResult,\n} from \"./types/evaluation\";\nimport type {\n\tEvaluationMode,\n\tICloneWarningEvent,\n\tIContextAnalysisEvent,\n\tIContextClocEvent,\n\tIContextFoldersEvent,\n\tIContextWarningEvent,\n\tIDiscoveryCompletedEvent,\n\tIEvaluatorProgressEvent,\n\tIFileStartedEvent,\n\tIJobCompletedEvent,\n\tIJobFailedEvent,\n\tIJobStartedEvent,\n\tIProgressState,\n\tSSEEvent,\n} from \"./types/job\";\n\nfunction AppContent() {\n\t// Feature flags\n\tconst { assessmentEnabled, groupSelectEnabled, cloudMode } =\n\t\tuseFeatureFlags();\n\n\t// URL-based routing\n\tconst navigate = useNavigate();\n\tconst { id: urlEvaluationId } = useParams<{ id: string }>();\n\tconst [searchParams, setSearchParams] = useSearchParams();\n\n\t// Tab state from URL with smart defaults\n\tconst rawTab = searchParams.get(\"tab\");\n\tconst handleTabChange = useCallback(\n\t\t(tabId: string) => {\n\t\t\tsetSearchParams(\n\t\t\t\t(prev) => {\n\t\t\t\t\tprev.set(\"tab\", tabId);\n\t\t\t\t\treturn prev;\n\t\t\t\t},\n\t\t\t\t{ replace: true },\n\t\t\t);\n\t\t},\n\t\t[setSearchParams],\n\t);\n\n\tconst [evaluationData, setEvaluationData] = useState<EvaluationOutput | null>(\n\t\tnull,\n\t);\n\tconst [filters, setFilters] = useState<FilterState>({\n\t\tseverities: new Set(),\n\t\tcategories: new Set(),\n\t\tevaluators: new Set(),\n\t\tsearchText: \"\",\n\t\tbookmarkedOnly: false,\n\t});\n\t// Always show all issues (removed curated toggle)\n\n\t// Evaluation job state\n\tconst [evaluationMode, setEvaluationMode] = useState<EvaluationMode>(\"idle\");\n\tconst [currentJobId, setCurrentJobId] = useState<string | null>(null);\n\tconst [sseUrl, setSSEUrl] = useState<string | null>(null);\n\tconst [progressState, setProgressState] = useState<IProgressState | null>(\n\t\tnull,\n\t);\n\tconst [apiError, setApiError] = useState<string | null>(null);\n\tconst [isLoadingFromUrl, setIsLoadingFromUrl] = useState(false);\n\tconst [currentRepositoryUrl, setCurrentRepositoryUrl] = useState<\n\t\tstring | null\n\t>(null);\n\t// Store evaluation logs to persist after completion\n\tconst [evaluationLogs, setEvaluationLogs] = useState<\n\t\tArray<{ timestamp: Date; type: string; message: string }>\n\t>([]);\n\n\t// Issue selection state\n\tconst [selectedIssueKeys, setSelectedIssueKeys] = useState<Set<string>>(\n\t\tnew Set(),\n\t);\n\tconst [issueKeyMap, setIssueKeyMap] = useState<Map<string, Issue>>(new Map());\n\n\t// Feedback state\n\tconst [feedbackMap, setFeedbackMap] = useState<\n\t\tMap<string, \"like\" | \"dislike\">\n\t>(new Map());\n\tconst feedbackApi = useFeedbackApi();\n\n\t// Bookmark state\n\tconst [bookmarkSet, setBookmarkSet] = useState<Set<string>>(new Set());\n\tconst bookmarkApi = useBookmarkApi();\n\n\t// Selection persistence\n\tconst selectionApi = useSelectionApi();\n\n\t// Derive currentEvaluationId from URL parameter\n\tconst currentEvaluationId = urlEvaluationId || null;\n\n\t// Ref for completion timeout cleanup\n\tconst completionTimeoutRef = useRef<ReturnType<typeof setTimeout> | null>(\n\t\tnull,\n\t);\n\n\t// API hook\n\tconst api = useEvaluationApi();\n\n\t// Evaluation history hook\n\tconst historyApi = useEvaluationHistory();\n\n\t// Version hook\n\tconst { version } = useVersion();\n\n\t// Ref for stable access to API function (avoids dependency array issues)\n\tconst loadEvaluationRef = useRef(historyApi.loadEvaluation);\n\tloadEvaluationRef.current = historyApi.loadEvaluation;\n\n\t// SSE event handler\n\tconst handleProgressEvent = useCallback(\n\t\t(event: SSEEvent) => {\n\t\t\tsetProgressState((prev) => {\n\t\t\t\tif (!prev) return prev;\n\n\t\t\t\tconst newState = { ...prev };\n\n\t\t\t\tswitch (event.type) {\n\t\t\t\t\t// Clone events\n\t\t\t\t\tcase \"clone.started\": {\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: \"Cloning repository...\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"clone.completed\": {\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\tmessage: \"Repository cloned successfully\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"clone.warning\": {\n\t\t\t\t\t\tconst data = (event as ICloneWarningEvent).data;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\t\t\tmessage: data.message,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discovery events\n\t\t\t\t\tcase \"discovery.started\": {\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: \"Discovering context files...\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"discovery.completed\": {\n\t\t\t\t\t\tconst data = (event as IDiscoveryCompletedEvent).data;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\tmessage: `Found ${data.filesFound} context file(s)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Context sub-step events\n\t\t\t\t\tcase \"context.cloc\": {\n\t\t\t\t\t\tconst data = (event as IContextClocEvent).data;\n\t\t\t\t\t\tif (data.status === \"started\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\t\tmessage: \"Analyzing codebase size...\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t} else if (data.status === \"completed\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\t\tmessage: `Codebase: ${data.totalLines?.toLocaleString() || \"?\"} lines across ${data.languageCount || \"?\"} languages`,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"context.folders\": {\n\t\t\t\t\t\tconst data = (event as IContextFoldersEvent).data;\n\t\t\t\t\t\tif (data.status === \"started\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\t\tmessage: \"Analyzing directory structure...\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t} else if (data.status === \"completed\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\t\tmessage: `Structure: ${data.folderCount || \"?\"} key directories`,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"context.analysis\": {\n\t\t\t\t\t\tconst data = (event as IContextAnalysisEvent).data;\n\t\t\t\t\t\tif (data.status === \"started\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\t\tmessage: \"Identifying project context...\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t} else if (data.status === \"completed\") {\n\t\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\t\tmessage: \"Project context identified\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"context.warning\": {\n\t\t\t\t\t\tconst data = (event as IContextWarningEvent).data;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\t\t\tmessage: data.message,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"job.started\": {\n\t\t\t\t\t\tconst data = (event as IJobStartedEvent).data;\n\t\t\t\t\t\tnewState.status = \"running\";\n\t\t\t\t\t\tnewState.totalFiles = data.totalFiles || 0;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: `Started evaluation (${data.evaluationMode} mode, ${data.totalFiles} file(s))`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"file.started\": {\n\t\t\t\t\t\tconst data = (event as IFileStartedEvent).data;\n\t\t\t\t\t\tnewState.currentFile = data.filePath;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: `Processing ${data.filePath}`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"file.completed\": {\n\t\t\t\t\t\tnewState.completedFiles = (prev.completedFiles || 0) + 1;\n\t\t\t\t\t\t// Update percentage based on file progress\n\t\t\t\t\t\tif (newState.totalFiles > 0) {\n\t\t\t\t\t\t\tnewState.percentage = Math.round(\n\t\t\t\t\t\t\t\t(newState.completedFiles / newState.totalFiles) * 50,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluator.progress\": {\n\t\t\t\t\t\tconst data = (event as IEvaluatorProgressEvent).data;\n\t\t\t\t\t\tnewState.currentEvaluator = data.evaluatorName;\n\t\t\t\t\t\tnewState.completedEvaluators = data.evaluatorIndex;\n\t\t\t\t\t\tnewState.totalEvaluators = data.totalEvaluators;\n\t\t\t\t\t\t// Update percentage based on evaluator progress\n\t\t\t\t\t\tif (data.totalEvaluators > 0) {\n\t\t\t\t\t\t\tconst evaluatorProgress =\n\t\t\t\t\t\t\t\t(data.evaluatorIndex / data.totalEvaluators) * 50;\n\t\t\t\t\t\t\tnewState.percentage = 50 + Math.round(evaluatorProgress);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Include file context in log message when evaluating multiple files\n\t\t\t\t\t\tconst fileContext = data.currentFile\n\t\t\t\t\t\t\t? ` on ${data.currentFile.split(\"/\").pop()}`\n\t\t\t\t\t\t\t: \"\";\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: `Running ${data.evaluatorName}${fileContext} (${data.evaluatorIndex + 1}/${data.totalEvaluators})`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluator.completed\": {\n\t\t\t\t\t\tnewState.completedEvaluators = (prev.completedEvaluators || 0) + 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluator.retry\": {\n\t\t\t\t\t\tconst data = event.data as {\n\t\t\t\t\t\t\tevaluatorName: string;\n\t\t\t\t\t\t\tattempt: number;\n\t\t\t\t\t\t\tmaxRetries: number;\n\t\t\t\t\t\t\terror: string;\n\t\t\t\t\t\t\tcurrentFile?: string;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tconst retriesRemaining = data.maxRetries - data.attempt;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\t\t\tmessage: `Retry ${data.attempt}/${data.maxRetries} for ${data.evaluatorName}: ${data.error.substring(0, 100)}${data.error.length > 100 ? \"...\" : \"\"} (${retriesRemaining} retries remaining)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluator.timeout\": {\n\t\t\t\t\t\tconst data = event.data as {\n\t\t\t\t\t\t\tevaluatorName: string;\n\t\t\t\t\t\t\telapsedMs: number;\n\t\t\t\t\t\t\ttimeoutMs: number;\n\t\t\t\t\t\t\tcurrentFile?: string;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tconst elapsedSec = Math.round(data.elapsedMs / 1000);\n\t\t\t\t\t\tconst timeoutSec = Math.round(data.timeoutMs / 1000);\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\t\t\tmessage: `Timeout: ${data.evaluatorName} exceeded ${timeoutSec}s limit (elapsed: ${elapsedSec}s)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"curation.started\": {\n\t\t\t\t\t\tconst data = event.data;\n\t\t\t\t\t\tconst typeLabel =\n\t\t\t\t\t\t\tdata.issueType === \"error\"\n\t\t\t\t\t\t\t\t? \"errors\"\n\t\t\t\t\t\t\t\t: data.issueType === \"suggestion\"\n\t\t\t\t\t\t\t\t\t? \"suggestions\"\n\t\t\t\t\t\t\t\t\t: \"issues\";\n\t\t\t\t\t\tnewState.currentEvaluator = `Impact Curation (${typeLabel})`;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\tmessage: `Curating top ${typeLabel} from ${data.totalIssues} total...`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"curation.completed\": {\n\t\t\t\t\t\tconst data = event.data;\n\t\t\t\t\t\tconst typeLabel =\n\t\t\t\t\t\t\tdata.issueType === \"error\"\n\t\t\t\t\t\t\t\t? \"errors\"\n\t\t\t\t\t\t\t\t: data.issueType === \"suggestion\"\n\t\t\t\t\t\t\t\t\t? \"suggestions\"\n\t\t\t\t\t\t\t\t\t: \"issues\";\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\tmessage: `Impact curation completed for ${typeLabel} (${data.curatedCount} selected)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"evaluation.warning\": {\n\t\t\t\t\t\tconst data = event.data;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\t\t\tmessage: data.message || \"Some evaluators encountered errors\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"job.completed\": {\n\t\t\t\t\t\tconst data = (event as IJobCompletedEvent).data;\n\t\t\t\t\t\tnewState.status = \"completed\";\n\t\t\t\t\t\tnewState.percentage = 100;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\tmessage: `Evaluation completed in ${Math.round(data.duration / 1000)}s`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\t// Preserve logs for display in Summary after completion\n\t\t\t\t\t\tsetEvaluationLogs(newState.logs);\n\t\t\t\t\t\t// Set the evaluation data\n\t\t\t\t\t\tsetEvaluationData(data.result);\n\t\t\t\t\t\tsetEvaluationMode(\"completed\");\n\t\t\t\t\t\t// Reset job state after a short delay (user is already at /evaluation/:jobId)\n\t\t\t\t\t\t// Clear any existing timeout first\n\t\t\t\t\t\tif (completionTimeoutRef.current) {\n\t\t\t\t\t\t\tclearTimeout(completionTimeoutRef.current);\n\t\t\t\t\t\t\tcompletionTimeoutRef.current = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcompletionTimeoutRef.current = setTimeout(() => {\n\t\t\t\t\t\t\tsetCurrentJobId(null);\n\t\t\t\t\t\t\tsetSSEUrl(null);\n\t\t\t\t\t\t\tsetProgressState(null);\n\t\t\t\t\t\t}, 100);\n\t\t\t\t\t\t// Refresh history to show new evaluation\n\t\t\t\t\t\thistoryApi.refresh();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"job.failed\": {\n\t\t\t\t\t\tconst data = (event as IJobFailedEvent).data;\n\t\t\t\t\t\tnewState.status = \"failed\";\n\t\t\t\t\t\tnewState.errorMessage = data.error?.message || \"Unknown error\";\n\t\t\t\t\t\tnewState.errorCode = data.error?.code;\n\t\t\t\t\t\tnewState.logs = [\n\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\t\t\tmessage: `Evaluation failed: ${data.error?.message || \"Unknown error\"}`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t\t// Keep evaluationMode as 'evaluating' so ProgressPanel stays visible\n\t\t\t\t\t\t// User can dismiss manually with the \"Try Again\" button\n\t\t\t\t\t\t// Refresh history to show failed evaluation\n\t\t\t\t\t\thistoryApi.refresh();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Keep only last 50 logs\n\t\t\t\tif (newState.logs.length > 50) {\n\t\t\t\t\tnewState.logs = newState.logs.slice(-50);\n\t\t\t\t}\n\n\t\t\t\treturn newState;\n\t\t\t});\n\t\t},\n\t\t[historyApi],\n\t);\n\n\t// SSE connection\n\tuseSSE({\n\t\turl: sseUrl,\n\t\tonMessage: handleProgressEvent,\n\t\tonOpen: () => {\n\t\t\tsetProgressState((prev) =>\n\t\t\t\tprev\n\t\t\t\t\t? {\n\t\t\t\t\t\t\t...prev,\n\t\t\t\t\t\t\tlogs: [\n\t\t\t\t\t\t\t\t...prev.logs,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\t\t\tmessage: \"Connected to progress stream\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t}\n\t\t\t\t\t: prev,\n\t\t\t);\n\t\t},\n\t});\n\n\t// Cleanup completion timeout on unmount\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tif (completionTimeoutRef.current) {\n\t\t\t\tclearTimeout(completionTimeoutRef.current);\n\t\t\t\tcompletionTimeoutRef.current = null;\n\t\t\t}\n\t\t};\n\t}, []);\n\n\t// Handle URL submission\n\tconst handleUrlSubmit = useCallback(\n\t\tasync (\n\t\t\turl: string,\n\t\t\tevaluators: number,\n\t\t\tprovider?: ProviderName,\n\t\t\tevaluatorFilter?: EvaluatorFilter,\n\t\t\tconcurrency?: number,\n\t\t\tselectedEvaluators?: string[],\n\t\t) => {\n\t\t\tsetEvaluationMode(\"evaluating\");\n\t\t\tsetApiError(null);\n\t\t\tsetCurrentRepositoryUrl(url);\n\t\t\tsetEvaluationLogs([]); // Clear previous logs when starting new evaluation\n\n\t\t\ttry {\n\t\t\t\tconst response = await api.submitJob(\n\t\t\t\t\turl,\n\t\t\t\t\tevaluators,\n\t\t\t\t\tprovider,\n\t\t\t\t\tevaluatorFilter,\n\t\t\t\t\tundefined,\n\t\t\t\t\tconcurrency,\n\t\t\t\t\tselectedEvaluators,\n\t\t\t\t);\n\t\t\t\tsetCurrentJobId(response.jobId);\n\t\t\t\tsetSSEUrl(response.sseUrl);\n\n\t\t\t\t// Initialize progress state\n\t\t\t\tsetProgressState({\n\t\t\t\t\tstatus: \"queued\",\n\t\t\t\t\trepositoryUrl: url,\n\t\t\t\t\ttotalFiles: 0,\n\t\t\t\t\tcompletedFiles: 0,\n\t\t\t\t\ttotalEvaluators: getFilteredEvaluatorCount(\n\t\t\t\t\t\tevaluatorFilter || \"all\",\n\t\t\t\t\t\tevaluators,\n\t\t\t\t\t\tselectedEvaluators?.length,\n\t\t\t\t\t),\n\t\t\t\t\tcompletedEvaluators: 0,\n\t\t\t\t\tpercentage: 0,\n\t\t\t\t\tstartTime: new Date(),\n\t\t\t\t\tlogs: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\tmessage: \"Evaluation job submitted\",\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t});\n\n\t\t\t\t// Navigate immediately to the evaluation URL\n\t\t\t\tnavigate(`/evaluation/${response.jobId}`);\n\t\t\t} catch (error) {\n\t\t\t\tsetEvaluationMode(\"idle\");\n\t\t\t\tsetApiError(\n\t\t\t\t\terror instanceof Error\n\t\t\t\t\t\t? error.message\n\t\t\t\t\t\t: \"Failed to submit evaluation job\",\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[api, navigate],\n\t);\n\n\t// Handle batch URL submission\n\tconst handleBatchSubmit = useCallback(\n\t\tasync (\n\t\t\turls: string[],\n\t\t\t_evaluators: number,\n\t\t\tprovider?: ProviderName,\n\t\t\tevaluatorFilter?: EvaluatorFilter,\n\t\t\tconcurrency?: number,\n\t\t\tselectedEvaluators?: string[],\n\t\t) => {\n\t\t\tsetApiError(null);\n\t\t\ttry {\n\t\t\t\tconst response = await api.submitBatch(\n\t\t\t\t\turls,\n\t\t\t\t\tundefined,\n\t\t\t\t\tprovider,\n\t\t\t\t\tevaluatorFilter,\n\t\t\t\t\tundefined,\n\t\t\t\t\tconcurrency,\n\t\t\t\t\tselectedEvaluators,\n\t\t\t\t);\n\t\t\t\tnavigate(`/batch/${response.batchId}`);\n\t\t\t} catch (error) {\n\t\t\t\tsetApiError(\n\t\t\t\t\terror instanceof Error\n\t\t\t\t\t\t? error.message\n\t\t\t\t\t\t: \"Failed to submit batch evaluation\",\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[api, navigate],\n\t);\n\n\t// Handle job cancellation\n\tconst handleCancelJob = useCallback(async () => {\n\t\tif (currentJobId) {\n\t\t\tawait api.cancelJob(currentJobId);\n\t\t}\n\t\tsetEvaluationMode(\"idle\");\n\t\tsetProgressState(null);\n\t\tsetCurrentJobId(null);\n\t\tsetSSEUrl(null);\n\t}, [currentJobId, api]);\n\n\t// Handle dismissing failed evaluation (Try Again)\n\tconst handleDismissFailure = useCallback(() => {\n\t\tsetEvaluationMode(\"idle\");\n\t\tsetProgressState(null);\n\t\tsetCurrentJobId(null);\n\t\tsetSSEUrl(null);\n\t}, []);\n\n\t// Load evaluation from URL on mount or when URL changes\n\t// Handles both active jobs (reconnect SSE) and completed evaluations (load from database)\n\t// biome-ignore lint/correctness/useExhaustiveDependencies: handleFileLoad is intentionally excluded - we want the latest version but don't want it to trigger re-runs\n\tuseEffect(() => {\n\t\tif (!urlEvaluationId) return;\n\t\tif (evaluationData && evaluationMode === \"completed\") return; // Already loaded\n\t\tif (evaluationMode === \"evaluating\") return; // Currently evaluating\n\n\t\tconst loadEvaluationById = async () => {\n\t\t\tsetIsLoadingFromUrl(true);\n\t\t\tsetApiError(null);\n\n\t\t\ttry {\n\t\t\t\t// Step 1: Check if it's an active job\n\t\t\t\tconst jobStatus = await api.getJobStatus(urlEvaluationId);\n\n\t\t\t\tif (jobStatus.status === \"completed\" && jobStatus.result) {\n\t\t\t\t\t// Job completed, result in memory - use it directly\n\t\t\t\t\thandleFileLoad(jobStatus.result);\n\t\t\t\t\tsetCurrentRepositoryUrl(jobStatus.repositoryUrl || null);\n\t\t\t\t\tsetEvaluationMode(\"completed\");\n\t\t\t\t\t// Load feedback, bookmarks, and selections\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst feedback =\n\t\t\t\t\t\t\tawait feedbackApi.getFeedbackForEvaluation(urlEvaluationId);\n\t\t\t\t\t\tsetFeedbackMap(feedback);\n\t\t\t\t\t\tif (!cloudMode) {\n\t\t\t\t\t\t\tconst bookmarks =\n\t\t\t\t\t\t\t\tawait bookmarkApi.getBookmarksForEvaluation(urlEvaluationId);\n\t\t\t\t\t\t\tsetBookmarkSet(bookmarks);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst selections =\n\t\t\t\t\t\t\tawait selectionApi.getSelectionsForEvaluation(urlEvaluationId);\n\t\t\t\t\t\tsetSelectedIssueKeys(selections);\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error(\"Failed to load metadata:\", err);\n\t\t\t\t\t}\n\t\t\t\t\tsetIsLoadingFromUrl(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (jobStatus.status === \"failed\") {\n\t\t\t\t\tsetApiError(jobStatus.error?.message || \"Evaluation failed\");\n\t\t\t\t\tsetIsLoadingFromUrl(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Active job (running or queued) - reconnect SSE\n\t\t\t\tif (jobStatus.status === \"running\" || jobStatus.status === \"queued\") {\n\t\t\t\t\tsetCurrentJobId(urlEvaluationId);\n\t\t\t\t\tconst sseUrlValue = jobStatus.sseUrl?.startsWith(\"/\")\n\t\t\t\t\t\t? `${window.location.origin}${jobStatus.sseUrl}`\n\t\t\t\t\t\t: jobStatus.sseUrl || null;\n\t\t\t\t\tsetSSEUrl(sseUrlValue);\n\t\t\t\t\tsetCurrentRepositoryUrl(jobStatus.repositoryUrl || null);\n\t\t\t\t\tsetEvaluationMode(\"evaluating\");\n\n\t\t\t\t\t// Convert server logs to frontend format, or use default message\n\t\t\t\t\tconst historicalLogs = jobStatus.logs?.length\n\t\t\t\t\t\t? jobStatus.logs.map((log) => ({\n\t\t\t\t\t\t\t\ttimestamp: new Date(log.timestamp),\n\t\t\t\t\t\t\t\ttype: log.type,\n\t\t\t\t\t\t\t\tmessage: log.message,\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: new Date(),\n\t\t\t\t\t\t\t\t\ttype: \"info\" as const,\n\t\t\t\t\t\t\t\t\tmessage: \"Reconnected to evaluation in progress\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\n\t\t\t\t\t// Calculate progress percentage\n\t\t\t\t\tlet percentage = 0;\n\t\t\t\t\tif (jobStatus.progress?.totalEvaluators) {\n\t\t\t\t\t\tpercentage = Math.round(\n\t\t\t\t\t\t\t((jobStatus.progress.completedEvaluators || 0) /\n\t\t\t\t\t\t\t\tjobStatus.progress.totalEvaluators) *\n\t\t\t\t\t\t\t\t100,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Initialize progress state from job with historical logs\n\t\t\t\t\tsetProgressState({\n\t\t\t\t\t\tstatus: jobStatus.status,\n\t\t\t\t\t\trepositoryUrl: jobStatus.repositoryUrl || \"Unknown\",\n\t\t\t\t\t\ttotalFiles: jobStatus.progress?.totalFiles || 0,\n\t\t\t\t\t\tcompletedFiles: jobStatus.progress?.completedFiles || 0,\n\t\t\t\t\t\ttotalEvaluators: jobStatus.progress?.totalEvaluators || 0,\n\t\t\t\t\t\tcompletedEvaluators: jobStatus.progress?.completedEvaluators || 0,\n\t\t\t\t\t\tcurrentEvaluator: jobStatus.progress?.currentEvaluator,\n\t\t\t\t\t\tpercentage,\n\t\t\t\t\t\tstartTime: new Date(jobStatus.startedAt || jobStatus.createdAt),\n\t\t\t\t\t\tlogs: historicalLogs,\n\t\t\t\t\t});\n\t\t\t\t\tsetIsLoadingFromUrl(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} catch {\n\t\t\t\t// Not an active job - try database\n\t\t\t\tconsole.log(\"[App] Not an active job, trying database\");\n\t\t\t}\n\n\t\t\t// Step 2: Try loading from database\n\t\t\ttry {\n\t\t\t\tconst record = await loadEvaluationRef.current(urlEvaluationId);\n\t\t\t\tif (record?.result) {\n\t\t\t\t\thandleFileLoad(record.result);\n\t\t\t\t\tsetCurrentRepositoryUrl(record.repositoryUrl);\n\t\t\t\t\tsetEvaluationMode(\"completed\");\n\t\t\t\t\t// Load feedback, bookmarks, and selections\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst feedback =\n\t\t\t\t\t\t\tawait feedbackApi.getFeedbackForEvaluation(urlEvaluationId);\n\t\t\t\t\t\tsetFeedbackMap(feedback);\n\t\t\t\t\t\tif (!cloudMode) {\n\t\t\t\t\t\t\tconst bookmarks =\n\t\t\t\t\t\t\t\tawait bookmarkApi.getBookmarksForEvaluation(urlEvaluationId);\n\t\t\t\t\t\t\tsetBookmarkSet(bookmarks);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst selections =\n\t\t\t\t\t\t\tawait selectionApi.getSelectionsForEvaluation(urlEvaluationId);\n\t\t\t\t\t\tsetSelectedIssueKeys(selections);\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error(\"Failed to load metadata:\", err);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsetApiError(\"Evaluation not found\");\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tsetApiError(\n\t\t\t\t\terr instanceof Error ? err.message : \"Failed to load evaluation\",\n\t\t\t\t);\n\t\t\t} finally {\n\t\t\t\tsetIsLoadingFromUrl(false);\n\t\t\t}\n\t\t};\n\n\t\tloadEvaluationById();\n\t}, [\n\t\turlEvaluationId,\n\t\tevaluationData,\n\t\tevaluationMode,\n\t\tapi,\n\t\tfeedbackApi,\n\t\tbookmarkApi,\n\t\tselectionApi,\n\t\tcloudMode,\n\t]);\n\n\t// Parse all issues from evaluation data\n\tconst allIssues = useMemo(() => {\n\t\tif (!evaluationData) return [];\n\n\t\tconst issues: Array<Issue & { evaluatorName?: string }> = [];\n\n\t\tif (isUnifiedFormat(evaluationData)) {\n\t\t\t// Unified format: results array\n\t\t\tconst unifiedData = evaluationData as UnifiedEvaluationOutput;\n\t\t\tfor (const result of unifiedData.results) {\n\t\t\t\tif (result.output && result.output.result) {\n\t\t\t\t\tconst parsedIssues = parseEvaluatorResult(result.output.result);\n\t\t\t\t\tparsedIssues.forEach((issue) => {\n\t\t\t\t\t\tissues.push({ ...issue, evaluatorName: result.evaluator });\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add top-level cross-file issues for unified format\n\t\t\tif (unifiedData.crossFileIssues) {\n\t\t\t\tissues.push(\n\t\t\t\t\t...unifiedData.crossFileIssues.map((issue) => ({\n\t\t\t\t\t\t...issue,\n\t\t\t\t\t\tevaluatorName: \"cross-file\",\n\t\t\t\t\t})),\n\t\t\t\t);\n\t\t\t}\n\t\t} else if (isIndependentFormat(evaluationData)) {\n\t\t\t// Independent format: files object\n\t\t\tconst independentData = evaluationData as IndependentEvaluationOutput;\n\t\t\tfor (const [_filePath, fileResult] of Object.entries(\n\t\t\t\tindependentData.files,\n\t\t\t)) {\n\t\t\t\tfor (const evaluation of fileResult.evaluations) {\n\t\t\t\t\tconst evalWithIssues = evaluation as {\n\t\t\t\t\t\tissues?: Issue[];\n\t\t\t\t\t\tevaluator: string;\n\t\t\t\t\t\toutput?: { result: string };\n\t\t\t\t\t};\n\t\t\t\t\t// Handle both formats:\n\t\t\t\t\t// 1. Backend API format: issues array directly on evaluation\n\t\t\t\t\t// 2. JSON file format: output.result as a string to parse\n\t\t\t\t\tif (\"issues\" in evaluation && Array.isArray(evalWithIssues.issues)) {\n\t\t\t\t\t\t// Backend API format - issues are already parsed\n\t\t\t\t\t\tconst evalIssues = evalWithIssues.issues;\n\t\t\t\t\t\tevalIssues.forEach((issue) => {\n\t\t\t\t\t\t\tissues.push({ ...issue, evaluatorName: evaluation.evaluator });\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (evaluation.output && evaluation.output.result) {\n\t\t\t\t\t\t// JSON file format - need to parse result string\n\t\t\t\t\t\tconst parsedIssues = parseEvaluatorResult(evaluation.output.result);\n\t\t\t\t\t\tparsedIssues.forEach((issue) => {\n\t\t\t\t\t\t\tissues.push({ ...issue, evaluatorName: evaluation.evaluator });\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add cross-file issues\n\t\t\tif (independentData.crossFileIssues) {\n\t\t\t\tissues.push(\n\t\t\t\t\t...independentData.crossFileIssues.map((issue) => ({\n\t\t\t\t\t\t...issue,\n\t\t\t\t\t\tevaluatorName: \"cross-file\",\n\t\t\t\t\t})),\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// Build issue key map for selection tracking\n\t\tconst keyMap = new Map<string, Issue>();\n\t\tissues.forEach((issue, index) => {\n\t\t\tconst key = generateIssueKey(issue, index);\n\t\t\tkeyMap.set(key, issue);\n\t\t});\n\t\tsetIssueKeyMap(keyMap);\n\n\t\treturn issues;\n\t}, [evaluationData]);\n\n\t// Get curated issues from impact curation (if available)\n\tconst curatedIssues = useMemo(() => {\n\t\tif (!evaluationData?.curation) return [];\n\n\t\tconst issues: Issue[] = [];\n\n\t\t// Add curated errors\n\t\tif (evaluationData.curation.errors?.curatedIssues) {\n\t\t\tissues.push(...evaluationData.curation.errors.curatedIssues);\n\t\t}\n\n\t\t// Add curated suggestions\n\t\tif (evaluationData.curation.suggestions?.curatedIssues) {\n\t\t\tissues.push(...evaluationData.curation.suggestions.curatedIssues);\n\t\t}\n\n\t\t// Fallback to legacy format\n\t\tif (issues.length === 0 && evaluationData.curation.curatedIssues) {\n\t\t\tissues.push(...evaluationData.curation.curatedIssues);\n\t\t}\n\n\t\treturn issues;\n\t}, [evaluationData]);\n\n\t// Get curation summary (if available)\n\tconst curationSummary = useMemo(() => {\n\t\treturn evaluationData?.curation?.summary || null;\n\t}, [evaluationData]);\n\n\t// Use curated issues when available, otherwise display all issues\n\tconst displayIssues = useMemo(() => {\n\t\treturn curatedIssues.length > 0 ? curatedIssues : allIssues;\n\t}, [curatedIssues, allIssues]);\n\n\t// Calculate severity counts from displayed issues\n\tconst { highCount, mediumCount } = useMemo(() => {\n\t\tconst counts = { high: 0, medium: 0 };\n\t\tdisplayIssues.forEach((issue) => {\n\t\t\tconst numericSeverity = getIssueSeverity(issue);\n\t\t\tconst level = getSeverityLevel(numericSeverity);\n\t\t\tif (level === \"high\") counts.high++;\n\t\t\telse if (level === \"medium\") counts.medium++;\n\t\t});\n\t\treturn {\n\t\t\thighCount: counts.high,\n\t\t\tmediumCount: counts.medium,\n\t\t};\n\t}, [displayIssues]);\n\n\t// Calculate issue type counts (errors vs suggestions) from displayed issues\n\tconst { errorCount, suggestionCount } = useMemo(() => {\n\t\tconst counts = { error: 0, suggestion: 0 };\n\t\tdisplayIssues.forEach((issue) => {\n\t\t\tconst type = getIssueType(issue);\n\t\t\tcounts[type]++;\n\t\t});\n\t\treturn { errorCount: counts.error, suggestionCount: counts.suggestion };\n\t}, [displayIssues]);\n\n\t// Determine active tab with smart defaults and backward compatibility\n\tconst activeTab = useMemo(() => {\n\t\t// Backward compatibility: redirect \"issues\" to \"errors\"\n\t\tif (rawTab === \"issues\") {\n\t\t\thandleTabChange(\"errors\");\n\t\t\treturn \"errors\";\n\t\t}\n\n\t\t// If tab is specified, use it\n\t\tif (rawTab) {\n\t\t\treturn rawTab;\n\t\t}\n\n\t\t// Smart defaults when no tab is specified\n\t\tif (!evaluationData) {\n\t\t\treturn \"summary\";\n\t\t}\n\n\t\tif (errorCount > 0) {\n\t\t\treturn \"errors\";\n\t\t}\n\n\t\tif (suggestionCount > 0) {\n\t\t\treturn \"suggestions\";\n\t\t}\n\n\t\treturn \"summary\";\n\t}, [rawTab, evaluationData, errorCount, suggestionCount, handleTabChange]);\n\n\t// Split issues by type for tab-aware filtering\n\tconst errorIssues = useMemo(\n\t\t() => allIssues.filter((issue) => getIssueType(issue) === \"error\"),\n\t\t[allIssues],\n\t);\n\n\tconst suggestionIssues = useMemo(\n\t\t() => allIssues.filter((issue) => getIssueType(issue) === \"suggestion\"),\n\t\t[allIssues],\n\t);\n\n\t// Get base issues based on active tab\n\tconst baseIssues = useMemo(() => {\n\t\tif (activeTab === \"errors\") return errorIssues;\n\t\tif (activeTab === \"suggestions\") return suggestionIssues;\n\t\treturn displayIssues; // Fallback for non-issue tabs\n\t}, [activeTab, errorIssues, suggestionIssues, displayIssues]);\n\n\t// Calculate per-file vs cross-file issue counts\n\tconst { perFileIssueCount, crossFileIssueCount } = useMemo(() => {\n\t\tif (!evaluationData)\n\t\t\treturn { perFileIssueCount: 0, crossFileIssueCount: 0 };\n\n\t\tif (isIndependentFormat(evaluationData)) {\n\t\t\tconst independentData = evaluationData as IndependentEvaluationOutput;\n\t\t\tconst crossFile = independentData.crossFileIssues?.length || 0;\n\t\t\tconst perFile = allIssues.length - crossFile;\n\t\t\treturn { perFileIssueCount: perFile, crossFileIssueCount: crossFile };\n\t\t}\n\n\t\t// For unified format, all issues are considered per-file\n\t\treturn { perFileIssueCount: allIssues.length, crossFileIssueCount: 0 };\n\t}, [evaluationData, allIssues]);\n\n\t// Extract unique categories\n\tconst availableCategories = useMemo(() => {\n\t\tconst categories = new Set<string>();\n\n\t\tallIssues.forEach((issue) => {\n\t\t\tif (issue.category) categories.add(issue.category);\n\t\t});\n\n\t\treturn Array.from(categories).sort();\n\t}, [allIssues]);\n\n\t// Calculate counts per filter option (based on baseIssues to respect tab selection)\n\tconst filterOptionCounts = useMemo((): FilterOptionCounts => {\n\t\tconst counts: FilterOptionCounts = {\n\t\t\tseverities: { high: 0, medium: 0, low: 0 },\n\t\t\tcategories: {},\n\t\t};\n\n\t\tbaseIssues.forEach((issue) => {\n\t\t\t// Severity\n\t\t\tconst numericSeverity = getIssueSeverity(issue);\n\t\t\tconst level = getSeverityLevel(numericSeverity);\n\t\t\tif (level === \"high\") counts.severities.high++;\n\t\t\telse if (level === \"medium\") counts.severities.medium++;\n\t\t\telse if (level === \"low\") counts.severities.low++;\n\n\t\t\t// Category\n\t\t\tif (issue.category) {\n\t\t\t\tcounts.categories[issue.category] =\n\t\t\t\t\t(counts.categories[issue.category] || 0) + 1;\n\t\t\t}\n\t\t});\n\n\t\treturn counts;\n\t}, [baseIssues]);\n\n\t// Filter issues based on active filters (using baseIssues which respects tab selection)\n\tconst filteredIssues = useMemo(() => {\n\t\treturn baseIssues.filter((issue) => {\n\t\t\t// Bookmark filter (check first for early return)\n\t\t\tif (filters.bookmarkedOnly) {\n\t\t\t\tconst issueHash = generateIssueHash(issue);\n\t\t\t\tif (!bookmarkSet.has(issueHash)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Severity filter\n\t\t\tif (filters.severities.size > 0) {\n\t\t\t\tconst numericSeverity = getIssueSeverity(issue);\n\t\t\t\tconst severityLevel = getSeverityLevel(numericSeverity);\n\t\t\t\tif (!filters.severities.has(severityLevel)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Category filter\n\t\t\tif (filters.categories.size > 0 && issue.category) {\n\t\t\t\tif (!filters.categories.has(issue.category)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Search text filter\n\t\t\tif (filters.searchText) {\n\t\t\t\tconst searchLower = filters.searchText.toLowerCase();\n\t\t\t\tconst searchableText = [\n\t\t\t\t\tissue.description, // Primary issue description\n\t\t\t\t\tissue.problem, // Fallback issue description\n\t\t\t\t\tissue.title, // Secondary title field\n\t\t\t\t]\n\t\t\t\t\t.filter(Boolean)\n\t\t\t\t\t.join(\" \")\n\t\t\t\t\t.toLowerCase();\n\n\t\t\t\tif (!searchableText.includes(searchLower)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\t}, [baseIssues, filters, bookmarkSet]);\n\n\t// Calculate filtered counts for tab badges\n\tconst filteredErrorsCount = useMemo(() => {\n\t\tif (activeTab !== \"errors\") return errorIssues.length;\n\t\treturn filteredIssues.length;\n\t}, [activeTab, errorIssues.length, filteredIssues.length]);\n\n\tconst filteredSuggestionsCount = useMemo(() => {\n\t\tif (activeTab !== \"suggestions\") return suggestionIssues.length;\n\t\treturn filteredIssues.length;\n\t}, [activeTab, suggestionIssues.length, filteredIssues.length]);\n\n\t// Calculate bookmarked count for FilterPanel badge\n\tconst bookmarkedCount = useMemo(() => {\n\t\treturn baseIssues.filter((issue) => {\n\t\t\tconst issueHash = generateIssueHash(issue);\n\t\t\treturn bookmarkSet.has(issueHash);\n\t\t}).length;\n\t}, [baseIssues, bookmarkSet]);\n\n\t// Group issues by file for display\n\tconst groupedIssues = useMemo(() => {\n\t\tconst grouped: Record<string, Issue[]> = {\n\t\t\t__cross_file__: [], // Special key for cross-file issues\n\t\t};\n\n\t\tfor (const issue of filteredIssues) {\n\t\t\tconst file = getIssueFile(issue);\n\n\t\t\tif (file === null) {\n\t\t\t\t// Cross-file or no-file issue\n\t\t\t\tgrouped.__cross_file__.push(issue);\n\t\t\t} else {\n\t\t\t\tif (!grouped[file]) {\n\t\t\t\t\tgrouped[file] = [];\n\t\t\t\t}\n\t\t\t\tgrouped[file].push(issue);\n\t\t\t}\n\t\t}\n\n\t\t// Remove cross-file section if empty\n\t\tif (grouped.__cross_file__.length === 0) {\n\t\t\tdelete grouped.__cross_file__;\n\t\t}\n\n\t\treturn grouped;\n\t}, [filteredIssues]);\n\n\t// Sort grouped issues: cross-file first, then by max severity, then alphabetically\n\tconst sortedGroupedIssues = useMemo(() => {\n\t\tconst entries = Object.entries(groupedIssues);\n\n\t\t// Separate cross-file from regular files\n\t\tconst crossFileEntry = entries.find(([key]) => key === \"__cross_file__\");\n\t\tconst fileEntries = entries.filter(([key]) => key !== \"__cross_file__\");\n\n\t\t// Sort file entries by max severity desc, then alphabetically\n\t\tfileEntries.sort(([fileA, issuesA], [fileB, issuesB]) => {\n\t\t\tconst maxSeverityA = getMaxIssueSeverity(issuesA);\n\t\t\tconst maxSeverityB = getMaxIssueSeverity(issuesB);\n\n\t\t\tif (maxSeverityA !== maxSeverityB) {\n\t\t\t\treturn maxSeverityB - maxSeverityA;\n\t\t\t}\n\n\t\t\treturn fileA.localeCompare(fileB);\n\t\t});\n\n\t\t// Return cross-file first, then sorted files\n\t\treturn crossFileEntry ? [crossFileEntry, ...fileEntries] : fileEntries;\n\t}, [groupedIssues]);\n\n\t// Determine if we should use nested grouping (file -> evaluator -> issues)\n\t// Only use nested grouping when no filters are active\n\tconst shouldUseNestedGrouping = useMemo(\n\t\t() => checkShouldUseNestedGrouping(filters),\n\t\t[filters],\n\t);\n\n\t// Group issues by file, then by category within each file\n\tconst nestedGroupedIssues = useMemo(() => {\n\t\tif (!shouldUseNestedGrouping) return null;\n\n\t\tconst grouped: Record<string, CategoryGroup[]> = {};\n\n\t\t// First, group by file\n\t\tfor (const issue of filteredIssues) {\n\t\t\tconst file = getIssueFile(issue);\n\t\t\tconst fileKey = file === null ? \"__cross_file__\" : file;\n\n\t\t\tif (!grouped[fileKey]) {\n\t\t\t\tgrouped[fileKey] = [];\n\t\t\t}\n\t\t}\n\n\t\t// Then, within each file, group by category\n\t\tfor (const issue of filteredIssues) {\n\t\t\tconst file = getIssueFile(issue);\n\t\t\tconst fileKey = file === null ? \"__cross_file__\" : file;\n\t\t\tconst categoryName = issue.category || \"Unknown\";\n\n\t\t\t// Find or create category group\n\t\t\tlet categoryGroup = grouped[fileKey].find(\n\t\t\t\t(g) => g.categoryName === categoryName,\n\t\t\t);\n\n\t\t\tif (!categoryGroup) {\n\t\t\t\tcategoryGroup = {\n\t\t\t\t\tcategoryName,\n\t\t\t\t\tissues: [],\n\t\t\t\t\tmaxSeverity: 0,\n\t\t\t\t};\n\t\t\t\tgrouped[fileKey].push(categoryGroup);\n\t\t\t}\n\n\t\t\tcategoryGroup.issues.push(issue);\n\t\t}\n\n\t\t// Calculate max severity for each category group and sort issues\n\t\tfor (const fileKey in grouped) {\n\t\t\tfor (const group of grouped[fileKey]) {\n\t\t\t\tgroup.maxSeverity = getMaxIssueSeverity(group.issues);\n\t\t\t\t// Sort issues within category group by severity (descending)\n\t\t\t\tgroup.issues.sort((a, b) => getIssueSeverity(b) - getIssueSeverity(a));\n\t\t\t}\n\n\t\t\t// Sort category groups by max severity (descending)\n\t\t\tgrouped[fileKey].sort((a, b) => b.maxSeverity - a.maxSeverity);\n\t\t}\n\n\t\t// Remove cross-file section if empty\n\t\tif (grouped.__cross_file__ && grouped.__cross_file__.length === 0) {\n\t\t\tdelete grouped.__cross_file__;\n\t\t}\n\n\t\treturn grouped;\n\t}, [shouldUseNestedGrouping, filteredIssues]);\n\n\t// Sort file groups by max severity across all categories\n\tconst sortedFileGroups = useMemo(() => {\n\t\t// If not using nested grouping, return the existing sorted groups\n\t\tif (!shouldUseNestedGrouping || !nestedGroupedIssues) {\n\t\t\treturn sortedGroupedIssues;\n\t\t}\n\n\t\tconst entries = Object.entries(nestedGroupedIssues);\n\n\t\t// Separate cross-file from regular files\n\t\tconst crossFileEntry = entries.find(([key]) => key === \"__cross_file__\");\n\t\tconst fileEntries = entries.filter(([key]) => key !== \"__cross_file__\");\n\n\t\t// Sort file entries by max severity across all categories\n\t\tfileEntries.sort(([fileA, groupsA], [fileB, groupsB]) => {\n\t\t\tconst maxSeverityA = getMaxCategoryGroupSeverity(groupsA);\n\t\t\tconst maxSeverityB = getMaxCategoryGroupSeverity(groupsB);\n\n\t\t\tif (maxSeverityA !== maxSeverityB) {\n\t\t\t\treturn maxSeverityB - maxSeverityA;\n\t\t\t}\n\n\t\t\treturn fileA.localeCompare(fileB);\n\t\t});\n\n\t\t// Return cross-file first, then sorted files\n\t\treturn crossFileEntry ? [crossFileEntry, ...fileEntries] : fileEntries;\n\t}, [shouldUseNestedGrouping, nestedGroupedIssues, sortedGroupedIssues]);\n\n\tconst handleFileLoad = (data: EvaluationOutput) => {\n\t\t// Aggregate cost and duration data from evaluator results\n\t\tif (isUnifiedFormat(data)) {\n\t\t\tconst unifiedData = data as UnifiedEvaluationOutput;\n\t\t\tlet totalCostUsd = 0;\n\t\t\tlet totalDurationMs = 0;\n\t\t\tlet totalInputTokens = 0;\n\t\t\tlet totalOutputTokens = 0;\n\t\t\tlet totalCacheCreationTokens = 0;\n\t\t\tlet totalCacheReadTokens = 0;\n\n\t\t\tfor (const result of unifiedData.results) {\n\t\t\t\tif (result.output) {\n\t\t\t\t\ttotalCostUsd += result.output.total_cost_usd || 0;\n\t\t\t\t\ttotalDurationMs += result.output.duration_ms || 0;\n\t\t\t\t\ttotalInputTokens += result.output.usage.input_tokens || 0;\n\t\t\t\t\ttotalOutputTokens += result.output.usage.output_tokens || 0;\n\t\t\t\t\ttotalCacheCreationTokens +=\n\t\t\t\t\t\tresult.output.usage.cache_creation_input_tokens || 0;\n\t\t\t\t\ttotalCacheReadTokens +=\n\t\t\t\t\t\tresult.output.usage.cache_read_input_tokens || 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add aggregated data to metadata\n\t\t\tunifiedData.metadata.totalCostUsd = totalCostUsd;\n\t\t\tunifiedData.metadata.totalDurationMs = totalDurationMs;\n\t\t\tunifiedData.metadata.totalInputTokens = totalInputTokens;\n\t\t\tunifiedData.metadata.totalOutputTokens = totalOutputTokens;\n\t\t\tunifiedData.metadata.totalCacheCreationTokens = totalCacheCreationTokens;\n\t\t\tunifiedData.metadata.totalCacheReadTokens = totalCacheReadTokens;\n\t\t}\n\n\t\tsetEvaluationData(data);\n\t\t// Reset filters and selections when new data is loaded\n\t\tsetFilters({\n\t\t\tseverities: new Set(),\n\t\t\tcategories: new Set(),\n\t\t\tevaluators: new Set(),\n\t\t\tsearchText: \"\",\n\t\t\tbookmarkedOnly: false,\n\t\t});\n\t\tsetSelectedIssueKeys(new Set());\n\t};\n\n\tconst handleClear = useCallback(() => {\n\t\t// Clear selections in DB before resetting state\n\t\tif (currentEvaluationId) {\n\t\t\tselectionApi\n\t\t\t\t.clearSelections(currentEvaluationId)\n\t\t\t\t.catch((err) =>\n\t\t\t\t\tconsole.error(\"Failed to clear selections on reset:\", err),\n\t\t\t\t);\n\t\t}\n\t\tsetEvaluationData(null);\n\t\tsetEvaluationMode(\"idle\");\n\t\tsetApiError(null);\n\t\tsetCurrentRepositoryUrl(null);\n\t\tsetEvaluationLogs([]); // Clear logs when clearing\n\t\tsetFilters({\n\t\t\tseverities: new Set(),\n\t\t\tcategories: new Set(),\n\t\t\tevaluators: new Set(),\n\t\t\tsearchText: \"\",\n\t\t\tbookmarkedOnly: false,\n\t\t});\n\t\tsetSelectedIssueKeys(new Set());\n\t\tsetBookmarkSet(new Set());\n\t\t// Navigate to root\n\t\tnavigate(\"/\");\n\t}, [navigate, currentEvaluationId, selectionApi]);\n\n\tconst handleDeleteEvaluation = useCallback(async () => {\n\t\tif (currentEvaluationId) {\n\t\t\tawait historyApi.deleteEvaluation(currentEvaluationId);\n\t\t\thandleClear();\n\t\t}\n\t}, [currentEvaluationId, historyApi, handleClear]);\n\n\t// Issue selection handlers\n\tconst handleToggleIssueSelection = useCallback(\n\t\t(key: string, _issue: Issue) => {\n\t\t\tsetSelectedIssueKeys((prev) => {\n\t\t\t\tconst newSet = new Set(prev);\n\t\t\t\tconst isRemoving = newSet.has(key);\n\t\t\t\tif (isRemoving) {\n\t\t\t\t\tnewSet.delete(key);\n\t\t\t\t} else {\n\t\t\t\t\tnewSet.add(key);\n\t\t\t\t}\n\t\t\t\t// Persist to DB (fire-and-forget)\n\t\t\t\tif (currentEvaluationId) {\n\t\t\t\t\tif (isRemoving) {\n\t\t\t\t\t\tselectionApi\n\t\t\t\t\t\t\t.removeSelection(currentEvaluationId, key)\n\t\t\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\t\t\tconsole.error(\"Failed to persist selection removal:\", err),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselectionApi\n\t\t\t\t\t\t\t.addSelections(currentEvaluationId, [key])\n\t\t\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\t\t\tconsole.error(\"Failed to persist selection add:\", err),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn newSet;\n\t\t\t});\n\t\t},\n\t\t[currentEvaluationId, selectionApi],\n\t);\n\n\tconst handleClearSelection = useCallback(() => {\n\t\tsetSelectedIssueKeys(new Set());\n\t\tif (currentEvaluationId) {\n\t\t\tselectionApi\n\t\t\t\t.clearSelections(currentEvaluationId)\n\t\t\t\t.catch((err) =>\n\t\t\t\t\tconsole.error(\"Failed to persist selection clear:\", err),\n\t\t\t\t);\n\t\t}\n\t}, [currentEvaluationId, selectionApi]);\n\n\tconst handleFeedback = useCallback(\n\t\tasync (issueHash: string, feedbackType: \"like\" | \"dislike\" | null) => {\n\t\t\tif (!currentEvaluationId) return;\n\n\t\t\t// Find the issue by hash to get the evaluator name\n\t\t\tconst issue = allIssues.find((i) => generateIssueHash(i) === issueHash);\n\t\t\tif (!issue) return;\n\n\t\t\tconst newMap = new Map(feedbackMap);\n\n\t\t\ttry {\n\t\t\t\tif (feedbackType === null) {\n\t\t\t\t\t// Remove feedback\n\t\t\t\t\tawait feedbackApi.removeFeedback(currentEvaluationId, issueHash);\n\t\t\t\t\tnewMap.delete(issueHash);\n\t\t\t\t} else {\n\t\t\t\t\t// Submit feedback\n\t\t\t\t\tawait feedbackApi.submitFeedback(\n\t\t\t\t\t\tcurrentEvaluationId,\n\t\t\t\t\t\tissueHash,\n\t\t\t\t\t\tissue.evaluatorName || \"unknown\",\n\t\t\t\t\t\tfeedbackType,\n\t\t\t\t\t);\n\t\t\t\t\tnewMap.set(issueHash, feedbackType);\n\t\t\t\t}\n\n\t\t\t\tsetFeedbackMap(newMap);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Failed to update feedback:\", error);\n\t\t\t}\n\t\t},\n\t\t[currentEvaluationId, allIssues, feedbackMap, feedbackApi],\n\t);\n\n\tconst handleBookmarkToggle = useCallback(\n\t\tasync (issueHash: string) => {\n\t\t\t// Early return in cloud mode (no-op)\n\t\t\tif (cloudMode) return;\n\n\t\t\tif (!currentEvaluationId) return;\n\n\t\t\tconst issue = allIssues.find((i) => generateIssueHash(i) === issueHash);\n\t\t\tif (!issue) return;\n\n\t\t\tconst newSet = new Set(bookmarkSet);\n\n\t\t\ttry {\n\t\t\t\tif (bookmarkSet.has(issueHash)) {\n\t\t\t\t\tawait bookmarkApi.removeBookmark(currentEvaluationId, issueHash);\n\t\t\t\t\tnewSet.delete(issueHash);\n\t\t\t\t} else {\n\t\t\t\t\tawait bookmarkApi.addBookmark(\n\t\t\t\t\t\tcurrentEvaluationId,\n\t\t\t\t\t\tissueHash,\n\t\t\t\t\t\tissue.evaluatorName || \"unknown\",\n\t\t\t\t\t);\n\t\t\t\t\tnewSet.add(issueHash);\n\t\t\t\t}\n\n\t\t\t\tsetBookmarkSet(newSet);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Failed to toggle bookmark:\", error);\n\t\t\t}\n\t\t},\n\t\t[currentEvaluationId, allIssues, bookmarkSet, bookmarkApi, cloudMode],\n\t);\n\n\tconst handleSelectAllInGroup = useCallback(\n\t\t(issues: Issue[]) => {\n\t\t\tconst keysToAdd: string[] = [];\n\t\t\tsetSelectedIssueKeys((prev) => {\n\t\t\t\tconst newSet = new Set(prev);\n\t\t\t\tfor (const issue of issues) {\n\t\t\t\t\tconst globalIndex = allIssues.indexOf(issue);\n\t\t\t\t\tif (globalIndex >= 0) {\n\t\t\t\t\t\tconst key = generateIssueKey(issue, globalIndex);\n\t\t\t\t\t\tif (!newSet.has(key)) {\n\t\t\t\t\t\t\tkeysToAdd.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewSet.add(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn newSet;\n\t\t\t});\n\t\t\t// Persist new keys to DB (fire-and-forget)\n\t\t\tif (currentEvaluationId && keysToAdd.length > 0) {\n\t\t\t\tselectionApi\n\t\t\t\t\t.addSelections(currentEvaluationId, keysToAdd)\n\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\tconsole.error(\"Failed to persist group selection:\", err),\n\t\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[allIssues, currentEvaluationId, selectionApi],\n\t);\n\n\tconst handleReviewSelected = useCallback(() => {\n\t\thandleTabChange(\"remediate\");\n\t}, [handleTabChange]);\n\n\tconst handleAddAllToRemediation = useCallback(\n\t\t(issues: (Issue & { evaluatorName?: string })[]) => {\n\t\t\tconst keysToAdd: string[] = [];\n\t\t\tsetSelectedIssueKeys((prev) => {\n\t\t\t\tconst newSet = new Set(prev);\n\t\t\t\tfor (const issue of issues) {\n\t\t\t\t\tconst globalIndex = allIssues.indexOf(issue);\n\t\t\t\t\tif (globalIndex >= 0) {\n\t\t\t\t\t\tconst key = generateIssueKey(issue, globalIndex);\n\t\t\t\t\t\tif (!newSet.has(key)) {\n\t\t\t\t\t\t\tkeysToAdd.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewSet.add(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn newSet;\n\t\t\t});\n\t\t\t// Persist new keys to DB (fire-and-forget)\n\t\t\tif (currentEvaluationId && keysToAdd.length > 0) {\n\t\t\t\tselectionApi\n\t\t\t\t\t.addSelections(currentEvaluationId, keysToAdd)\n\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\tconsole.error(\"Failed to persist add-all selection:\", err),\n\t\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[allIssues, currentEvaluationId, selectionApi],\n\t);\n\n\tconst handleRemoveIssueFromRemediation = useCallback(\n\t\t(key: string) => {\n\t\t\tsetSelectedIssueKeys((prev) => {\n\t\t\t\tconst newSet = new Set(prev);\n\t\t\t\tnewSet.delete(key);\n\t\t\t\treturn newSet;\n\t\t\t});\n\t\t\tif (currentEvaluationId) {\n\t\t\t\tselectionApi\n\t\t\t\t\t.removeSelection(currentEvaluationId, key)\n\t\t\t\t\t.catch((err) =>\n\t\t\t\t\t\tconsole.error(\"Failed to persist issue removal:\", err),\n\t\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[currentEvaluationId, selectionApi],\n\t);\n\n\t// Tab configuration\n\tconst tabs: TabItem[] = useMemo(() => {\n\t\tconst baseTabs: TabItem[] = [\n\t\t\t{\n\t\t\t\tid: \"summary\",\n\t\t\t\tlabel: \"Summary\",\n\t\t\t\ticon: (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"errors\",\n\t\t\t\tlabel: \"Errors\",\n\t\t\t\ticon: (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t),\n\t\t\t\tcount: filteredErrorsCount,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"suggestions\",\n\t\t\t\tlabel: \"Suggestions\",\n\t\t\t\ticon: (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t),\n\t\t\t\tcount: filteredSuggestionsCount,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"remediate\",\n\t\t\t\tlabel: \"Remediate\",\n\t\t\t\ticon: (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\td=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t),\n\t\t\t\tcount: selectedIssueKeys.size > 0 ? selectedIssueKeys.size : undefined,\n\t\t\t},\n\t\t];\n\n\t\t// Only show Debugging and Cost Analysis tabs in non-cloud mode\n\t\tif (!cloudMode) {\n\t\t\tbaseTabs.push(\n\t\t\t\t{\n\t\t\t\t\tid: \"debugging\",\n\t\t\t\t\tlabel: \"Debugging\",\n\t\t\t\t\ticon: (\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \"cost\",\n\t\t\t\t\tlabel: \"Cost Analysis\",\n\t\t\t\t\ticon: (\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\td=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\n\t\treturn baseTabs;\n\t}, [\n\t\tfilteredErrorsCount,\n\t\tfilteredSuggestionsCount,\n\t\tcloudMode,\n\t\tselectedIssueKeys.size,\n\t]);\n\n\treturn (\n\t\t<div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-slate-100 animate-fade-in\">\n\t\t\t{/* Header */}\n\t\t\t<AppHeader\n\t\t\t\tcurrentPage=\"home\"\n\t\t\t\tonLogoClick={handleClear}\n\t\t\t\thistoryCount={historyApi.history.length}\n\t\t\t/>\n\n\t\t\t{/* Selection Summary Bar */}\n\t\t\t<SelectionSummaryBar\n\t\t\t\tselectedCount={selectedIssueKeys.size}\n\t\t\t\tonClearSelection={handleClearSelection}\n\t\t\t\tonReviewSelected={handleReviewSelected}\n\t\t\t/>\n\n\t\t\t{/* Main Content */}\n\t\t\t<main\n\t\t\t\tclassName={`max-w-[1400px] mx-auto px-6 py-6 ${selectedIssueKeys.size > 0 ? \"pt-14\" : \"\"}`}\n\t\t\t>\n\t\t\t\t{/* Content Area */}\n\t\t\t\t{evaluationData ? (\n\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t{/* Evaluator Failure Panel - Show if some evaluators failed */}\n\t\t\t\t\t\t{evaluationData.metadata.failedEvaluators &&\n\t\t\t\t\t\t\tevaluationData.metadata.failedEvaluators.length > 0 && (\n\t\t\t\t\t\t\t\t<EvaluatorFailurePanel\n\t\t\t\t\t\t\t\t\tfailures={evaluationData.metadata.failedEvaluators}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* Tab Navigation */}\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\ttabs={tabs}\n\t\t\t\t\t\t\tactiveTab={activeTab}\n\t\t\t\t\t\t\tonTabChange={handleTabChange}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{/* Summary Tab */}\n\t\t\t\t\t\t<TabPanel id=\"summary\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<Summary\n\t\t\t\t\t\t\t\tmetadata={evaluationData.metadata}\n\t\t\t\t\t\t\t\trepositoryUrl={currentRepositoryUrl}\n\t\t\t\t\t\t\t\tactualIssueCount={allIssues.length}\n\t\t\t\t\t\t\t\tactualPerFileIssueCount={perFileIssueCount}\n\t\t\t\t\t\t\t\tactualCrossFileIssueCount={crossFileIssueCount}\n\t\t\t\t\t\t\t\tactualHighCount={highCount}\n\t\t\t\t\t\t\t\tactualMediumCount={mediumCount}\n\t\t\t\t\t\t\t\tactualErrorCount={errorCount}\n\t\t\t\t\t\t\t\tactualSuggestionCount={suggestionCount}\n\t\t\t\t\t\t\t\tcurationSummary={curationSummary}\n\t\t\t\t\t\t\t\tcuratedCount={curatedIssues.length}\n\t\t\t\t\t\t\t\tevaluationId={currentEvaluationId ?? undefined}\n\t\t\t\t\t\t\t\tonDelete={handleDeleteEvaluation}\n\t\t\t\t\t\t\t\tcuration={evaluationData.curation}\n\t\t\t\t\t\t\t\tevaluationLogs={evaluationLogs}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Errors Tab */}\n\t\t\t\t\t\t<TabPanel id=\"errors\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-5 gap-6\">\n\t\t\t\t\t\t\t\t<div className=\"lg:col-span-1\">\n\t\t\t\t\t\t\t\t\t<div className=\"sticky top-20 max-h-[calc(100vh-6rem)] overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t<FilterPanel\n\t\t\t\t\t\t\t\t\t\t\tfilters={filters}\n\t\t\t\t\t\t\t\t\t\t\tonFilterChange={setFilters}\n\t\t\t\t\t\t\t\t\t\t\tavailableCategories={availableCategories}\n\t\t\t\t\t\t\t\t\t\t\tissueCount={filteredIssues.length}\n\t\t\t\t\t\t\t\t\t\t\ttotalIssues={errorIssues.length}\n\t\t\t\t\t\t\t\t\t\t\tfilterOptionCounts={filterOptionCounts}\n\t\t\t\t\t\t\t\t\t\t\tbookmarkedCount={bookmarkedCount}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"lg:col-span-4\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-end mb-3\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleAddAllToRemediation(errorIssues)}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-secondary text-sm\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tAdd all to remediation ({errorIssues.length})\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<IssuesList\n\t\t\t\t\t\t\t\t\t\tissues={filteredIssues}\n\t\t\t\t\t\t\t\t\t\tgroupedByFile={\n\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n\t\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t\t: Object.fromEntries(sortedGroupedIssues)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tnestedGrouping={\n\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n\t\t\t\t\t\t\t\t\t\t\t\t? Object.fromEntries(sortedFileGroups)\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\ttitle=\"Errors\"\n\t\t\t\t\t\t\t\t\t\temptyStateMessage=\"No errors found! Your documentation meets all quality standards.\"\n\t\t\t\t\t\t\t\t\t\tselectedKeys={selectedIssueKeys}\n\t\t\t\t\t\t\t\t\t\tissueKeyMap={issueKeyMap}\n\t\t\t\t\t\t\t\t\t\tonToggleSelection={handleToggleIssueSelection}\n\t\t\t\t\t\t\t\t\t\tonSelectAllInGroup={handleSelectAllInGroup}\n\t\t\t\t\t\t\t\t\t\tfeedbackMap={feedbackMap}\n\t\t\t\t\t\t\t\t\t\tonFeedback={handleFeedback}\n\t\t\t\t\t\t\t\t\t\tbookmarkSet={bookmarkSet}\n\t\t\t\t\t\t\t\t\t\tonBookmarkToggle={handleBookmarkToggle}\n\t\t\t\t\t\t\t\t\t\tassessmentEnabled={assessmentEnabled}\n\t\t\t\t\t\t\t\t\t\tgroupSelectEnabled={groupSelectEnabled}\n\t\t\t\t\t\t\t\t\t\tcloudMode={cloudMode}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Suggestions Tab */}\n\t\t\t\t\t\t<TabPanel id=\"suggestions\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-5 gap-6\">\n\t\t\t\t\t\t\t\t<div className=\"lg:col-span-1\">\n\t\t\t\t\t\t\t\t\t<div className=\"sticky top-20 max-h-[calc(100vh-6rem)] overflow-y-auto custom-scrollbar\">\n\t\t\t\t\t\t\t\t\t\t<FilterPanel\n\t\t\t\t\t\t\t\t\t\t\tfilters={filters}\n\t\t\t\t\t\t\t\t\t\t\tonFilterChange={setFilters}\n\t\t\t\t\t\t\t\t\t\t\tavailableCategories={availableCategories}\n\t\t\t\t\t\t\t\t\t\t\tissueCount={filteredIssues.length}\n\t\t\t\t\t\t\t\t\t\t\ttotalIssues={suggestionIssues.length}\n\t\t\t\t\t\t\t\t\t\t\tfilterOptionCounts={filterOptionCounts}\n\t\t\t\t\t\t\t\t\t\t\tbookmarkedCount={bookmarkedCount}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"lg:col-span-4\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-end mb-3\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\thandleAddAllToRemediation(suggestionIssues)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-secondary text-sm\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tAdd all to remediation ({suggestionIssues.length})\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<IssuesList\n\t\t\t\t\t\t\t\t\t\tissues={filteredIssues}\n\t\t\t\t\t\t\t\t\t\tgroupedByFile={\n\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n\t\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t\t: Object.fromEntries(sortedGroupedIssues)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tnestedGrouping={\n\t\t\t\t\t\t\t\t\t\t\tshouldUseNestedGrouping\n\t\t\t\t\t\t\t\t\t\t\t\t? Object.fromEntries(sortedFileGroups)\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\ttitle=\"Suggestions\"\n\t\t\t\t\t\t\t\t\t\temptyStateMessage=\"No suggestions available. Your documentation is comprehensive.\"\n\t\t\t\t\t\t\t\t\t\tselectedKeys={selectedIssueKeys}\n\t\t\t\t\t\t\t\t\t\tissueKeyMap={issueKeyMap}\n\t\t\t\t\t\t\t\t\t\tonToggleSelection={handleToggleIssueSelection}\n\t\t\t\t\t\t\t\t\t\tonSelectAllInGroup={handleSelectAllInGroup}\n\t\t\t\t\t\t\t\t\t\tfeedbackMap={feedbackMap}\n\t\t\t\t\t\t\t\t\t\tonFeedback={handleFeedback}\n\t\t\t\t\t\t\t\t\t\tbookmarkSet={bookmarkSet}\n\t\t\t\t\t\t\t\t\t\tonBookmarkToggle={handleBookmarkToggle}\n\t\t\t\t\t\t\t\t\t\tassessmentEnabled={assessmentEnabled}\n\t\t\t\t\t\t\t\t\t\tgroupSelectEnabled={groupSelectEnabled}\n\t\t\t\t\t\t\t\t\t\tcloudMode={cloudMode}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Remediate Tab */}\n\t\t\t\t\t\t<TabPanel id=\"remediate\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<RemediateTab\n\t\t\t\t\t\t\t\tevaluationId={currentEvaluationId}\n\t\t\t\t\t\t\t\tevaluationData={evaluationData}\n\t\t\t\t\t\t\t\tselectedIssueKeys={selectedIssueKeys}\n\t\t\t\t\t\t\t\tissueKeyMap={issueKeyMap}\n\t\t\t\t\t\t\t\tonRemoveIssue={handleRemoveIssueFromRemediation}\n\t\t\t\t\t\t\t\tonClearAll={handleClearSelection}\n\t\t\t\t\t\t\t\tcloudMode={cloudMode}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Debugging Tab */}\n\t\t\t\t\t\t<TabPanel id=\"debugging\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<EvaluatorTemplatesPanel evaluationId={currentEvaluationId} />\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Cost Analysis Tab */}\n\t\t\t\t\t\t<TabPanel id=\"cost\" activeTab={activeTab}>\n\t\t\t\t\t\t\t<CostAnalysisPanel metadata={evaluationData.metadata} />\n\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t</div>\n\t\t\t\t) : evaluationMode === \"evaluating\" && progressState ? (\n\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t<ProgressPanel\n\t\t\t\t\t\t\tprogress={progressState}\n\t\t\t\t\t\t\tjobId={currentJobId ?? undefined}\n\t\t\t\t\t\t\tonCancel={handleCancelJob}\n\t\t\t\t\t\t\tonDismiss={handleDismissFailure}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) : evaluationMode === \"idle\" ? (\n\t\t\t\t\t<div className=\"space-y-6\">\n\t\t\t\t\t\t{/* Hero Section - Show first */}\n\t\t\t\t\t\t<EmptyState />\n\n\t\t\t\t\t\t{/* Compact Input Form - Show below */}\n\t\t\t\t\t\t<div className=\"max-w-2xl mx-auto\">\n\t\t\t\t\t\t\t<EvaluationInputPanel\n\t\t\t\t\t\t\t\tonUrlSubmit={handleUrlSubmit}\n\t\t\t\t\t\t\t\tonBatchSubmit={!cloudMode ? handleBatchSubmit : undefined}\n\t\t\t\t\t\t\t\tisLoading={api.isLoading}\n\t\t\t\t\t\t\t\turlError={apiError}\n\t\t\t\t\t\t\t\thasData={false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Experimental Notice - Below form */}\n\t\t\t\t\t\t<div className=\"max-w-2xl mx-auto\">\n\t\t\t\t\t\t\t<ExperimentalNotice />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Cloud Mode Notice */}\n\t\t\t\t\t\t{cloudMode && (\n\t\t\t\t\t\t\t<div className=\"max-w-2xl mx-auto\">\n\t\t\t\t\t\t\t\t<div className=\"info-section text-left\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-start gap-2\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"info-section-icon\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"info-section-header\">Public Instance</p>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"info-section-content\">\n\t\t\t\t\t\t\t\t\t\t\t\tThis is a public instance to illustrate\n\t\t\t\t\t\t\t\t\t\t\t\tcontext-evaluator. You can submit git repository URLs\n\t\t\t\t\t\t\t\t\t\t\t\tfor analysis. All results are public and cannot be\n\t\t\t\t\t\t\t\t\t\t\t\tremoved. For any request, contact{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\thref=\"mailto:support@packmind.com\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-blue-400 hover:text-blue-300 underline\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsupport@packmind.com\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t) : isLoadingFromUrl ? (\n\t\t\t\t\t<div className=\"card text-center py-12\">\n\t\t\t\t\t\t<div className=\"animate-spin w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full mx-auto mb-4\"></div>\n\t\t\t\t\t\t<p className=\"text-slate-400\">Loading evaluation...</p>\n\t\t\t\t\t</div>\n\t\t\t\t) : apiError && urlEvaluationId ? (\n\t\t\t\t\t<div className=\"card border-red-700/50 bg-red-900/20\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName=\"w-6 h-6 text-red-400 flex-shrink-0\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\td=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t\t\t\t<h3 className=\"font-semibold text-red-300\">\n\t\t\t\t\t\t\t\t\tEvaluation Not Found\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t<p className=\"text-sm text-red-400/80\">{apiError}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button onClick={handleClear} className=\"btn-ghost\">\n\t\t\t\t\t\t\t\tGo Home\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t</main>\n\n\t\t\t{/* Footer */}\n\t\t\t<footer className=\"bg-slate-800 border-t border-slate-700 mt-12\">\n\t\t\t\t<div className=\"max-w-[1400px] mx-auto px-6 py-6\">\n\t\t\t\t\t<div className=\"flex flex-col md:flex-row items-center justify-between gap-4\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-semibold text-slate-50\">\n\t\t\t\t\t\t\t\t\tcontext-evaluator\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"text-xs text-slate-400\">v{version}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex flex-wrap items-center justify-center gap-8 text-sm text-slate-300\">\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref=\"https://packmind.com?utm_source=context-evaluator\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\tclassName=\"hover:text-slate-100 transition-colors font-medium text-slate-200\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tPowered by Packmind\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</footer>\n\t\t</div>\n\t);\n}\n\n// Scrolls to top on every route change\nfunction ScrollToTop() {\n\tconst { pathname } = useLocation();\n\t// biome-ignore lint/correctness/useExhaustiveDependencies: re-run scroll on route change\n\tuseEffect(() => {\n\t\twindow.scrollTo(0, 0);\n\t}, [pathname]);\n\treturn null;\n}\n\n// Router wrapper component\nfunction App() {\n\treturn (\n\t\t<FeatureFlagProvider>\n\t\t\t<BrowserRouter>\n\t\t\t\t<ScrollToTop />\n\t\t\t\t<AppRoutes />\n\t\t\t</BrowserRouter>\n\t\t</FeatureFlagProvider>\n\t);\n}\n\n// Routes component with feature flag access\nfunction AppRoutes() {\n\tconst { assessmentEnabled, cloudMode } = useFeatureFlags();\n\n\treturn (\n\t\t<Routes>\n\t\t\t<Route path=\"/\" element={<AppContent />} />\n\t\t\t<Route path=\"/evaluation/:id\" element={<AppContent />} />\n\t\t\t<Route path=\"/recent\" element={<RecentEvaluationsPage />} />\n\t\t\t<Route path=\"/evaluators\" element={<EvaluatorsPage />} />\n\t\t\t<Route path=\"/issues\" element={<IssuesPage />} />\n\t\t\t<Route path=\"/stats\" element={<StatsPage />} />\n\t\t\t<Route path=\"/how-it-works\" element={<HowItWorksPage />} />\n\t\t\t{assessmentEnabled && (\n\t\t\t\t<Route path=\"/assessment\" element={<AssessmentPage />} />\n\t\t\t)}\n\t\t\t{!cloudMode && (\n\t\t\t\t<Route path=\"/batch/:batchId\" element={<BatchStatusPage />} />\n\t\t\t)}\n\t\t</Routes>\n\t);\n}\n\n// Mount the app\nconst root = createRoot(document.getElementById(\"root\")!);\nroot.render(<App />);\n","structuredPatch":[{"oldStart":1396,"oldLines":6,"newStart":1396,"newLines":15,"lines":["     }","   }, [currentEvaluationId, historyApi, handleClear]);"," ","+  // Handle re-run evaluation from Summary page","+  const handleReRun = useCallback(","+    async (provider: ProviderName) => {","+      if (!currentRepositoryUrl) return;","+      await handleUrlSubmit(currentRepositoryUrl, 17, provider, \"all\");","+    },","+    [currentRepositoryUrl, handleUrlSubmit],","+  );","+","   // Issue selection handlers","   const handleToggleIssueSelection = useCallback(","     (key: string, _issue: Issue) => {"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"cb1cd040-0438-40b2-9d68-eba169ec0462"}
{"parentUuid":"cc18cb92-a5c5-47ee-9e7e-f60b8caf0c3d","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01RfqAFWnVjNRCML7cngSwfA","type":"message","role":"assistant","content":[{"type":"text","text":"Now pass `onReRun` to the Summary component:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":331,"cache_read_input_tokens":93324,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":331},"output_tokens":2,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66Z6icfwxfVyB5nYZB7","type":"assistant","uuid":"4678bece-63c6-41fd-b1c3-92d1a4744542","timestamp":"2026-02-13T12:50:01.721Z"}
{"parentUuid":"4678bece-63c6-41fd-b1c3-92d1a4744542","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01RfqAFWnVjNRCML7cngSwfA","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01HqtKPeZohVRvctvKQjZyAW","name":"Edit","input":{"replace_all":false,"file_path":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/App.tsx","old_string":"\t\t\t\t\t\t\tonDelete={handleDeleteEvaluation}\n\t\t\t\t\t\t\tcuration={evaluationData.curation}","new_string":"\t\t\t\t\t\t\tonDelete={handleDeleteEvaluation}\n\t\t\t\t\t\t\tonReRun={handleReRun}\n\t\t\t\t\t\t\tcuration={evaluationData.curation}"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":331,"cache_read_input_tokens":93324,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":331},"output_tokens":2,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66Z6icfwxfVyB5nYZB7","type":"assistant","uuid":"5dbd95d2-33b4-42ce-8b25-0b1efb94dafb","timestamp":"2026-02-13T12:50:03.329Z"}
{"parentUuid":"5dbd95d2-33b4-42ce-8b25-0b1efb94dafb","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"type":"tool_result","content":"<tool_use_error>String to replace not found in file.\nString: \t\t\t\t\t\t\tonDelete={handleDeleteEvaluation}\n\t\t\t\t\t\t\tcuration={evaluationData.curation}</tool_use_error>","is_error":true,"tool_use_id":"toolu_01HqtKPeZohVRvctvKQjZyAW"}]},"uuid":"aa59c714-0bc0-4c26-89a7-f512eebfdd1d","timestamp":"2026-02-13T12:50:03.329Z","toolUseResult":"Error: String to replace not found in file.\nString: \t\t\t\t\t\t\tonDelete={handleDeleteEvaluation}\n\t\t\t\t\t\t\tcuration={evaluationData.curation}","sourceToolAssistantUUID":"5dbd95d2-33b4-42ce-8b25-0b1efb94dafb"}
{"parentUuid":"aa59c714-0bc0-4c26-89a7-f512eebfdd1d","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01HWz28U2fDku1fyxEi87Cg7","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01DrmHeLJcNGa1ntsWvwhi31","name":"Grep","input":{"pattern":"onDelete={handleDeleteEvaluation}","path":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/App.tsx","output_mode":"content"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":264,"cache_read_input_tokens":93655,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":264},"output_tokens":26,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66ZP6rNRajUumv9qpFx","type":"assistant","uuid":"c5077db6-8a0f-44f1-9581-f9365fd226d5","timestamp":"2026-02-13T12:50:06.790Z"}
{"parentUuid":"c5077db6-8a0f-44f1-9581-f9365fd226d5","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Grep","command":"callback"},"parentToolUseID":"toolu_01DrmHeLJcNGa1ntsWvwhi31","toolUseID":"toolu_01DrmHeLJcNGa1ntsWvwhi31","timestamp":"2026-02-13T12:50:07.070Z","uuid":"f2665cda-4ef7-48c5-a89c-eb808e585058"}
{"parentUuid":"c5077db6-8a0f-44f1-9581-f9365fd226d5","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01DrmHeLJcNGa1ntsWvwhi31","type":"tool_result","content":"No matches found"}]},"uuid":"6875060e-8dc6-4766-be21-fdc25bb0fd13","timestamp":"2026-02-13T12:50:07.069Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"","numLines":0},"sourceToolAssistantUUID":"c5077db6-8a0f-44f1-9581-f9365fd226d5"}
{"parentUuid":"6875060e-8dc6-4766-be21-fdc25bb0fd13","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01EpwiPi83VrCGvrfaPkWrPU","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Exr9BPExsW8kVHahHLJbhF","name":"Grep","input":{"pattern":"handleDeleteEvaluation","path":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/App.tsx","output_mode":"content"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":133,"cache_read_input_tokens":93919,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":133},"output_tokens":25,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66Zeii3acVvhnYA1Uve","type":"assistant","uuid":"8b85daf1-b66d-4247-8e6c-72303a5cb491","timestamp":"2026-02-13T12:50:09.941Z"}
{"parentUuid":"8b85daf1-b66d-4247-8e6c-72303a5cb491","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Grep","command":"callback"},"parentToolUseID":"toolu_01Exr9BPExsW8kVHahHLJbhF","toolUseID":"toolu_01Exr9BPExsW8kVHahHLJbhF","timestamp":"2026-02-13T12:50:10.201Z","uuid":"fa6e5165-cb89-4b2c-805e-f8465c73eb2c"}
{"parentUuid":"8b85daf1-b66d-4247-8e6c-72303a5cb491","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Exr9BPExsW8kVHahHLJbhF","type":"tool_result","content":"1392:\tconst handleDeleteEvaluation = useCallback(async () => {\n1788:\t\t\t\t\t\t\t\tonDelete={handleDeleteEvaluation}"}]},"uuid":"0002cb36-ae45-420e-a81c-6d936b49a658","timestamp":"2026-02-13T12:50:10.200Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"1392:\tconst handleDeleteEvaluation = useCallback(async () => {\n1788:\t\t\t\t\t\t\t\tonDelete={handleDeleteEvaluation}","numLines":2},"sourceToolAssistantUUID":"8b85daf1-b66d-4247-8e6c-72303a5cb491"}
{"parentUuid":"0002cb36-ae45-420e-a81c-6d936b49a658","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01H63BNm4rxif86PaiH9kMe6","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01MeFPxAYz3j9GSLPPBRXx7s","name":"Read","input":{"file_path":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/App.tsx","offset":1785,"limit":10}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":158,"cache_read_input_tokens":94052,"output_tokens":111,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":158,"ephemeral_5m_input_tokens":0},"inference_geo":"","iterations":[],"speed":"standard"}},"requestId":"req_011CY66Zt9bPdkgq5KSfUN1b","type":"assistant","uuid":"0a66ad1e-0b80-4bfb-a7d8-a18939c6cd9e","timestamp":"2026-02-13T12:50:13.273Z"}
{"parentUuid":"0a66ad1e-0b80-4bfb-a7d8-a18939c6cd9e","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_01MeFPxAYz3j9GSLPPBRXx7s","toolUseID":"toolu_01MeFPxAYz3j9GSLPPBRXx7s","timestamp":"2026-02-13T12:50:13.311Z","uuid":"0ecb455b-c9f1-414d-a3bb-5ca373580383"}
{"parentUuid":"0a66ad1e-0b80-4bfb-a7d8-a18939c6cd9e","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01MeFPxAYz3j9GSLPPBRXx7s","type":"tool_result","content":"  1785→\t\t\t\t\t\t\t\tcurationSummary={curationSummary}\n  1786→\t\t\t\t\t\t\t\tcuratedCount={curatedIssues.length}\n  1787→\t\t\t\t\t\t\t\tevaluationId={currentEvaluationId ?? undefined}\n  1788→\t\t\t\t\t\t\t\tonDelete={handleDeleteEvaluation}\n  1789→\t\t\t\t\t\t\t\tcuration={evaluationData.curation}\n  1790→\t\t\t\t\t\t\t\tevaluationLogs={evaluationLogs}\n  1791→\t\t\t\t\t\t\t/>\n  1792→\t\t\t\t\t\t</TabPanel>\n  1793→\n  1794→\t\t\t\t\t\t{/* Errors Tab */}"}]},"uuid":"19e41a79-9409-4740-994c-c358c7375d8d","timestamp":"2026-02-13T12:50:13.309Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/App.tsx","content":"\t\t\t\t\t\t\t\tcurationSummary={curationSummary}\n\t\t\t\t\t\t\t\tcuratedCount={curatedIssues.length}\n\t\t\t\t\t\t\t\tevaluationId={currentEvaluationId ?? undefined}\n\t\t\t\t\t\t\t\tonDelete={handleDeleteEvaluation}\n\t\t\t\t\t\t\t\tcuration={evaluationData.curation}\n\t\t\t\t\t\t\t\tevaluationLogs={evaluationLogs}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t{/* Errors Tab */}","numLines":10,"startLine":1785,"totalLines":2110}},"sourceToolAssistantUUID":"0a66ad1e-0b80-4bfb-a7d8-a18939c6cd9e"}
{"parentUuid":"19e41a79-9409-4740-994c-c358c7375d8d","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01DzB3CkRafvgQmt1g8R2VvA","type":"message","role":"assistant","content":[{"type":"text","text":"Same tab issue. Let me use python for this too:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":258,"cache_read_input_tokens":94210,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":258},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66a7ifv6ZjWRd2FTLXW","type":"assistant","uuid":"81f7988c-d9bf-456c-ba85-8a58e8332184","timestamp":"2026-02-13T12:50:16.138Z"}
{"parentUuid":"81f7988c-d9bf-456c-ba85-8a58e8332184","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01DzB3CkRafvgQmt1g8R2VvA","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_017HedMSzxwXuEVao4GLZ35H","name":"Bash","input":{"command":"python3 -c \"\nwith open('frontend/src/App.tsx', 'r') as f:\n    content = f.read()\n\nold = 'onDelete={handleDeleteEvaluation}\\n'\n# Find the exact line with context\nidx = content.index(old)\n# Get the line including its indentation\nline_start = content.rfind('\\n', 0, idx) + 1\nline_with_indent = content[line_start:idx + len(old)]\nprint(repr(line_with_indent))\n\"\n"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":258,"cache_read_input_tokens":94210,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":258},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66a7ifv6ZjWRd2FTLXW","type":"assistant","uuid":"9c94630d-e91a-4e14-bf3a-92a6d8f33257","timestamp":"2026-02-13T12:50:18.349Z"}
{"parentUuid":"9c94630d-e91a-4e14-bf3a-92a6d8f33257","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_017HedMSzxwXuEVao4GLZ35H","type":"tool_result","content":"'\\t\\t\\t\\t\\t\\t\\t\\tonDelete={handleDeleteEvaluation}\\n'","is_error":false}]},"uuid":"237125be-ad58-4e12-8d05-635c8358dec4","timestamp":"2026-02-13T12:50:18.700Z","toolUseResult":{"stdout":"'\\t\\t\\t\\t\\t\\t\\t\\tonDelete={handleDeleteEvaluation}\\n'","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"9c94630d-e91a-4e14-bf3a-92a6d8f33257"}
{"parentUuid":"237125be-ad58-4e12-8d05-635c8358dec4","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01XzMxcN1ADGUht3uTG6EM47","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01WYhD5HUBZeBRzrHFLHVjdj","name":"Bash","input":{"command":"python3 -c \"\nwith open('frontend/src/App.tsx', 'r') as f:\n    content = f.read()\n\nold = '\\t\\t\\t\\t\\t\\t\\t\\tonDelete={handleDeleteEvaluation}\\n\\t\\t\\t\\t\\t\\t\\t\\tcuration={evaluationData.curation}'\nnew = '\\t\\t\\t\\t\\t\\t\\t\\tonDelete={handleDeleteEvaluation}\\n\\t\\t\\t\\t\\t\\t\\t\\tonReRun={handleReRun}\\n\\t\\t\\t\\t\\t\\t\\t\\tcuration={evaluationData.curation}'\n\nif old in content:\n    content = content.replace(old, new)\n    with open('frontend/src/App.tsx', 'w') as f:\n        f.write(content)\n    print('Replacement successful')\nelse:\n    print('ERROR: old string not found')\n\"\n"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":230,"cache_read_input_tokens":94468,"output_tokens":287,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":230,"ephemeral_5m_input_tokens":0},"inference_geo":"","iterations":[],"speed":"standard"}},"requestId":"req_011CY66aWRR4X65TDKhM5LYQ","type":"assistant","uuid":"c418cf13-44ac-4604-8f00-42f4e3492d2c","timestamp":"2026-02-13T12:50:22.850Z"}
{"parentUuid":"c418cf13-44ac-4604-8f00-42f4e3492d2c","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01WYhD5HUBZeBRzrHFLHVjdj","type":"tool_result","content":"Replacement successful","is_error":false}]},"uuid":"bdafa686-a3c0-4202-bd1b-8f07cbe29755","timestamp":"2026-02-13T12:50:23.200Z","toolUseResult":{"stdout":"Replacement successful","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"c418cf13-44ac-4604-8f00-42f4e3492d2c"}
{"parentUuid":"bdafa686-a3c0-4202-bd1b-8f07cbe29755","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_018mqkEJvU8x6P76tSsThDJD","type":"message","role":"assistant","content":[{"type":"text","text":"Now let me run lint:fix first (Biome will reformat), then tests, then lint check:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":412,"cache_read_input_tokens":94698,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":412},"output_tokens":4,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66aqi2dzHUukxXT6xXU","type":"assistant","uuid":"b2a96f9c-8ec1-4bf8-bcc3-6d978b314301","timestamp":"2026-02-13T12:50:26.226Z"}
{"parentUuid":"b2a96f9c-8ec1-4bf8-bcc3-6d978b314301","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_018mqkEJvU8x6P76tSsThDJD","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01FM1Das7rm8fzqPHvj3TwNt","name":"Bash","input":{"command":"bun run lint:fix 2>&1 | tail -20","description":"Run Biome lint:fix to auto-format"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":412,"cache_read_input_tokens":94698,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":412},"output_tokens":4,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66aqi2dzHUukxXT6xXU","type":"assistant","uuid":"4394de90-6c8a-4041-8244-7d669432775a","timestamp":"2026-02-13T12:50:27.603Z"}
{"parentUuid":"4394de90-6c8a-4041-8244-7d669432775a","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01FM1Das7rm8fzqPHvj3TwNt","type":"tool_result","content":"$ biome check --write\nChecked 272 files in 137ms. No fixes applied.","is_error":false}]},"uuid":"6d3831fb-634d-4c87-9f5e-9129d6e69bca","timestamp":"2026-02-13T12:50:28.167Z","toolUseResult":{"stdout":"$ biome check --write\nChecked 272 files in 137ms. No fixes applied.","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"4394de90-6c8a-4041-8244-7d669432775a"}
{"parentUuid":"6d3831fb-634d-4c87-9f5e-9129d6e69bca","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01UXTYHhXYf8w9CirV1VpGHE","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_013cZ6va4i1BSLD5mPEaBAs9","name":"Bash","input":{"command":"bun run test 2>&1 | tail -30","description":"Run all tests"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":150,"cache_read_input_tokens":95110,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":150},"output_tokens":19,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66bDCMNyx5qv59fvhHS","type":"assistant","uuid":"172a669b-a630-4ae8-a94d-f5d7e9313e5b","timestamp":"2026-02-13T12:50:30.726Z"}
{"parentUuid":"172a669b-a630-4ae8-a94d-f5d7e9313e5b","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_013cZ6va4i1BSLD5mPEaBAs9","type":"tool_result","content":"[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 309 | \t\t\texpect(response2.status).toBe(202);\n310 | \t\t});\n311 | \n312 | \t\ttest(\"should return 500 for other errors\", async () => {\n313 | \t\t\tconst mockManager = createMockJobManager({\n314 | \t\t\t\tsubmitJobError: new Error(\"Database connection failed\"),\n                              ^\nerror: Database connection failed\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:314:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:312:46)\n\n[EvaluationRepository] Deleted evaluation eval-to-delete\n[EvaluationRepository] Deleted all evaluations (2 records)\n\n 1219 pass\n 0 fail\n 2614 expect() calls\nRan 1219 tests across 56 files. [826.00ms]","is_error":false}]},"uuid":"95a1398e-599c-45d2-a3cd-91ae850f1948","timestamp":"2026-02-13T12:50:31.890Z","toolUseResult":{"stdout":"[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 309 | \t\t\texpect(response2.status).toBe(202);\n310 | \t\t});\n311 | \n312 | \t\ttest(\"should return 500 for other errors\", async () => {\n313 | \t\t\tconst mockManager = createMockJobManager({\n314 | \t\t\t\tsubmitJobError: new Error(\"Database connection failed\"),\n                              ^\nerror: Database connection failed\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:314:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:312:46)\n\n[EvaluationRepository] Deleted evaluation eval-to-delete\n[EvaluationRepository] Deleted all evaluations (2 records)\n\n 1219 pass\n 0 fail\n 2614 expect() calls\nRan 1219 tests across 56 files. [826.00ms]","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"172a669b-a630-4ae8-a94d-f5d7e9313e5b"}
{"parentUuid":"95a1398e-599c-45d2-a3cd-91ae850f1948","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01VxzCSxJUqC3zjon6HEyHoU","type":"message","role":"assistant","content":[{"type":"text","text":"All 1219 tests pass. Let me also run typecheck:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":490,"cache_read_input_tokens":95260,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":490},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66bVBnK9eTzty3tWaBa","type":"assistant","uuid":"0c27c44a-a631-44a5-a2d6-a45814c24394","timestamp":"2026-02-13T12:50:35.230Z"}
{"parentUuid":"0c27c44a-a631-44a5-a2d6-a45814c24394","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01VxzCSxJUqC3zjon6HEyHoU","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_0188v4mcafWbzRmiTgjdzP8t","name":"Bash","input":{"command":"bun run typecheck 2>&1 | tail -10","description":"TypeScript type checking"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":490,"cache_read_input_tokens":95260,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":490},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66bVBnK9eTzty3tWaBa","type":"assistant","uuid":"8eda3ab1-5df1-4471-acdf-26b3665e793a","timestamp":"2026-02-13T12:50:35.587Z"}
{"parentUuid":"8eda3ab1-5df1-4471-acdf-26b3665e793a","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"bash_progress","output":"","fullOutput":"","elapsedTimeSeconds":2,"totalLines":0},"toolUseID":"bash-progress-0","parentToolUseID":"toolu_0188v4mcafWbzRmiTgjdzP8t","uuid":"6e73b11d-8bdc-4200-8475-4ff844d96cc7","timestamp":"2026-02-13T12:50:37.594Z"}
{"parentUuid":"8eda3ab1-5df1-4471-acdf-26b3665e793a","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_0188v4mcafWbzRmiTgjdzP8t","type":"tool_result","content":"$ tsc --noEmit","is_error":false}]},"uuid":"94669ae4-1fa2-4236-a1dc-9bf85721606c","timestamp":"2026-02-13T12:50:38.095Z","toolUseResult":{"stdout":"$ tsc --noEmit","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"8eda3ab1-5df1-4471-acdf-26b3665e793a"}
{"parentUuid":"94669ae4-1fa2-4236-a1dc-9bf85721606c","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01U93iNGZKVNEZASCA3rTwTw","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_0189dh1v8ExTGeQxtJvsF2eV","name":"Bash","input":{"command":"bun run lint 2>&1 | tail -10","description":"Run lint check"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":120,"cache_read_input_tokens":95750,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":120},"output_tokens":25,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66bwfyoKFqVdyvo8vfk","type":"assistant","uuid":"d5ad3a0f-1933-4869-ba04-d392dd8b7338","timestamp":"2026-02-13T12:50:40.940Z"}
{"parentUuid":"d5ad3a0f-1933-4869-ba04-d392dd8b7338","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_0189dh1v8ExTGeQxtJvsF2eV","type":"tool_result","content":"$ biome check --error-on-warnings\nChecked 272 files in 100ms. No fixes applied.","is_error":false}]},"uuid":"b230e0a3-fd3e-4837-8175-0f3e17a784f8","timestamp":"2026-02-13T12:50:41.412Z","toolUseResult":{"stdout":"$ biome check --error-on-warnings\nChecked 272 files in 100ms. No fixes applied.","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"d5ad3a0f-1933-4869-ba04-d392dd8b7338"}
{"parentUuid":"b230e0a3-fd3e-4837-8175-0f3e17a784f8","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01Xp4vLgJt8gVBka76RCuouF","type":"message","role":"assistant","content":[{"type":"text","text":"All checks pass. Let me verify the final state of the changes:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":120,"cache_read_input_tokens":95870,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":120},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66cBrGPgBD9pVA3ZnJm","type":"assistant","uuid":"f535d1fb-a8fc-424d-b7c1-9f0abaea2da2","timestamp":"2026-02-13T12:50:43.977Z"}
{"parentUuid":"f535d1fb-a8fc-424d-b7c1-9f0abaea2da2","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01Xp4vLgJt8gVBka76RCuouF","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01B6xmDV5mLNw2L7Nqr5oqcT","name":"Read","input":{"file_path":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx","offset":334,"limit":70}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":120,"cache_read_input_tokens":95870,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":120},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66cBrGPgBD9pVA3ZnJm","type":"assistant","uuid":"62a3e9a3-8fed-44a6-ae6a-d049214a3e35","timestamp":"2026-02-13T12:50:44.718Z"}
{"parentUuid":"62a3e9a3-8fed-44a6-ae6a-d049214a3e35","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_01B6xmDV5mLNw2L7Nqr5oqcT","toolUseID":"toolu_01B6xmDV5mLNw2L7Nqr5oqcT","timestamp":"2026-02-13T12:50:44.740Z","uuid":"306ab545-ece5-48dd-87d0-8fa0055215de"}
{"parentUuid":"62a3e9a3-8fed-44a6-ae6a-d049214a3e35","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01B6xmDV5mLNw2L7Nqr5oqcT","type":"tool_result","content":"   334→\t\t\t\t\t<div className=\"flex items-center gap-2\">\n   335→\t\t\t\t\t\t{/* Re-run Button */}\n   336→\t\t\t\t\t\t{onReRun && (\n   337→\t\t\t\t\t\t\t<div className=\"flex items-center gap-1.5\">\n   338→\t\t\t\t\t\t\t\t{!cloudMode && (\n   339→\t\t\t\t\t\t\t\t\t<select\n   340→\t\t\t\t\t\t\t\t\t\tvalue={reRunProvider}\n   341→\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n   342→\t\t\t\t\t\t\t\t\t\t\tsetReRunProvider(e.target.value as ProviderName)\n   343→\t\t\t\t\t\t\t\t\t\t}\n   344→\t\t\t\t\t\t\t\t\t\tclassName=\"bg-slate-700/60 border border-slate-600/50 text-slate-200 text-xs rounded-md px-2 py-1.5 focus:outline-none focus:ring-1 focus:ring-indigo-500\"\n   345→\t\t\t\t\t\t\t\t\t>\n   346→\t\t\t\t\t\t\t\t\t\t{PROVIDERS.map((p) => (\n   347→\t\t\t\t\t\t\t\t\t\t\t<option key={p.name} value={p.name}>\n   348→\t\t\t\t\t\t\t\t\t\t\t\t{p.displayName}\n   349→\t\t\t\t\t\t\t\t\t\t\t</option>\n   350→\t\t\t\t\t\t\t\t\t\t))}\n   351→\t\t\t\t\t\t\t\t\t</select>\n   352→\t\t\t\t\t\t\t\t)}\n   353→\t\t\t\t\t\t\t\t<button\n   354→\t\t\t\t\t\t\t\t\tonClick={() => onReRun(cloudMode ? \"random\" : reRunProvider)}\n   355→\t\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-white bg-indigo-600 hover:bg-indigo-500 rounded-lg transition-colors\"\n   356→\t\t\t\t\t\t\t\t\ttitle=\"Re-run evaluation\"\n   357→\t\t\t\t\t\t\t\t>\n   358→\t\t\t\t\t\t\t\t\t<svg\n   359→\t\t\t\t\t\t\t\t\t\tclassName=\"w-3.5 h-3.5\"\n   360→\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n   361→\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   362→\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   363→\t\t\t\t\t\t\t\t\t>\n   364→\t\t\t\t\t\t\t\t\t\t<path\n   365→\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   366→\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   367→\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   368→\t\t\t\t\t\t\t\t\t\t\td=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n   369→\t\t\t\t\t\t\t\t\t\t/>\n   370→\t\t\t\t\t\t\t\t\t</svg>\n   371→\t\t\t\t\t\t\t\t\tRe-run\n   372→\t\t\t\t\t\t\t\t</button>\n   373→\t\t\t\t\t\t\t</div>\n   374→\t\t\t\t\t\t)}\n   375→\t\t\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n   376→\t\t\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n   377→\t\t\t\t\t\t\t<button\n   378→\t\t\t\t\t\t\t\tonClick={() => {\n   379→\t\t\t\t\t\t\t\t\tif (\n   380→\t\t\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n   381→\t\t\t\t\t\t\t\t\t) {\n   382→\t\t\t\t\t\t\t\t\t\tonDelete();\n   383→\t\t\t\t\t\t\t\t\t}\n   384→\t\t\t\t\t\t\t\t}}\n   385→\t\t\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n   386→\t\t\t\t\t\t\t\ttitle=\"Delete evaluation\"\n   387→\t\t\t\t\t\t\t>\n   388→\t\t\t\t\t\t\t\t<svg\n   389→\t\t\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n   390→\t\t\t\t\t\t\t\t\tfill=\"none\"\n   391→\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n   392→\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n   393→\t\t\t\t\t\t\t\t>\n   394→\t\t\t\t\t\t\t\t\t<path\n   395→\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n   396→\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n   397→\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n   398→\t\t\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n   399→\t\t\t\t\t\t\t\t\t/>\n   400→\t\t\t\t\t\t\t\t</svg>\n   401→\t\t\t\t\t\t\t</button>\n   402→\t\t\t\t\t\t)}\n   403→\t\t\t\t\t</div>"}]},"uuid":"3a096e14-b8ee-4765-a0bc-a1e20dd0b7ee","timestamp":"2026-02-13T12:50:44.739Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/cedricteyton/Code/agents-md-evaluator/frontend/src/components/Summary.tsx","content":"\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t{/* Re-run Button */}\n\t\t\t\t\t\t{onReRun && (\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-1.5\">\n\t\t\t\t\t\t\t\t{!cloudMode && (\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tvalue={reRunProvider}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\tsetReRunProvider(e.target.value as ProviderName)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tclassName=\"bg-slate-700/60 border border-slate-600/50 text-slate-200 text-xs rounded-md px-2 py-1.5 focus:outline-none focus:ring-1 focus:ring-indigo-500\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{PROVIDERS.map((p) => (\n\t\t\t\t\t\t\t\t\t\t\t<option key={p.name} value={p.name}>\n\t\t\t\t\t\t\t\t\t\t\t\t{p.displayName}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={() => onReRun(cloudMode ? \"random\" : reRunProvider)}\n\t\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-white bg-indigo-600 hover:bg-indigo-500 rounded-lg transition-colors\"\n\t\t\t\t\t\t\t\t\ttitle=\"Re-run evaluation\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-3.5 h-3.5\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\t\td=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\tRe-run\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n\t\t\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tonDelete();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n\t\t\t\t\t\t\t\ttitle=\"Delete evaluation\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>","numLines":70,"startLine":334,"totalLines":1354}},"sourceToolAssistantUUID":"62a3e9a3-8fed-44a6-ae6a-d049214a3e35"}
{"parentUuid":"3a096e14-b8ee-4765-a0bc-a1e20dd0b7ee","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_016A4C7xkKM2zGxRoDGgmPR7","type":"message","role":"assistant","content":[{"type":"text","text":"Everything looks good. Here's a summary of the changes made:\n\n### Changes\n\n**`frontend/src/components/Summary.tsx`**:\n- Imported `ProviderName` type from `useEvaluationApi`\n- Added `PROVIDERS` constant (matching `RepositoryUrlInput.tsx`)\n- Added `onReRun?: (provider: ProviderName) => void` to `SummaryProps`\n- Added `reRunProvider` state initialized from `metadata.agent` (falls back to `\"claude\"` if agent is `\"random\"`)\n- Wrapped the delete button in a flex container and added re-run UI before it:\n  - **Non-cloud mode**: provider `<select>` dropdown + \"Re-run\" button with refresh icon\n  - **Cloud mode**: just the \"Re-run\" button (passes `\"random\"` as provider)\n\n**`frontend/src/App.tsx`**:\n- Imported `ProviderName` type from `useEvaluationApi`\n- Fixed `handleUrlSubmit` provider type from inline union to `ProviderName` (adds missing `\"codex\"` and `\"random\"`)\n- Same fix for `handleBatchSubmit`\n- Added `handleReRun` callback that re-submits the current repository URL with all 17 evaluators\n- Passed `onReRun={handleReRun}` to the `<Summary>` component\n\nAll tests (1219), typecheck, and lint pass."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1164,"cache_read_input_tokens":95990,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":1164},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY66cSJB4yoKYkG2qvQuk","type":"assistant","uuid":"8c4d86ce-4234-4927-836d-6f6f2492359f","timestamp":"2026-02-13T12:50:53.867Z"}
{"parentUuid":"8c4d86ce-4234-4927-836d-6f6f2492359f","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"Stop","hookName":"Stop","command":"entire hooks claude-code stop"},"parentToolUseID":"7961c1a5-be45-4f83-8072-f0736f180fdc","toolUseID":"7961c1a5-be45-4f83-8072-f0736f180fdc","timestamp":"2026-02-13T12:50:53.899Z","uuid":"31dbc737-335b-4e2a-8ba4-836b5bdc273b"}
{"parentUuid":"31dbc737-335b-4e2a-8ba4-836b5bdc273b","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"system","subtype":"stop_hook_summary","hookCount":1,"hookInfos":[{"command":"entire hooks claude-code stop"}],"hookErrors":[],"preventedContinuation":false,"stopReason":"","hasOutput":true,"level":"suggestion","timestamp":"2026-02-13T12:50:54.582Z","uuid":"546b6ec9-c283-4667-8657-fd8b09254c19","toolUseID":"7961c1a5-be45-4f83-8072-f0736f180fdc"}
{"parentUuid":"546b6ec9-c283-4667-8657-fd8b09254c19","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"system","subtype":"turn_duration","durationMs":237722,"timestamp":"2026-02-13T12:50:54.583Z","uuid":"cb498349-5756-42e7-8fad-1a4f312142d8","isMeta":false}
{"type":"file-history-snapshot","messageId":"3779b031-be76-42a5-a398-470ea4cd6760","snapshot":{"messageId":"3779b031-be76-42a5-a398-470ea4cd6760","trackedFileBackups":{"frontend/src/components/Summary.tsx":{"backupFileName":"3dfda6a17ea33c6c@v2","version":2,"backupTime":"2026-02-13T13:20:46.213Z"},"frontend/src/App.tsx":{"backupFileName":"a9c3aa9c76b64e9a@v2","version":2,"backupTime":"2026-02-13T13:20:46.213Z"}},"timestamp":"2026-02-13T13:20:46.212Z"},"isSnapshotUpdate":false}
{"parentUuid":"cb498349-5756-42e7-8fad-1a4f312142d8","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":"commit this"},"uuid":"3779b031-be76-42a5-a398-470ea4cd6760","timestamp":"2026-02-13T13:20:44.928Z","thinkingMetadata":{"maxThinkingTokens":31999},"permissionMode":"acceptEdits"}
{"parentUuid":"3779b031-be76-42a5-a398-470ea4cd6760","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01XRxhqG6KVs1yWQv1N5tGFj","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01PW7SA5CUHa5aD8BchVzBVF","name":"Bash","input":{"command":"git status -u","description":"Show working tree status"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":81311,"cache_read_input_tokens":16195,"output_tokens":94,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":81311,"ephemeral_5m_input_tokens":0},"inference_geo":"","iterations":[],"speed":"standard"}},"requestId":"req_011CY68uFgQmbHd22BR5XcBm","type":"assistant","uuid":"1e981b38-6229-467c-a5c2-e74db67a75fd","timestamp":"2026-02-13T13:20:51.089Z"}
{"parentUuid":"1e981b38-6229-467c-a5c2-e74db67a75fd","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01PW7SA5CUHa5aD8BchVzBVF","type":"tool_result","content":"On branch main\nYour branch is up to date with 'origin/main'.\n\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git restore <file>...\" to discard changes in working directory)\n\tmodified:   .entire/settings.json\n\tmodified:   .husky/pre-commit\n\tmodified:   frontend/src/App.tsx\n\tmodified:   frontend/src/components/Summary.tsx\n\nUntracked files:\n  (use \"git add <file>...\" to include in what will be committed)\n\t.claude/settings.json\n\t.entire/.gitignore\n\t.husky/commit-msg\n\t.husky/post-commit\n\t.husky/pre-push\n\t.husky/prepare-commit-msg\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")","is_error":false}]},"uuid":"6850fb7b-f048-43a7-9e6d-c9c4a589e10a","timestamp":"2026-02-13T13:20:51.871Z","toolUseResult":{"stdout":"On branch main\nYour branch is up to date with 'origin/main'.\n\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git restore <file>...\" to discard changes in working directory)\n\tmodified:   .entire/settings.json\n\tmodified:   .husky/pre-commit\n\tmodified:   frontend/src/App.tsx\n\tmodified:   frontend/src/components/Summary.tsx\n\nUntracked files:\n  (use \"git add <file>...\" to include in what will be committed)\n\t.claude/settings.json\n\t.entire/.gitignore\n\t.husky/commit-msg\n\t.husky/post-commit\n\t.husky/pre-push\n\t.husky/prepare-commit-msg\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"1e981b38-6229-467c-a5c2-e74db67a75fd"}
{"parentUuid":"6850fb7b-f048-43a7-9e6d-c9c4a589e10a","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01NGugYiydByAKecCaEKPw2o","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_013pXCwabLutBvApU7cvDCkH","name":"Bash","input":{"command":"git diff frontend/src/App.tsx frontend/src/components/Summary.tsx","description":"Show staged and unstaged changes for the two modified files"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":411,"cache_read_input_tokens":97506,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":411},"output_tokens":25,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY68ufRufMSrHyJ6HVw8v","type":"assistant","uuid":"8d71cb7e-1e68-4adc-96c4-90dcd665b1ae","timestamp":"2026-02-13T13:20:56.042Z"}
{"parentUuid":"8d71cb7e-1e68-4adc-96c4-90dcd665b1ae","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_013pXCwabLutBvApU7cvDCkH","type":"tool_result","content":"diff --git a/frontend/src/App.tsx b/frontend/src/App.tsx\nindex a32575e..ce55616 100644\n--- a/frontend/src/App.tsx\n+++ b/frontend/src/App.tsx\n@@ -37,6 +37,7 @@ import {\n \tuseFeatureFlags,\n } from \"./contexts/FeatureFlagContext\";\n import { useBookmarkApi } from \"./hooks/useBookmarkApi\";\n+import type { ProviderName } from \"./hooks/useEvaluationApi\";\n import { useEvaluationApi } from \"./hooks/useEvaluationApi\";\n import { useEvaluationHistory } from \"./hooks/useEvaluationHistory\";\n import { useFeedbackApi } from \"./hooks/useFeedbackApi\";\n@@ -602,7 +603,7 @@ function AppContent() {\n \t\tasync (\n \t\t\turl: string,\n \t\t\tevaluators: number,\n-\t\t\tprovider?: \"claude\" | \"opencode\" | \"cursor\" | \"github-copilot\",\n+\t\t\tprovider?: ProviderName,\n \t\t\tevaluatorFilter?: EvaluatorFilter,\n \t\t\tconcurrency?: number,\n \t\t\tselectedEvaluators?: string[],\n@@ -667,7 +668,7 @@ function AppContent() {\n \t\tasync (\n \t\t\turls: string[],\n \t\t\t_evaluators: number,\n-\t\t\tprovider?: \"claude\" | \"opencode\" | \"cursor\" | \"github-copilot\",\n+\t\t\tprovider?: ProviderName,\n \t\t\tevaluatorFilter?: EvaluatorFilter,\n \t\t\tconcurrency?: number,\n \t\t\tselectedEvaluators?: string[],\n@@ -1395,6 +1396,15 @@ function AppContent() {\n \t\t}\n \t}, [currentEvaluationId, historyApi, handleClear]);\n \n+\t// Handle re-run evaluation from Summary page\n+\tconst handleReRun = useCallback(\n+\t\tasync (provider: ProviderName) => {\n+\t\t\tif (!currentRepositoryUrl) return;\n+\t\t\tawait handleUrlSubmit(currentRepositoryUrl, 17, provider, \"all\");\n+\t\t},\n+\t\t[currentRepositoryUrl, handleUrlSubmit],\n+\t);\n+\n \t// Issue selection handlers\n \tconst handleToggleIssueSelection = useCallback(\n \t\t(key: string, _issue: Issue) => {\n@@ -1776,6 +1786,7 @@ function AppContent() {\n \t\t\t\t\t\t\t\tcuratedCount={curatedIssues.length}\n \t\t\t\t\t\t\t\tevaluationId={currentEvaluationId ?? undefined}\n \t\t\t\t\t\t\t\tonDelete={handleDeleteEvaluation}\n+\t\t\t\t\t\t\t\tonReRun={handleReRun}\n \t\t\t\t\t\t\t\tcuration={evaluationData.curation}\n \t\t\t\t\t\t\t\tevaluationLogs={evaluationLogs}\n \t\t\t\t\t\t\t/>\ndiff --git a/frontend/src/components/Summary.tsx b/frontend/src/components/Summary.tsx\nindex e6b67c4..ae5098f 100644\n--- a/frontend/src/components/Summary.tsx\n+++ b/frontend/src/components/Summary.tsx\n@@ -1,5 +1,6 @@\n import React, { useState } from \"react\";\n import { useFeatureFlags } from \"../contexts/FeatureFlagContext\";\n+import type { ProviderName } from \"../hooks/useEvaluationApi\";\n import { extractRepoName, formatCost, formatDuration } from \"../lib/formatters\";\n import type {\n \tICuratedIssue,\n@@ -12,6 +13,15 @@ import { LinkedDocsBrowserModal } from \"./shared/LinkedDocsBrowserModal\";\n import { SkillsBrowserModal } from \"./shared/SkillsBrowserModal\";\n import { ContextScoreCard } from \"./summary/ContextScoreCard\";\n \n+/** Available AI providers */\n+const PROVIDERS: { name: ProviderName; displayName: string }[] = [\n+\t{ name: \"claude\", displayName: \"Claude Code\" },\n+\t{ name: \"codex\", displayName: \"OpenAI Codex\" },\n+\t{ name: \"opencode\", displayName: \"OpenCode\" },\n+\t{ name: \"cursor\", displayName: \"Cursor Agent\" },\n+\t{ name: \"github-copilot\", displayName: \"GitHub Copilot\" },\n+];\n+\n // Log entry type for activity logs\n interface LogEntry {\n \ttimestamp: Date;\n@@ -34,6 +44,7 @@ interface SummaryProps {\n \tcuratedCount?: number;\n \tevaluationId?: string;\n \tonDelete?: () => void;\n+\tonReRun?: (provider: ProviderName) => void;\n \tcuration?: {\n \t\terrors?: {\n \t\t\tcuratedIssues: ICuratedIssue[];\n@@ -62,6 +73,7 @@ export const Summary: React.FC<SummaryProps> = ({\n \tcuratedCount,\n \tevaluationId,\n \tonDelete,\n+\tonReRun,\n \tcuration,\n \tevaluationLogs,\n }) => {\n@@ -74,6 +86,9 @@ export const Summary: React.FC<SummaryProps> = ({\n \t\t\"agents\" | \"claude\" | \"copilot\" | \"rules\" | \"claude-code\" | null\n \t>(null);\n \tconst [showActivityLog, setShowActivityLog] = useState(false);\n+\tconst [reRunProvider, setReRunProvider] = useState<ProviderName>(\n+\t\tmetadata.agent === \"random\" ? \"claude\" : (metadata.agent as ProviderName),\n+\t);\n \tconst formattedDate = new Date(metadata.generatedAt).toLocaleString();\n \tconst shareUrl = evaluationId\n \t\t? `${window.location.origin}/evaluation/${evaluationId}`\n@@ -316,34 +331,76 @@ export const Summary: React.FC<SummaryProps> = ({\n \t\t\t\t\t\t\t</span>\n \t\t\t\t\t\t</div>\n \t\t\t\t\t</div>\n-\t\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n-\t\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n-\t\t\t\t\t\t<button\n-\t\t\t\t\t\t\tonClick={() => {\n-\t\t\t\t\t\t\t\tif (\n-\t\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n-\t\t\t\t\t\t\t\t) {\n-\t\t\t\t\t\t\t\t\tonDelete();\n-\t\t\t\t\t\t\t\t}\n-\t\t\t\t\t\t\t}}\n-\t\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n-\t\t\t\t\t\t\ttitle=\"Delete evaluation\"\n-\t\t\t\t\t\t>\n-\t\t\t\t\t\t\t<svg\n-\t\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n-\t\t\t\t\t\t\t\tfill=\"none\"\n-\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n-\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n+\t\t\t\t\t<div className=\"flex items-center gap-2\">\n+\t\t\t\t\t\t{/* Re-run Button */}\n+\t\t\t\t\t\t{onReRun && (\n+\t\t\t\t\t\t\t<div className=\"flex items-center gap-1.5\">\n+\t\t\t\t\t\t\t\t{!cloudMode && (\n+\t\t\t\t\t\t\t\t\t<select\n+\t\t\t\t\t\t\t\t\t\tvalue={reRunProvider}\n+\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n+\t\t\t\t\t\t\t\t\t\t\tsetReRunProvider(e.target.value as ProviderName)\n+\t\t\t\t\t\t\t\t\t\t}\n+\t\t\t\t\t\t\t\t\t\tclassName=\"bg-slate-700/60 border border-slate-600/50 text-slate-200 text-xs rounded-md px-2 py-1.5 focus:outline-none focus:ring-1 focus:ring-indigo-500\"\n+\t\t\t\t\t\t\t\t\t>\n+\t\t\t\t\t\t\t\t\t\t{PROVIDERS.map((p) => (\n+\t\t\t\t\t\t\t\t\t\t\t<option key={p.name} value={p.name}>\n+\t\t\t\t\t\t\t\t\t\t\t\t{p.displayName}\n+\t\t\t\t\t\t\t\t\t\t\t</option>\n+\t\t\t\t\t\t\t\t\t\t))}\n+\t\t\t\t\t\t\t\t\t</select>\n+\t\t\t\t\t\t\t\t)}\n+\t\t\t\t\t\t\t\t<button\n+\t\t\t\t\t\t\t\t\tonClick={() => onReRun(cloudMode ? \"random\" : reRunProvider)}\n+\t\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-white bg-indigo-600 hover:bg-indigo-500 rounded-lg transition-colors\"\n+\t\t\t\t\t\t\t\t\ttitle=\"Re-run evaluation\"\n+\t\t\t\t\t\t\t\t>\n+\t\t\t\t\t\t\t\t\t<svg\n+\t\t\t\t\t\t\t\t\t\tclassName=\"w-3.5 h-3.5\"\n+\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n+\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n+\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n+\t\t\t\t\t\t\t\t\t>\n+\t\t\t\t\t\t\t\t\t\t<path\n+\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n+\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n+\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n+\t\t\t\t\t\t\t\t\t\t\td=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n+\t\t\t\t\t\t\t\t\t\t/>\n+\t\t\t\t\t\t\t\t\t</svg>\n+\t\t\t\t\t\t\t\t\tRe-run\n+\t\t\t\t\t\t\t\t</button>\n+\t\t\t\t\t\t\t</div>\n+\t\t\t\t\t\t)}\n+\t\t\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n+\t\t\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n+\t\t\t\t\t\t\t<button\n+\t\t\t\t\t\t\t\tonClick={() => {\n+\t\t\t\t\t\t\t\t\tif (\n+\t\t\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n+\t\t\t\t\t\t\t\t\t) {\n+\t\t\t\t\t\t\t\t\t\tonDelete();\n+\t\t\t\t\t\t\t\t\t}\n+\t\t\t\t\t\t\t\t}}\n+\t\t\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n+\t\t\t\t\t\t\t\ttitle=\"Delete evaluation\"\n \t\t\t\t\t\t\t>\n-\t\t\t\t\t\t\t\t<path\n-\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n-\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n-\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n-\t\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n-\t\t\t\t\t\t\t\t/>\n-\t\t\t\t\t\t\t</svg>\n-\t\t\t\t\t\t</button>\n-\t\t\t\t\t)}\n+\t\t\t\t\t\t\t\t<svg\n+\t\t\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n+\t\t\t\t\t\t\t\t\tfill=\"none\"\n+\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n+\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n+\t\t\t\t\t\t\t\t>\n+\t\t\t\t\t\t\t\t\t<path\n+\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n+\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n+\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n+\t\t\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n+\t\t\t\t\t\t\t\t\t/>\n+\t\t\t\t\t\t\t\t</svg>\n+\t\t\t\t\t\t\t</button>\n+\t\t\t\t\t\t)}\n+\t\t\t\t\t</div>\n \t\t\t\t</div>\n \t\t\t</div>","is_error":false}]},"uuid":"361e7898-c8fb-4f2a-a8bf-36211cfc6e69","timestamp":"2026-02-13T13:20:56.363Z","toolUseResult":{"stdout":"diff --git a/frontend/src/App.tsx b/frontend/src/App.tsx\nindex a32575e..ce55616 100644\n--- a/frontend/src/App.tsx\n+++ b/frontend/src/App.tsx\n@@ -37,6 +37,7 @@ import {\n \tuseFeatureFlags,\n } from \"./contexts/FeatureFlagContext\";\n import { useBookmarkApi } from \"./hooks/useBookmarkApi\";\n+import type { ProviderName } from \"./hooks/useEvaluationApi\";\n import { useEvaluationApi } from \"./hooks/useEvaluationApi\";\n import { useEvaluationHistory } from \"./hooks/useEvaluationHistory\";\n import { useFeedbackApi } from \"./hooks/useFeedbackApi\";\n@@ -602,7 +603,7 @@ function AppContent() {\n \t\tasync (\n \t\t\turl: string,\n \t\t\tevaluators: number,\n-\t\t\tprovider?: \"claude\" | \"opencode\" | \"cursor\" | \"github-copilot\",\n+\t\t\tprovider?: ProviderName,\n \t\t\tevaluatorFilter?: EvaluatorFilter,\n \t\t\tconcurrency?: number,\n \t\t\tselectedEvaluators?: string[],\n@@ -667,7 +668,7 @@ function AppContent() {\n \t\tasync (\n \t\t\turls: string[],\n \t\t\t_evaluators: number,\n-\t\t\tprovider?: \"claude\" | \"opencode\" | \"cursor\" | \"github-copilot\",\n+\t\t\tprovider?: ProviderName,\n \t\t\tevaluatorFilter?: EvaluatorFilter,\n \t\t\tconcurrency?: number,\n \t\t\tselectedEvaluators?: string[],\n@@ -1395,6 +1396,15 @@ function AppContent() {\n \t\t}\n \t}, [currentEvaluationId, historyApi, handleClear]);\n \n+\t// Handle re-run evaluation from Summary page\n+\tconst handleReRun = useCallback(\n+\t\tasync (provider: ProviderName) => {\n+\t\t\tif (!currentRepositoryUrl) return;\n+\t\t\tawait handleUrlSubmit(currentRepositoryUrl, 17, provider, \"all\");\n+\t\t},\n+\t\t[currentRepositoryUrl, handleUrlSubmit],\n+\t);\n+\n \t// Issue selection handlers\n \tconst handleToggleIssueSelection = useCallback(\n \t\t(key: string, _issue: Issue) => {\n@@ -1776,6 +1786,7 @@ function AppContent() {\n \t\t\t\t\t\t\t\tcuratedCount={curatedIssues.length}\n \t\t\t\t\t\t\t\tevaluationId={currentEvaluationId ?? undefined}\n \t\t\t\t\t\t\t\tonDelete={handleDeleteEvaluation}\n+\t\t\t\t\t\t\t\tonReRun={handleReRun}\n \t\t\t\t\t\t\t\tcuration={evaluationData.curation}\n \t\t\t\t\t\t\t\tevaluationLogs={evaluationLogs}\n \t\t\t\t\t\t\t/>\ndiff --git a/frontend/src/components/Summary.tsx b/frontend/src/components/Summary.tsx\nindex e6b67c4..ae5098f 100644\n--- a/frontend/src/components/Summary.tsx\n+++ b/frontend/src/components/Summary.tsx\n@@ -1,5 +1,6 @@\n import React, { useState } from \"react\";\n import { useFeatureFlags } from \"../contexts/FeatureFlagContext\";\n+import type { ProviderName } from \"../hooks/useEvaluationApi\";\n import { extractRepoName, formatCost, formatDuration } from \"../lib/formatters\";\n import type {\n \tICuratedIssue,\n@@ -12,6 +13,15 @@ import { LinkedDocsBrowserModal } from \"./shared/LinkedDocsBrowserModal\";\n import { SkillsBrowserModal } from \"./shared/SkillsBrowserModal\";\n import { ContextScoreCard } from \"./summary/ContextScoreCard\";\n \n+/** Available AI providers */\n+const PROVIDERS: { name: ProviderName; displayName: string }[] = [\n+\t{ name: \"claude\", displayName: \"Claude Code\" },\n+\t{ name: \"codex\", displayName: \"OpenAI Codex\" },\n+\t{ name: \"opencode\", displayName: \"OpenCode\" },\n+\t{ name: \"cursor\", displayName: \"Cursor Agent\" },\n+\t{ name: \"github-copilot\", displayName: \"GitHub Copilot\" },\n+];\n+\n // Log entry type for activity logs\n interface LogEntry {\n \ttimestamp: Date;\n@@ -34,6 +44,7 @@ interface SummaryProps {\n \tcuratedCount?: number;\n \tevaluationId?: string;\n \tonDelete?: () => void;\n+\tonReRun?: (provider: ProviderName) => void;\n \tcuration?: {\n \t\terrors?: {\n \t\t\tcuratedIssues: ICuratedIssue[];\n@@ -62,6 +73,7 @@ export const Summary: React.FC<SummaryProps> = ({\n \tcuratedCount,\n \tevaluationId,\n \tonDelete,\n+\tonReRun,\n \tcuration,\n \tevaluationLogs,\n }) => {\n@@ -74,6 +86,9 @@ export const Summary: React.FC<SummaryProps> = ({\n \t\t\"agents\" | \"claude\" | \"copilot\" | \"rules\" | \"claude-code\" | null\n \t>(null);\n \tconst [showActivityLog, setShowActivityLog] = useState(false);\n+\tconst [reRunProvider, setReRunProvider] = useState<ProviderName>(\n+\t\tmetadata.agent === \"random\" ? \"claude\" : (metadata.agent as ProviderName),\n+\t);\n \tconst formattedDate = new Date(metadata.generatedAt).toLocaleString();\n \tconst shareUrl = evaluationId\n \t\t? `${window.location.origin}/evaluation/${evaluationId}`\n@@ -316,34 +331,76 @@ export const Summary: React.FC<SummaryProps> = ({\n \t\t\t\t\t\t\t</span>\n \t\t\t\t\t\t</div>\n \t\t\t\t\t</div>\n-\t\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n-\t\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n-\t\t\t\t\t\t<button\n-\t\t\t\t\t\t\tonClick={() => {\n-\t\t\t\t\t\t\t\tif (\n-\t\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n-\t\t\t\t\t\t\t\t) {\n-\t\t\t\t\t\t\t\t\tonDelete();\n-\t\t\t\t\t\t\t\t}\n-\t\t\t\t\t\t\t}}\n-\t\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n-\t\t\t\t\t\t\ttitle=\"Delete evaluation\"\n-\t\t\t\t\t\t>\n-\t\t\t\t\t\t\t<svg\n-\t\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n-\t\t\t\t\t\t\t\tfill=\"none\"\n-\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n-\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n+\t\t\t\t\t<div className=\"flex items-center gap-2\">\n+\t\t\t\t\t\t{/* Re-run Button */}\n+\t\t\t\t\t\t{onReRun && (\n+\t\t\t\t\t\t\t<div className=\"flex items-center gap-1.5\">\n+\t\t\t\t\t\t\t\t{!cloudMode && (\n+\t\t\t\t\t\t\t\t\t<select\n+\t\t\t\t\t\t\t\t\t\tvalue={reRunProvider}\n+\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n+\t\t\t\t\t\t\t\t\t\t\tsetReRunProvider(e.target.value as ProviderName)\n+\t\t\t\t\t\t\t\t\t\t}\n+\t\t\t\t\t\t\t\t\t\tclassName=\"bg-slate-700/60 border border-slate-600/50 text-slate-200 text-xs rounded-md px-2 py-1.5 focus:outline-none focus:ring-1 focus:ring-indigo-500\"\n+\t\t\t\t\t\t\t\t\t>\n+\t\t\t\t\t\t\t\t\t\t{PROVIDERS.map((p) => (\n+\t\t\t\t\t\t\t\t\t\t\t<option key={p.name} value={p.name}>\n+\t\t\t\t\t\t\t\t\t\t\t\t{p.displayName}\n+\t\t\t\t\t\t\t\t\t\t\t</option>\n+\t\t\t\t\t\t\t\t\t\t))}\n+\t\t\t\t\t\t\t\t\t</select>\n+\t\t\t\t\t\t\t\t)}\n+\t\t\t\t\t\t\t\t<button\n+\t\t\t\t\t\t\t\t\tonClick={() => onReRun(cloudMode ? \"random\" : reRunProvider)}\n+\t\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-white bg-indigo-600 hover:bg-indigo-500 rounded-lg transition-colors\"\n+\t\t\t\t\t\t\t\t\ttitle=\"Re-run evaluation\"\n+\t\t\t\t\t\t\t\t>\n+\t\t\t\t\t\t\t\t\t<svg\n+\t\t\t\t\t\t\t\t\t\tclassName=\"w-3.5 h-3.5\"\n+\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n+\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n+\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n+\t\t\t\t\t\t\t\t\t>\n+\t\t\t\t\t\t\t\t\t\t<path\n+\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n+\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n+\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n+\t\t\t\t\t\t\t\t\t\t\td=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n+\t\t\t\t\t\t\t\t\t\t/>\n+\t\t\t\t\t\t\t\t\t</svg>\n+\t\t\t\t\t\t\t\t\tRe-run\n+\t\t\t\t\t\t\t\t</button>\n+\t\t\t\t\t\t\t</div>\n+\t\t\t\t\t\t)}\n+\t\t\t\t\t\t{/* Delete Button - hidden in cloud mode */}\n+\t\t\t\t\t\t{evaluationId && onDelete && !cloudMode && (\n+\t\t\t\t\t\t\t<button\n+\t\t\t\t\t\t\t\tonClick={() => {\n+\t\t\t\t\t\t\t\t\tif (\n+\t\t\t\t\t\t\t\t\t\tconfirm(\"Are you sure you want to delete this evaluation?\")\n+\t\t\t\t\t\t\t\t\t) {\n+\t\t\t\t\t\t\t\t\t\tonDelete();\n+\t\t\t\t\t\t\t\t\t}\n+\t\t\t\t\t\t\t\t}}\n+\t\t\t\t\t\t\t\tclassName=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/60 rounded-lg transition-all\"\n+\t\t\t\t\t\t\t\ttitle=\"Delete evaluation\"\n \t\t\t\t\t\t\t>\n-\t\t\t\t\t\t\t\t<path\n-\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n-\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n-\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n-\t\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n-\t\t\t\t\t\t\t\t/>\n-\t\t\t\t\t\t\t</svg>\n-\t\t\t\t\t\t</button>\n-\t\t\t\t\t)}\n+\t\t\t\t\t\t\t\t<svg\n+\t\t\t\t\t\t\t\t\tclassName=\"w-6 h-6\"\n+\t\t\t\t\t\t\t\t\tfill=\"none\"\n+\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n+\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n+\t\t\t\t\t\t\t\t>\n+\t\t\t\t\t\t\t\t\t<path\n+\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n+\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n+\t\t\t\t\t\t\t\t\t\tstrokeWidth={2}\n+\t\t\t\t\t\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n+\t\t\t\t\t\t\t\t\t/>\n+\t\t\t\t\t\t\t\t</svg>\n+\t\t\t\t\t\t\t</button>\n+\t\t\t\t\t\t)}\n+\t\t\t\t\t</div>\n \t\t\t\t</div>\n \t\t\t</div>","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"8d71cb7e-1e68-4adc-96c4-90dcd665b1ae"}
{"parentUuid":"361e7898-c8fb-4f2a-a8bf-36211cfc6e69","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01G8LCAcrHpR7bfKDKaT6S7p","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01CAsu8RbDb5KUt9VffGvKrW","name":"Bash","input":{"command":"git log --oneline -5","description":"Show recent commits"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":2868,"cache_read_input_tokens":97917,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":2868},"output_tokens":25,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY68uybZM7yHSMqyycc3G","type":"assistant","uuid":"ae090658-54cc-4597-bc95-303782db53fa","timestamp":"2026-02-13T13:20:59.392Z"}
{"parentUuid":"ae090658-54cc-4597-bc95-303782db53fa","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01CAsu8RbDb5KUt9VffGvKrW","type":"tool_result","content":"b220ccc Propagate isPhantomFile through remediation pipeline and add phantom file support to evaluators 12/14/15\n343e81e Clear issue selection basket after remediation completes\nb567018 Fix diff viewer column layout with CSS Grid\n207fb7c Fix tab displays\n53de9cb Stabilize hook return objects with useMemo to prevent API request flooding","is_error":false}]},"uuid":"1aef14dd-53a3-4b84-bea3-d64866efbac0","timestamp":"2026-02-13T13:20:59.823Z","toolUseResult":{"stdout":"b220ccc Propagate isPhantomFile through remediation pipeline and add phantom file support to evaluators 12/14/15\n343e81e Clear issue selection basket after remediation completes\nb567018 Fix diff viewer column layout with CSS Grid\n207fb7c Fix tab displays\n53de9cb Stabilize hook return objects with useMemo to prevent API request flooding","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"ae090658-54cc-4597-bc95-303782db53fa"}
{"parentUuid":"1aef14dd-53a3-4b84-bea3-d64866efbac0","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_011PYKHenRZaRHBX7nuEZFsQ","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_012PMPx2kszQTrbJwEmT4hpu","name":"Bash","input":{"command":"git add frontend/src/App.tsx frontend/src/components/Summary.tsx && git commit -m \"$(cat <<'EOF'\nAdd re-run evaluation button to summary page header\n\nAllows users to re-run an evaluation directly from the summary page\ninstead of navigating back to the home page. In non-cloud mode, an\ninline provider dropdown lets users switch providers before re-running.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n)\"","description":"Stage and commit the two modified files"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":174,"cache_read_input_tokens":100785,"output_tokens":191,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":174,"ephemeral_5m_input_tokens":0},"inference_geo":"","iterations":[],"speed":"standard"}},"requestId":"req_011CY68vFRK6eJ54bzqMkgZ9","type":"assistant","uuid":"dae3e578-927a-46af-a7ae-d9a7beb52fc6","timestamp":"2026-02-13T13:21:05.258Z"}
{"parentUuid":"dae3e578-927a-46af-a7ae-d9a7beb52fc6","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"bash_progress","output":" 2614 expect() calls\nRan 1219 tests across 56 files. [835.00ms]\n$ biome check --error-on-warnings\nChecked 272 files in 99ms. No fixes applied.\n$ tsc --noEmit","fullOutput":"      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:103:51)\n[13:21:06.229] [ConcurrencyLimiter] Task 1 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:70:3)\n      at new Promise (1:11)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:33:9)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:25:2)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:26)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:103:51)\n[13:21:06.229] [ConcurrencyLimiter] Task 2 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:65:7)\nsrc/shared/evaluation/semantic-deduplicator.test.ts:\n[SemanticDeduplicator] Semantic deduplication failed: AI provider failed\nsrc/api/routes/evaluation.test.ts:\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 178 | \t\t\texpect(response.status).toBe(202);\n179 | \t\t});\n180 | \n181 | \t\ttest(\"should return 429 when queue is full\", async () => {\n182 | \t\t\tconst mockManager = createMockJobManager({\n183 | \t\t\t\tsubmitJobError: new Error(\"Job queue is at capacity\"),\n                              ^\nerror: Job queue is at capacity\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:183:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:181:48)\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo1\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo2\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo3\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 309 | \t\t\texpect(response2.status).toBe(202);\n310 | \t\t});\n311 | \n312 | \t\ttest(\"should return 500 for other errors\", async () => {\n313 | \t\t\tconst mockManager = createMockJobManager({\n314 | \t\t\t\tsubmitJobError: new Error(\"Database connection failed\"),\n                              ^\nerror: Database connection failed\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:314:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:312:46)\n[EvaluationRepository] Deleted evaluation eval-to-delete\n[EvaluationRepository] Deleted all evaluations (2 records)\n 1219 pass\n 0 fail\n 2614 expect() calls\nRan 1219 tests across 56 files. [835.00ms]\n$ biome check --error-on-warnings\nChecked 272 files in 99ms. No fixes applied.\n$ tsc --noEmit","elapsedTimeSeconds":2,"totalLines":142},"toolUseID":"bash-progress-0","parentToolUseID":"toolu_012PMPx2kszQTrbJwEmT4hpu","uuid":"30789e6e-d54b-49be-afb9-7fb2658b0c4c","timestamp":"2026-02-13T13:21:07.289Z"}
{"parentUuid":"30789e6e-d54b-49be-afb9-7fb2658b0c4c","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"bash_progress","output":" 2614 expect() calls\nRan 1219 tests across 56 files. [835.00ms]\n$ biome check --error-on-warnings\nChecked 272 files in 99ms. No fixes applied.\n$ tsc --noEmit","fullOutput":"      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:103:51)\n[13:21:06.229] [ConcurrencyLimiter] Task 1 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:70:3)\n      at new Promise (1:11)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:33:9)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:25:2)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:26)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:103:51)\n[13:21:06.229] [ConcurrencyLimiter] Task 2 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:65:7)\nsrc/shared/evaluation/semantic-deduplicator.test.ts:\n[SemanticDeduplicator] Semantic deduplication failed: AI provider failed\nsrc/api/routes/evaluation.test.ts:\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 178 | \t\t\texpect(response.status).toBe(202);\n179 | \t\t});\n180 | \n181 | \t\ttest(\"should return 429 when queue is full\", async () => {\n182 | \t\t\tconst mockManager = createMockJobManager({\n183 | \t\t\t\tsubmitJobError: new Error(\"Job queue is at capacity\"),\n                              ^\nerror: Job queue is at capacity\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:183:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:181:48)\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo1\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo2\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo3\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 309 | \t\t\texpect(response2.status).toBe(202);\n310 | \t\t});\n311 | \n312 | \t\ttest(\"should return 500 for other errors\", async () => {\n313 | \t\t\tconst mockManager = createMockJobManager({\n314 | \t\t\t\tsubmitJobError: new Error(\"Database connection failed\"),\n                              ^\nerror: Database connection failed\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:314:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:312:46)\n[EvaluationRepository] Deleted evaluation eval-to-delete\n[EvaluationRepository] Deleted all evaluations (2 records)\n 1219 pass\n 0 fail\n 2614 expect() calls\nRan 1219 tests across 56 files. [835.00ms]\n$ biome check --error-on-warnings\nChecked 272 files in 99ms. No fixes applied.\n$ tsc --noEmit","elapsedTimeSeconds":3,"totalLines":142},"toolUseID":"bash-progress-1","parentToolUseID":"toolu_012PMPx2kszQTrbJwEmT4hpu","uuid":"0add5eda-893f-4b21-a1dd-52bef4ee1ba2","timestamp":"2026-02-13T13:21:08.300Z"}
{"parentUuid":"0add5eda-893f-4b21-a1dd-52bef4ee1ba2","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"bash_progress","output":" 2614 expect() calls\nRan 1219 tests across 56 files. [835.00ms]\n$ biome check --error-on-warnings\nChecked 272 files in 99ms. No fixes applied.\n$ tsc --noEmit","fullOutput":"      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:103:51)\n[13:21:06.229] [ConcurrencyLimiter] Task 1 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:70:3)\n      at new Promise (1:11)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:33:9)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:25:2)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:26)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:103:51)\n[13:21:06.229] [ConcurrencyLimiter] Task 2 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:65:7)\nsrc/shared/evaluation/semantic-deduplicator.test.ts:\n[SemanticDeduplicator] Semantic deduplication failed: AI provider failed\nsrc/api/routes/evaluation.test.ts:\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 178 | \t\t\texpect(response.status).toBe(202);\n179 | \t\t});\n180 | \n181 | \t\ttest(\"should return 429 when queue is full\", async () => {\n182 | \t\t\tconst mockManager = createMockJobManager({\n183 | \t\t\t\tsubmitJobError: new Error(\"Job queue is at capacity\"),\n                              ^\nerror: Job queue is at capacity\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:183:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:181:48)\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo1\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo2\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo3\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 309 | \t\t\texpect(response2.status).toBe(202);\n310 | \t\t});\n311 | \n312 | \t\ttest(\"should return 500 for other errors\", async () => {\n313 | \t\t\tconst mockManager = createMockJobManager({\n314 | \t\t\t\tsubmitJobError: new Error(\"Database connection failed\"),\n                              ^\nerror: Database connection failed\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:314:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:312:46)\n[EvaluationRepository] Deleted evaluation eval-to-delete\n[EvaluationRepository] Deleted all evaluations (2 records)\n 1219 pass\n 0 fail\n 2614 expect() calls\nRan 1219 tests across 56 files. [835.00ms]\n$ biome check --error-on-warnings\nChecked 272 files in 99ms. No fixes applied.\n$ tsc --noEmit","elapsedTimeSeconds":4,"totalLines":142},"toolUseID":"bash-progress-2","parentToolUseID":"toolu_012PMPx2kszQTrbJwEmT4hpu","uuid":"584c91b5-2427-4629-9eee-5bf2767e8890","timestamp":"2026-02-13T13:21:09.302Z"}
{"parentUuid":"584c91b5-2427-4629-9eee-5bf2767e8890","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"bash_progress","output":" 2614 expect() calls\nRan 1219 tests across 56 files. [835.00ms]\n$ biome check --error-on-warnings\nChecked 272 files in 99ms. No fixes applied.\n$ tsc --noEmit","fullOutput":"      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:103:51)\n[13:21:06.229] [ConcurrencyLimiter] Task 1 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:70:3)\n      at new Promise (1:11)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:33:9)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:25:2)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:26)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:103:51)\n[13:21:06.229] [ConcurrencyLimiter] Task 2 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:65:7)\nsrc/shared/evaluation/semantic-deduplicator.test.ts:\n[SemanticDeduplicator] Semantic deduplication failed: AI provider failed\nsrc/api/routes/evaluation.test.ts:\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 178 | \t\t\texpect(response.status).toBe(202);\n179 | \t\t});\n180 | \n181 | \t\ttest(\"should return 429 when queue is full\", async () => {\n182 | \t\t\tconst mockManager = createMockJobManager({\n183 | \t\t\t\tsubmitJobError: new Error(\"Job queue is at capacity\"),\n                              ^\nerror: Job queue is at capacity\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:183:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:181:48)\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo1\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo2\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo3\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 309 | \t\t\texpect(response2.status).toBe(202);\n310 | \t\t});\n311 | \n312 | \t\ttest(\"should return 500 for other errors\", async () => {\n313 | \t\t\tconst mockManager = createMockJobManager({\n314 | \t\t\t\tsubmitJobError: new Error(\"Database connection failed\"),\n                              ^\nerror: Database connection failed\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:314:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:312:46)\n[EvaluationRepository] Deleted evaluation eval-to-delete\n[EvaluationRepository] Deleted all evaluations (2 records)\n 1219 pass\n 0 fail\n 2614 expect() calls\nRan 1219 tests across 56 files. [835.00ms]\n$ biome check --error-on-warnings\nChecked 272 files in 99ms. No fixes applied.\n$ tsc --noEmit","elapsedTimeSeconds":5,"totalLines":142},"toolUseID":"bash-progress-3","parentToolUseID":"toolu_012PMPx2kszQTrbJwEmT4hpu","uuid":"63319b41-22d7-47f3-997a-ad4f3e9b2475","timestamp":"2026-02-13T13:21:10.303Z"}
{"parentUuid":"dae3e578-927a-46af-a7ae-d9a7beb52fc6","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_012PMPx2kszQTrbJwEmT4hpu","type":"tool_result","content":"[main f2635a5] Add re-run evaluation button to summary page header\n 2 files changed, 97 insertions(+), 29 deletions(-)\n$ bun test src/\nbun test v1.3.5 (1e86cebd)\n\nsrc/shared/claude/response-parser.test.ts:\n[Parser] Warning: Could not parse evaluator response as JSON array\n[Parser] Warning: Could not parse evaluator response as JSON array\n[SnippetExtractor] Line range 20-25 exceeds file length 10, clamping to 10-10\n[SnippetExtractor] Line range 8-15 exceeds file length 10, clamping to 8-10\n[SnippetExtractor] Line range 71-75 exceeds file length 57, clamping to 57-57\n[SnippetExtractor] Line range 10-15 exceeds file length 3, clamping to 3-3\n[Parser] Multi-file validation warning: Issue \"Untitled\" missing file reference in multi-file context. This issue will be assigned to first file by default, which may be incorrect.\n[Parser] Multi-file validation warning: Issue \"Test Issue\" missing file reference in multi-file context. This issue will be assigned to first file by default, which may be incorrect.\n[Parser] Multi-file validation warning: Issue \"Untitled\" missing file reference in multi-file context. This issue will be assigned to first file by default, which may be incorrect.\n[Parser] Warning: Could not parse evaluator response as JSON array\n\nsrc/shared/utils/concurrency-limiter.test.ts:\n[13:21:06.227] [ConcurrencyLimiter] Task 2 failed: 84 | \n85 | \t\ttest(\"should handle errors without stopping other tasks\", async () => {\n86 | \t\t\tconst items = [1, 2, 3, 4, 5];\n87 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async (item) => {\n88 | \t\t\t\tif (item === 3) {\n89 | \t\t\t\t\tthrow new Error(\"Item 3 failed\");\n                    ^\nerror: Item 3 failed\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:89:16)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:87:67)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:65:7)\n\n[13:21:06.229] [ConcurrencyLimiter] Task 0 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:70:3)\n      at new Promise (1:11)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:33:9)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:25:2)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:26)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:103:51)\n\n[13:21:06.229] [ConcurrencyLimiter] Task 1 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:70:3)\n      at new Promise (1:11)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:33:9)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:25:2)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:26)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:103:51)\n\n[13:21:06.229] [ConcurrencyLimiter] Task 2 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:65:7)\n\n\nsrc/shared/evaluation/semantic-deduplicator.test.ts:\n[SemanticDeduplicator] Semantic deduplication failed: AI provider failed\n\nsrc/api/routes/evaluation.test.ts:\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 178 | \t\t\texpect(response.status).toBe(202);\n179 | \t\t});\n180 | \n181 | \t\ttest(\"should return 429 when queue is full\", async () => {\n182 | \t\t\tconst mockManager = createMockJobManager({\n183 | \t\t\t\tsubmitJobError: new Error(\"Job queue is at capacity\"),\n                              ^\nerror: Job queue is at capacity\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:183:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:181:48)\n\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo1\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo2\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo3\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 309 | \t\t\texpect(response2.status).toBe(202);\n310 | \t\t});\n311 | \n312 | \t\ttest(\"should return 500 for other errors\", async () => {\n313 | \t\t\tconst mockManager = createMockJobManager({\n314 | \t\t\t\tsubmitJobError: new Error(\"Database connection failed\"),\n                              ^\nerror: Database connection failed\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:314:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:312:46)\n\n[EvaluationRepository] Deleted evaluation eval-to-delete\n[EvaluationRepository] Deleted all evaluations (2 records)\n\n 1219 pass\n 0 fail\n 2614 expect() calls\nRan 1219 tests across 56 files. [835.00ms]\n$ biome check --error-on-warnings\nChecked 272 files in 99ms. No fixes applied.\n$ tsc --noEmit","is_error":false}]},"uuid":"fec8b9b2-7052-497a-a37e-ca4755d14fc1","timestamp":"2026-02-13T13:21:11.180Z","toolUseResult":{"stdout":"[main f2635a5] Add re-run evaluation button to summary page header\n 2 files changed, 97 insertions(+), 29 deletions(-)\n$ bun test src/\nbun test v1.3.5 (1e86cebd)\n\nsrc/shared/claude/response-parser.test.ts:\n[Parser] Warning: Could not parse evaluator response as JSON array\n[Parser] Warning: Could not parse evaluator response as JSON array\n[SnippetExtractor] Line range 20-25 exceeds file length 10, clamping to 10-10\n[SnippetExtractor] Line range 8-15 exceeds file length 10, clamping to 8-10\n[SnippetExtractor] Line range 71-75 exceeds file length 57, clamping to 57-57\n[SnippetExtractor] Line range 10-15 exceeds file length 3, clamping to 3-3\n[Parser] Multi-file validation warning: Issue \"Untitled\" missing file reference in multi-file context. This issue will be assigned to first file by default, which may be incorrect.\n[Parser] Multi-file validation warning: Issue \"Test Issue\" missing file reference in multi-file context. This issue will be assigned to first file by default, which may be incorrect.\n[Parser] Multi-file validation warning: Issue \"Untitled\" missing file reference in multi-file context. This issue will be assigned to first file by default, which may be incorrect.\n[Parser] Warning: Could not parse evaluator response as JSON array\n\nsrc/shared/utils/concurrency-limiter.test.ts:\n[13:21:06.227] [ConcurrencyLimiter] Task 2 failed: 84 | \n85 | \t\ttest(\"should handle errors without stopping other tasks\", async () => {\n86 | \t\t\tconst items = [1, 2, 3, 4, 5];\n87 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async (item) => {\n88 | \t\t\t\tif (item === 3) {\n89 | \t\t\t\t\tthrow new Error(\"Item 3 failed\");\n                    ^\nerror: Item 3 failed\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:89:16)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:87:67)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:65:7)\n\n[13:21:06.229] [ConcurrencyLimiter] Task 0 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:70:3)\n      at new Promise (1:11)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:33:9)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:25:2)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:26)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:103:51)\n\n[13:21:06.229] [ConcurrencyLimiter] Task 1 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:70:3)\n      at new Promise (1:11)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:33:9)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:25:2)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:26)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:103:51)\n\n[13:21:06.229] [ConcurrencyLimiter] Task 2 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:65:7)\n\n\nsrc/shared/evaluation/semantic-deduplicator.test.ts:\n[SemanticDeduplicator] Semantic deduplication failed: AI provider failed\n\nsrc/api/routes/evaluation.test.ts:\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 178 | \t\t\texpect(response.status).toBe(202);\n179 | \t\t});\n180 | \n181 | \t\ttest(\"should return 429 when queue is full\", async () => {\n182 | \t\t\tconst mockManager = createMockJobManager({\n183 | \t\t\t\tsubmitJobError: new Error(\"Job queue is at capacity\"),\n                              ^\nerror: Job queue is at capacity\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:183:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:181:48)\n\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo1\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo2\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo3\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 309 | \t\t\texpect(response2.status).toBe(202);\n310 | \t\t});\n311 | \n312 | \t\ttest(\"should return 500 for other errors\", async () => {\n313 | \t\t\tconst mockManager = createMockJobManager({\n314 | \t\t\t\tsubmitJobError: new Error(\"Database connection failed\"),\n                              ^\nerror: Database connection failed\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:314:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:312:46)\n\n[EvaluationRepository] Deleted evaluation eval-to-delete\n[EvaluationRepository] Deleted all evaluations (2 records)\n\n 1219 pass\n 0 fail\n 2614 expect() calls\nRan 1219 tests across 56 files. [835.00ms]\n$ biome check --error-on-warnings\nChecked 272 files in 99ms. No fixes applied.\n$ tsc --noEmit","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"dae3e578-927a-46af-a7ae-d9a7beb52fc6"}
{"parentUuid":"fec8b9b2-7052-497a-a37e-ca4755d14fc1","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01Y7XGfJekBVAkDucRh6XtTK","type":"message","role":"assistant","content":[{"type":"text","text":"Commit succeeded — all 1219 tests pass, lint clean, types valid. Committed as `f2635a5`."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":3147,"cache_read_input_tokens":100959,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":3147},"output_tokens":2,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY68w4hB2XritZpXU6gq4","type":"assistant","uuid":"0c5eb3e7-125c-4986-851b-da4a86cdf6cc","timestamp":"2026-02-13T13:21:14.317Z"}
{"parentUuid":"0c5eb3e7-125c-4986-851b-da4a86cdf6cc","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"Stop","hookName":"Stop","command":"entire hooks claude-code stop"},"parentToolUseID":"b0bc9c83-8c3a-448f-9e44-a806c73c3b5a","toolUseID":"b0bc9c83-8c3a-448f-9e44-a806c73c3b5a","timestamp":"2026-02-13T13:21:14.362Z","uuid":"4444c59e-5373-42d0-afcf-092ac36b4f8d"}
{"parentUuid":"4444c59e-5373-42d0-afcf-092ac36b4f8d","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"system","subtype":"stop_hook_summary","hookCount":1,"hookInfos":[{"command":"entire hooks claude-code stop"}],"hookErrors":[],"preventedContinuation":false,"stopReason":"","hasOutput":true,"level":"suggestion","timestamp":"2026-02-13T13:21:28.276Z","uuid":"95f80b78-2fad-445c-9a70-1836f48c1ffc","toolUseID":"b0bc9c83-8c3a-448f-9e44-a806c73c3b5a"}
{"parentUuid":"95f80b78-2fad-445c-9a70-1836f48c1ffc","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"system","subtype":"turn_duration","durationMs":42063,"timestamp":"2026-02-13T13:21:28.278Z","uuid":"cde292c2-a892-4cb8-802d-3f36685e3670","isMeta":false}
{"type":"file-history-snapshot","messageId":"1f6b1f57-8753-42e0-993e-43b3e584e051","snapshot":{"messageId":"1f6b1f57-8753-42e0-993e-43b3e584e051","trackedFileBackups":{"frontend/src/components/Summary.tsx":{"backupFileName":"3dfda6a17ea33c6c@v2","version":2,"backupTime":"2026-02-13T13:20:46.213Z"},"frontend/src/App.tsx":{"backupFileName":"a9c3aa9c76b64e9a@v2","version":2,"backupTime":"2026-02-13T13:20:46.213Z"}},"timestamp":"2026-02-13T15:20:52.720Z"},"isSnapshotUpdate":false}
{"parentUuid":"cde292c2-a892-4cb8-802d-3f36685e3670","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":"update changelog.md as well"},"uuid":"1f6b1f57-8753-42e0-993e-43b3e584e051","timestamp":"2026-02-13T15:20:51.596Z","thinkingMetadata":{"maxThinkingTokens":31999},"permissionMode":"acceptEdits"}
{"parentUuid":"1f6b1f57-8753-42e0-993e-43b3e584e051","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_011kT9V6sDrZ3krUsFnQUPLM","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01QxxVgSTyptKg3aJURsH2ps","name":"Read","input":{"file_path":"/Users/cedricteyton/Code/agents-md-evaluator/CHANGELOG.md","limit":50}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":87949,"cache_read_input_tokens":16195,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":87949},"output_tokens":26,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY6J4TRu26aditYCK9qBs","type":"assistant","uuid":"430f4ebe-6fe4-4635-89a5-56a0733d4a54","timestamp":"2026-02-13T15:20:57.094Z"}
{"parentUuid":"430f4ebe-6fe4-4635-89a5-56a0733d4a54","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_01QxxVgSTyptKg3aJURsH2ps","toolUseID":"toolu_01QxxVgSTyptKg3aJURsH2ps","timestamp":"2026-02-13T15:20:57.121Z","uuid":"f2c862eb-b2b9-4f79-9591-1dd44f97611f"}
{"parentUuid":"430f4ebe-6fe4-4635-89a5-56a0733d4a54","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01QxxVgSTyptKg3aJURsH2ps","type":"tool_result","content":"     1→# [Unreleased]\n     2→\n     3→## Added\n     4→\n     5→- **Remediation module redesign**: Issue-level selection workflow replaces evaluator-checklist approach\n     6→  - \"Add to remediate\" (+) button on each issue card in Errors and Suggestions tabs\n     7→  - \"Add all to remediation\" bulk action button in each tab\n     8→  - Remediate tab shows compact selected issues list grouped by type (errors/suggestions)\n     9→  - Badge count on Remediate tab showing number of selected issues\n    10→  - SelectionSummaryBar \"Remediate\" action navigates directly to the Remediate tab\n    11→  - Individual issue removal from remediation queue via (X) button\n    12→- Run suggestion evaluators when no AGENTS.md or CLAUDE.md files are found, providing actionable suggestions about what documentation to create\n    13→- OpenAI Codex provider (`--agent codex`)\n    14→- `--concurrency` CLI option to control parallel evaluator execution\n    15→- Advanced CLI options: `--timeout`, `--linked-docs-concurrency`, `--enable-assessment-features`\n    16→- Remediation API route (`POST /api/remediation/generate-prompts`) accepting issues directly\n    17→\n    18→\n    19→## Fixed\n    20→\n    21→- Suppress false positive severity-9 conflicts when colocated AGENTS.md/CLAUDE.md contain `@` file reference annotations (e.g., `@CLAUDE.md` pointing to the companion file)\n    22→- File deduplication now drops pointer files containing only `@` references, keeping only the referenced content file\n    23→\n    24→## Changed\n    25→\n    26→- Remediation API accepts `issues` array instead of `selectedEvaluators` for direct issue-to-prompt generation\n    27→- Issue selection buttons and SelectionSummaryBar no longer gated behind `assessmentEnabled` feature flag\n    28→- Updated evaluator filter counts in CLI help (17 total, 13 errors, 4 suggestions)\n    29→\n    30→# [0.2.0] - 2026-02-10\n    31→\n    32→## Added\n    33→\n    34→- Add \"Issues\" module that centralize all issues from all evaluations\n    35→- Add \"Batch mode\" to process multiple git repositories\n    36→- Add \"Stats\" page to see overall statistics from all evaluations, as well as insights regarding costs\n    37→- When submitting one or multiple repositories to analyze, users can select errors and suggestions to check\n    38→- Add sorting controls to Recent Evaluations page (by date, name, grade, or number of errors)\n    39→- Add per-evaluator token consumption stats and context identification token tracking to the Stats page\n    40→\n    41→## Fixed\n    42→\n    43→- GH Copilot CLI execution runtime issues were fixed\n    44→- Evaluators now have as context the .gitignore to ensure they won't raise issues regarding folders and files ignored\n    45→- Evaluator cross-file issues were silently dropped in unified mode due to stale copies missing deduplication IDs\n    46→\n    47→# [0.0.1] - 2026-02-06\n    48→\n    49→## Added\n    50→"}]},"uuid":"a06adc95-9b8d-4c0b-8916-6e525df37594","timestamp":"2026-02-13T15:20:57.119Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/cedricteyton/Code/agents-md-evaluator/CHANGELOG.md","content":"# [Unreleased]\n\n## Added\n\n- **Remediation module redesign**: Issue-level selection workflow replaces evaluator-checklist approach\n  - \"Add to remediate\" (+) button on each issue card in Errors and Suggestions tabs\n  - \"Add all to remediation\" bulk action button in each tab\n  - Remediate tab shows compact selected issues list grouped by type (errors/suggestions)\n  - Badge count on Remediate tab showing number of selected issues\n  - SelectionSummaryBar \"Remediate\" action navigates directly to the Remediate tab\n  - Individual issue removal from remediation queue via (X) button\n- Run suggestion evaluators when no AGENTS.md or CLAUDE.md files are found, providing actionable suggestions about what documentation to create\n- OpenAI Codex provider (`--agent codex`)\n- `--concurrency` CLI option to control parallel evaluator execution\n- Advanced CLI options: `--timeout`, `--linked-docs-concurrency`, `--enable-assessment-features`\n- Remediation API route (`POST /api/remediation/generate-prompts`) accepting issues directly\n\n\n## Fixed\n\n- Suppress false positive severity-9 conflicts when colocated AGENTS.md/CLAUDE.md contain `@` file reference annotations (e.g., `@CLAUDE.md` pointing to the companion file)\n- File deduplication now drops pointer files containing only `@` references, keeping only the referenced content file\n\n## Changed\n\n- Remediation API accepts `issues` array instead of `selectedEvaluators` for direct issue-to-prompt generation\n- Issue selection buttons and SelectionSummaryBar no longer gated behind `assessmentEnabled` feature flag\n- Updated evaluator filter counts in CLI help (17 total, 13 errors, 4 suggestions)\n\n# [0.2.0] - 2026-02-10\n\n## Added\n\n- Add \"Issues\" module that centralize all issues from all evaluations\n- Add \"Batch mode\" to process multiple git repositories\n- Add \"Stats\" page to see overall statistics from all evaluations, as well as insights regarding costs\n- When submitting one or multiple repositories to analyze, users can select errors and suggestions to check\n- Add sorting controls to Recent Evaluations page (by date, name, grade, or number of errors)\n- Add per-evaluator token consumption stats and context identification token tracking to the Stats page\n\n## Fixed\n\n- GH Copilot CLI execution runtime issues were fixed\n- Evaluators now have as context the .gitignore to ensure they won't raise issues regarding folders and files ignored\n- Evaluator cross-file issues were silently dropped in unified mode due to stale copies missing deduplication IDs\n\n# [0.0.1] - 2026-02-06\n\n## Added\n","numLines":50,"startLine":1,"totalLines":56}},"sourceToolAssistantUUID":"430f4ebe-6fe4-4635-89a5-56a0733d4a54"}
{"parentUuid":"a06adc95-9b8d-4c0b-8916-6e525df37594","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_017QkJgR2dDNFgB7Km7rPaK9","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_013SJ6RLhJ72okA37B9nYPFC","name":"Edit","input":{"replace_all":false,"file_path":"/Users/cedricteyton/Code/agents-md-evaluator/CHANGELOG.md","old_string":"## Added\n\n- **Remediation module redesign**: Issue-level selection workflow replaces evaluator-checklist approach","new_string":"## Added\n\n- **Re-run evaluation from summary page**: \"Re-run\" button in the evaluation summary header allows re-running the same repository without navigating back to the home page, with an inline provider selector in non-cloud mode\n- **Remediation module redesign**: Issue-level selection workflow replaces evaluator-checklist approach"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":905,"cache_read_input_tokens":104144,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":905},"output_tokens":25,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY6J4nLSXLgiebq8NYvgR","type":"assistant","uuid":"5b135cae-1129-4ab8-b030-c8a48a08a8cb","timestamp":"2026-02-13T15:21:01.546Z"}
{"type":"file-history-snapshot","messageId":"5b135cae-1129-4ab8-b030-c8a48a08a8cb","snapshot":{"messageId":"1f6b1f57-8753-42e0-993e-43b3e584e051","trackedFileBackups":{"frontend/src/components/Summary.tsx":{"backupFileName":"3dfda6a17ea33c6c@v2","version":2,"backupTime":"2026-02-13T13:20:46.213Z"},"frontend/src/App.tsx":{"backupFileName":"a9c3aa9c76b64e9a@v2","version":2,"backupTime":"2026-02-13T13:20:46.213Z"},"CHANGELOG.md":{"backupFileName":"0ca13dc0d78f0789@v1","version":1,"backupTime":"2026-02-13T15:21:06.559Z"}},"timestamp":"2026-02-13T15:20:52.720Z"},"isSnapshotUpdate":true}
{"parentUuid":"5b135cae-1129-4ab8-b030-c8a48a08a8cb","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_013SJ6RLhJ72okA37B9nYPFC","toolUseID":"toolu_013SJ6RLhJ72okA37B9nYPFC","timestamp":"2026-02-13T15:21:06.562Z","uuid":"2d6ef868-eb0f-42b4-a941-7468f0d02907"}
{"parentUuid":"5b135cae-1129-4ab8-b030-c8a48a08a8cb","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_013SJ6RLhJ72okA37B9nYPFC","type":"tool_result","content":"The file /Users/cedricteyton/Code/agents-md-evaluator/CHANGELOG.md has been updated successfully."}]},"uuid":"7d1e1061-94d1-4e14-b797-5ca13c800550","timestamp":"2026-02-13T15:21:06.561Z","toolUseResult":{"filePath":"/Users/cedricteyton/Code/agents-md-evaluator/CHANGELOG.md","oldString":"## Added\n\n- **Remediation module redesign**: Issue-level selection workflow replaces evaluator-checklist approach","newString":"## Added\n\n- **Re-run evaluation from summary page**: \"Re-run\" button in the evaluation summary header allows re-running the same repository without navigating back to the home page, with an inline provider selector in non-cloud mode\n- **Remediation module redesign**: Issue-level selection workflow replaces evaluator-checklist approach","originalFile":"# [Unreleased]\n\n## Added\n\n- **Remediation module redesign**: Issue-level selection workflow replaces evaluator-checklist approach\n  - \"Add to remediate\" (+) button on each issue card in Errors and Suggestions tabs\n  - \"Add all to remediation\" bulk action button in each tab\n  - Remediate tab shows compact selected issues list grouped by type (errors/suggestions)\n  - Badge count on Remediate tab showing number of selected issues\n  - SelectionSummaryBar \"Remediate\" action navigates directly to the Remediate tab\n  - Individual issue removal from remediation queue via (X) button\n- Run suggestion evaluators when no AGENTS.md or CLAUDE.md files are found, providing actionable suggestions about what documentation to create\n- OpenAI Codex provider (`--agent codex`)\n- `--concurrency` CLI option to control parallel evaluator execution\n- Advanced CLI options: `--timeout`, `--linked-docs-concurrency`, `--enable-assessment-features`\n- Remediation API route (`POST /api/remediation/generate-prompts`) accepting issues directly\n\n\n## Fixed\n\n- Suppress false positive severity-9 conflicts when colocated AGENTS.md/CLAUDE.md contain `@` file reference annotations (e.g., `@CLAUDE.md` pointing to the companion file)\n- File deduplication now drops pointer files containing only `@` references, keeping only the referenced content file\n\n## Changed\n\n- Remediation API accepts `issues` array instead of `selectedEvaluators` for direct issue-to-prompt generation\n- Issue selection buttons and SelectionSummaryBar no longer gated behind `assessmentEnabled` feature flag\n- Updated evaluator filter counts in CLI help (17 total, 13 errors, 4 suggestions)\n\n# [0.2.0] - 2026-02-10\n\n## Added\n\n- Add \"Issues\" module that centralize all issues from all evaluations\n- Add \"Batch mode\" to process multiple git repositories\n- Add \"Stats\" page to see overall statistics from all evaluations, as well as insights regarding costs\n- When submitting one or multiple repositories to analyze, users can select errors and suggestions to check\n- Add sorting controls to Recent Evaluations page (by date, name, grade, or number of errors)\n- Add per-evaluator token consumption stats and context identification token tracking to the Stats page\n\n## Fixed\n\n- GH Copilot CLI execution runtime issues were fixed\n- Evaluators now have as context the .gitignore to ensure they won't raise issues regarding folders and files ignored\n- Evaluator cross-file issues were silently dropped in unified mode due to stale copies missing deduplication IDs\n\n# [0.0.1] - 2026-02-06\n\n## Added\n\n- Initial version of context-evaluator\n\n[0.3.0]: https://github.com/PackmindHub/context-evaluator/compare/release/0.2.0...release/0.3.0\n[0.2.0]: https://github.com/PackmindHub/context-evaluator/compare/release/0.0.1...release/0.2.0\n[0.0.1]: https://github.com/PackmindHub/context-evaluator/compare/5c44587a...release/0.0.1\n","structuredPatch":[{"oldStart":2,"oldLines":6,"newStart":2,"newLines":7,"lines":[" "," ## Added"," ","+- **Re-run evaluation from summary page**: \"Re-run\" button in the evaluation summary header allows re-running the same repository without navigating back to the home page, with an inline provider selector in non-cloud mode"," - **Remediation module redesign**: Issue-level selection workflow replaces evaluator-checklist approach","   - \"Add to remediate\" (+) button on each issue card in Errors and Suggestions tabs","   - \"Add all to remediation\" bulk action button in each tab"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"5b135cae-1129-4ab8-b030-c8a48a08a8cb"}
{"parentUuid":"7d1e1061-94d1-4e14-b797-5ca13c800550","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_01TsACVWsNG6MNgLs5Sj5Zpx","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01B8i913dnvA8TggzVEvfNkc","name":"Bash","input":{"command":"git add CHANGELOG.md && git commit -m \"$(cat <<'EOF'\nAdd re-run evaluation entry to changelog\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n)\"","description":"Commit changelog update"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":265,"cache_read_input_tokens":105049,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":265},"output_tokens":26,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY6J5U4sGEMkh37fQo9wS","type":"assistant","uuid":"f38346e3-efc7-4c02-85f2-bae5e50c88fa","timestamp":"2026-02-13T15:21:11.662Z"}
{"parentUuid":"f38346e3-efc7-4c02-85f2-bae5e50c88fa","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"bash_progress","output":" 2614 expect() calls\nRan 1219 tests across 56 files. [714.00ms]\n$ biome check --error-on-warnings\nChecked 272 files in 79ms. No fixes applied.\n$ tsc --noEmit","fullOutput":"      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:103:51)\n[15:21:12.210] [ConcurrencyLimiter] Task 1 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:70:3)\n      at new Promise (1:11)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:33:9)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:25:2)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:26)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:103:51)\n[15:21:12.210] [ConcurrencyLimiter] Task 2 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:65:7)\nsrc/shared/evaluation/semantic-deduplicator.test.ts:\n[SemanticDeduplicator] Semantic deduplication failed: AI provider failed\nsrc/api/routes/evaluation.test.ts:\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 178 | \t\t\texpect(response.status).toBe(202);\n179 | \t\t});\n180 | \n181 | \t\ttest(\"should return 429 when queue is full\", async () => {\n182 | \t\t\tconst mockManager = createMockJobManager({\n183 | \t\t\t\tsubmitJobError: new Error(\"Job queue is at capacity\"),\n                              ^\nerror: Job queue is at capacity\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:183:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:181:48)\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo1\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo2\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo3\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 309 | \t\t\texpect(response2.status).toBe(202);\n310 | \t\t});\n311 | \n312 | \t\ttest(\"should return 500 for other errors\", async () => {\n313 | \t\t\tconst mockManager = createMockJobManager({\n314 | \t\t\t\tsubmitJobError: new Error(\"Database connection failed\"),\n                              ^\nerror: Database connection failed\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:314:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:312:46)\n[EvaluationRepository] Deleted evaluation eval-to-delete\n[EvaluationRepository] Deleted all evaluations (2 records)\n 1219 pass\n 0 fail\n 2614 expect() calls\nRan 1219 tests across 56 files. [714.00ms]\n$ biome check --error-on-warnings\nChecked 272 files in 79ms. No fixes applied.\n$ tsc --noEmit","elapsedTimeSeconds":2,"totalLines":142},"toolUseID":"bash-progress-0","parentToolUseID":"toolu_01B8i913dnvA8TggzVEvfNkc","uuid":"012742b7-2c3b-4d21-8dea-df9a026f32ad","timestamp":"2026-02-13T15:21:13.675Z"}
{"parentUuid":"012742b7-2c3b-4d21-8dea-df9a026f32ad","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"bash_progress","output":" 2614 expect() calls\nRan 1219 tests across 56 files. [714.00ms]\n$ biome check --error-on-warnings\nChecked 272 files in 79ms. No fixes applied.\n$ tsc --noEmit","fullOutput":"      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:103:51)\n[15:21:12.210] [ConcurrencyLimiter] Task 1 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:70:3)\n      at new Promise (1:11)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:33:9)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:25:2)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:26)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:103:51)\n[15:21:12.210] [ConcurrencyLimiter] Task 2 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:65:7)\nsrc/shared/evaluation/semantic-deduplicator.test.ts:\n[SemanticDeduplicator] Semantic deduplication failed: AI provider failed\nsrc/api/routes/evaluation.test.ts:\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 178 | \t\t\texpect(response.status).toBe(202);\n179 | \t\t});\n180 | \n181 | \t\ttest(\"should return 429 when queue is full\", async () => {\n182 | \t\t\tconst mockManager = createMockJobManager({\n183 | \t\t\t\tsubmitJobError: new Error(\"Job queue is at capacity\"),\n                              ^\nerror: Job queue is at capacity\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:183:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:181:48)\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo1\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo2\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo3\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 309 | \t\t\texpect(response2.status).toBe(202);\n310 | \t\t});\n311 | \n312 | \t\ttest(\"should return 500 for other errors\", async () => {\n313 | \t\t\tconst mockManager = createMockJobManager({\n314 | \t\t\t\tsubmitJobError: new Error(\"Database connection failed\"),\n                              ^\nerror: Database connection failed\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:314:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:312:46)\n[EvaluationRepository] Deleted evaluation eval-to-delete\n[EvaluationRepository] Deleted all evaluations (2 records)\n 1219 pass\n 0 fail\n 2614 expect() calls\nRan 1219 tests across 56 files. [714.00ms]\n$ biome check --error-on-warnings\nChecked 272 files in 79ms. No fixes applied.\n$ tsc --noEmit","elapsedTimeSeconds":3,"totalLines":142},"toolUseID":"bash-progress-1","parentToolUseID":"toolu_01B8i913dnvA8TggzVEvfNkc","uuid":"c666015e-c1b1-4faf-a303-1c6ee269bc0f","timestamp":"2026-02-13T15:21:14.678Z"}
{"parentUuid":"c666015e-c1b1-4faf-a303-1c6ee269bc0f","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"bash_progress","output":" 2614 expect() calls\nRan 1219 tests across 56 files. [714.00ms]\n$ biome check --error-on-warnings\nChecked 272 files in 79ms. No fixes applied.\n$ tsc --noEmit","fullOutput":"      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:103:51)\n[15:21:12.210] [ConcurrencyLimiter] Task 1 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:70:3)\n      at new Promise (1:11)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:33:9)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:25:2)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:26)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:103:51)\n[15:21:12.210] [ConcurrencyLimiter] Task 2 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:65:7)\nsrc/shared/evaluation/semantic-deduplicator.test.ts:\n[SemanticDeduplicator] Semantic deduplication failed: AI provider failed\nsrc/api/routes/evaluation.test.ts:\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 178 | \t\t\texpect(response.status).toBe(202);\n179 | \t\t});\n180 | \n181 | \t\ttest(\"should return 429 when queue is full\", async () => {\n182 | \t\t\tconst mockManager = createMockJobManager({\n183 | \t\t\t\tsubmitJobError: new Error(\"Job queue is at capacity\"),\n                              ^\nerror: Job queue is at capacity\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:183:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:181:48)\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo1\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo2\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo3\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 309 | \t\t\texpect(response2.status).toBe(202);\n310 | \t\t});\n311 | \n312 | \t\ttest(\"should return 500 for other errors\", async () => {\n313 | \t\t\tconst mockManager = createMockJobManager({\n314 | \t\t\t\tsubmitJobError: new Error(\"Database connection failed\"),\n                              ^\nerror: Database connection failed\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:314:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:312:46)\n[EvaluationRepository] Deleted evaluation eval-to-delete\n[EvaluationRepository] Deleted all evaluations (2 records)\n 1219 pass\n 0 fail\n 2614 expect() calls\nRan 1219 tests across 56 files. [714.00ms]\n$ biome check --error-on-warnings\nChecked 272 files in 79ms. No fixes applied.\n$ tsc --noEmit","elapsedTimeSeconds":4,"totalLines":142},"toolUseID":"bash-progress-2","parentToolUseID":"toolu_01B8i913dnvA8TggzVEvfNkc","uuid":"31c0b21b-3229-4f13-88dd-34624e3ff510","timestamp":"2026-02-13T15:21:15.679Z"}
{"parentUuid":"f38346e3-efc7-4c02-85f2-bae5e50c88fa","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01B8i913dnvA8TggzVEvfNkc","type":"tool_result","content":"[main b67cccf] Add re-run evaluation entry to changelog\n 1 file changed, 1 insertion(+)\n$ bun test src/\nbun test v1.3.5 (1e86cebd)\n\nsrc/shared/claude/response-parser.test.ts:\n[Parser] Warning: Could not parse evaluator response as JSON array\n[Parser] Warning: Could not parse evaluator response as JSON array\n[SnippetExtractor] Line range 20-25 exceeds file length 10, clamping to 10-10\n[SnippetExtractor] Line range 8-15 exceeds file length 10, clamping to 8-10\n[SnippetExtractor] Line range 71-75 exceeds file length 57, clamping to 57-57\n[SnippetExtractor] Line range 10-15 exceeds file length 3, clamping to 3-3\n[Parser] Multi-file validation warning: Issue \"Untitled\" missing file reference in multi-file context. This issue will be assigned to first file by default, which may be incorrect.\n[Parser] Multi-file validation warning: Issue \"Test Issue\" missing file reference in multi-file context. This issue will be assigned to first file by default, which may be incorrect.\n[Parser] Multi-file validation warning: Issue \"Untitled\" missing file reference in multi-file context. This issue will be assigned to first file by default, which may be incorrect.\n[Parser] Warning: Could not parse evaluator response as JSON array\n\nsrc/shared/utils/concurrency-limiter.test.ts:\n[15:21:12.209] [ConcurrencyLimiter] Task 2 failed: 84 | \n85 | \t\ttest(\"should handle errors without stopping other tasks\", async () => {\n86 | \t\t\tconst items = [1, 2, 3, 4, 5];\n87 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async (item) => {\n88 | \t\t\t\tif (item === 3) {\n89 | \t\t\t\t\tthrow new Error(\"Item 3 failed\");\n                    ^\nerror: Item 3 failed\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:89:16)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:87:67)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:65:7)\n\n[15:21:12.210] [ConcurrencyLimiter] Task 0 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:70:3)\n      at new Promise (1:11)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:33:9)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:25:2)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:26)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:103:51)\n\n[15:21:12.210] [ConcurrencyLimiter] Task 1 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:70:3)\n      at new Promise (1:11)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:33:9)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:25:2)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:26)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:103:51)\n\n[15:21:12.210] [ConcurrencyLimiter] Task 2 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:65:7)\n\n\nsrc/shared/evaluation/semantic-deduplicator.test.ts:\n[SemanticDeduplicator] Semantic deduplication failed: AI provider failed\n\nsrc/api/routes/evaluation.test.ts:\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 178 | \t\t\texpect(response.status).toBe(202);\n179 | \t\t});\n180 | \n181 | \t\ttest(\"should return 429 when queue is full\", async () => {\n182 | \t\t\tconst mockManager = createMockJobManager({\n183 | \t\t\t\tsubmitJobError: new Error(\"Job queue is at capacity\"),\n                              ^\nerror: Job queue is at capacity\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:183:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:181:48)\n\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo1\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo2\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo3\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 309 | \t\t\texpect(response2.status).toBe(202);\n310 | \t\t});\n311 | \n312 | \t\ttest(\"should return 500 for other errors\", async () => {\n313 | \t\t\tconst mockManager = createMockJobManager({\n314 | \t\t\t\tsubmitJobError: new Error(\"Database connection failed\"),\n                              ^\nerror: Database connection failed\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:314:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:312:46)\n\n[EvaluationRepository] Deleted evaluation eval-to-delete\n[EvaluationRepository] Deleted all evaluations (2 records)\n\n 1219 pass\n 0 fail\n 2614 expect() calls\nRan 1219 tests across 56 files. [714.00ms]\n$ biome check --error-on-warnings\nChecked 272 files in 79ms. No fixes applied.\n$ tsc --noEmit","is_error":false}]},"uuid":"6a51c164-e8a3-48dc-a1a2-2f138f816a04","timestamp":"2026-02-13T15:21:15.768Z","toolUseResult":{"stdout":"[main b67cccf] Add re-run evaluation entry to changelog\n 1 file changed, 1 insertion(+)\n$ bun test src/\nbun test v1.3.5 (1e86cebd)\n\nsrc/shared/claude/response-parser.test.ts:\n[Parser] Warning: Could not parse evaluator response as JSON array\n[Parser] Warning: Could not parse evaluator response as JSON array\n[SnippetExtractor] Line range 20-25 exceeds file length 10, clamping to 10-10\n[SnippetExtractor] Line range 8-15 exceeds file length 10, clamping to 8-10\n[SnippetExtractor] Line range 71-75 exceeds file length 57, clamping to 57-57\n[SnippetExtractor] Line range 10-15 exceeds file length 3, clamping to 3-3\n[Parser] Multi-file validation warning: Issue \"Untitled\" missing file reference in multi-file context. This issue will be assigned to first file by default, which may be incorrect.\n[Parser] Multi-file validation warning: Issue \"Test Issue\" missing file reference in multi-file context. This issue will be assigned to first file by default, which may be incorrect.\n[Parser] Multi-file validation warning: Issue \"Untitled\" missing file reference in multi-file context. This issue will be assigned to first file by default, which may be incorrect.\n[Parser] Warning: Could not parse evaluator response as JSON array\n\nsrc/shared/utils/concurrency-limiter.test.ts:\n[15:21:12.209] [ConcurrencyLimiter] Task 2 failed: 84 | \n85 | \t\ttest(\"should handle errors without stopping other tasks\", async () => {\n86 | \t\t\tconst items = [1, 2, 3, 4, 5];\n87 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async (item) => {\n88 | \t\t\t\tif (item === 3) {\n89 | \t\t\t\t\tthrow new Error(\"Item 3 failed\");\n                    ^\nerror: Item 3 failed\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:89:16)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:87:67)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:65:7)\n\n[15:21:12.210] [ConcurrencyLimiter] Task 0 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:70:3)\n      at new Promise (1:11)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:33:9)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:25:2)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:26)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:103:51)\n\n[15:21:12.210] [ConcurrencyLimiter] Task 1 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:70:3)\n      at new Promise (1:11)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:33:9)\n      at runWithConcurrencyLimit (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:25:2)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:26)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:103:51)\n\n[15:21:12.210] [ConcurrencyLimiter] Task 2 failed: 101 | \t\t});\n102 | \n103 | \t\ttest(\"should handle all items throwing errors\", async () => {\n104 | \t\t\tconst items = [1, 2, 3];\n105 | \t\t\tconst results = await runWithConcurrencyLimit(items, 2, async () => {\n106 | \t\t\t\tthrow new Error(\"All fail\");\n                    ^\nerror: All fail\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:106:15)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.test.ts:105:72)\n      at runNext (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:55:5)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/shared/utils/concurrency-limiter.ts:65:7)\n\n\nsrc/shared/evaluation/semantic-deduplicator.test.ts:\n[SemanticDeduplicator] Semantic deduplication failed: AI provider failed\n\nsrc/api/routes/evaluation.test.ts:\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 178 | \t\t\texpect(response.status).toBe(202);\n179 | \t\t});\n180 | \n181 | \t\ttest(\"should return 429 when queue is full\", async () => {\n182 | \t\t\tconst mockManager = createMockJobManager({\n183 | \t\t\t\tsubmitJobError: new Error(\"Job queue is at capacity\"),\n                              ^\nerror: Job queue is at capacity\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:183:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:181:48)\n\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo1\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo2\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo3\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  localPath: \"/path/to/repo\",\n}\n[EvaluationRoutes] POST /api/evaluate\n[EvaluationRoutes] Request body: {\n  repositoryUrl: \"https://github.com/test/repo\",\n}\n[EvaluationRoutes] Error in POST /api/evaluate: 309 | \t\t\texpect(response2.status).toBe(202);\n310 | \t\t});\n311 | \n312 | \t\ttest(\"should return 500 for other errors\", async () => {\n313 | \t\t\tconst mockManager = createMockJobManager({\n314 | \t\t\t\tsubmitJobError: new Error(\"Database connection failed\"),\n                              ^\nerror: Database connection failed\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:314:25)\n      at <anonymous> (/Users/cedricteyton/Code/agents-md-evaluator/src/api/routes/evaluation.test.ts:312:46)\n\n[EvaluationRepository] Deleted evaluation eval-to-delete\n[EvaluationRepository] Deleted all evaluations (2 records)\n\n 1219 pass\n 0 fail\n 2614 expect() calls\nRan 1219 tests across 56 files. [714.00ms]\n$ biome check --error-on-warnings\nChecked 272 files in 79ms. No fixes applied.\n$ tsc --noEmit","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"f38346e3-efc7-4c02-85f2-bae5e50c88fa"}
{"parentUuid":"6a51c164-e8a3-48dc-a1a2-2f138f816a04","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","message":{"model":"claude-opus-4-6","id":"msg_013wv1XUeTWab2D5KkhQUG9X","type":"message","role":"assistant","content":[{"type":"text","text":"Committed as `b67cccf`. All 1219 tests pass, lint and typecheck clean."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":3074,"cache_read_input_tokens":105314,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":3074},"output_tokens":2,"service_tier":"standard","inference_geo":"not_available"}},"requestId":"req_011CY6J69KXTdHwFRP29HFmt","type":"assistant","uuid":"ddb9e18c-d702-48a5-95df-bf97ff398f35","timestamp":"2026-02-13T15:21:18.985Z"}
{"parentUuid":"ddb9e18c-d702-48a5-95df-bf97ff398f35","isSidechain":false,"userType":"external","cwd":"/Users/cedricteyton/Code/agents-md-evaluator","sessionId":"515da1e8-527b-4446-abff-fd9125fb6aac","version":"2.1.41","gitBranch":"main","slug":"humble-sprouting-sketch","type":"progress","data":{"type":"hook_progress","hookEvent":"Stop","hookName":"Stop","command":"entire hooks claude-code stop"},"parentToolUseID":"a35e98a1-f839-4c7c-b4f7-12c1d94b00eb","toolUseID":"a35e98a1-f839-4c7c-b4f7-12c1d94b00eb","timestamp":"2026-02-13T15:21:19.071Z","uuid":"09701125-8acc-48e1-9e29-afae6d263944"}
